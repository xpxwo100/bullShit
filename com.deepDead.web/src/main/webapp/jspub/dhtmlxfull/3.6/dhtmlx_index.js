/*
Copyright DHTMLX LTD. http://www.dhtmlx.com
To use this library please contact sales@dhtmlx.com to obtain license
*/
dhtmlx=function(a){for(var c in a)dhtmlx[c]=a[c];return dhtmlx};dhtmlx.extend_api=function(a,c,b){var d=window[a];if(d)window[a]=function(a){if(a&&typeof a=="object"&&!a.tagName){var b=d.apply(this,c._init?c._init(a):arguments),g;for(g in dhtmlx)if(c[g])this[c[g]](dhtmlx[g]);for(g in a)if(c[g])this[c[g]](a[g]);else g.indexOf("on")==0&&this.attachEvent(g,a[g])}else b=d.apply(this,arguments);c._patch&&c._patch(this);return b||this},window[a].prototype=d.prototype,b&&dhtmlXHeir(window[a].prototype,b)};
dhtmlxAjax={get:function(a,c){var b=new dtmlXMLLoaderObject(!0);b.async=arguments.length<3;b.waitCall=c;b.loadXML(a);return b},post:function(a,c,b){var d=new dtmlXMLLoaderObject(!0);d.async=arguments.length<4;d.waitCall=b;d.loadXML(a,!0,c);return d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,c){return this.post(a,c,null,!0)}};
function dtmlXMLLoaderObject(a,c,b,d){this.xmlDoc="";this.async=typeof b!="undefined"?b:!0;this.onloadAction=a||null;this.mainObject=c||null;this.waitCall=null;this.rSeed=d||!1;return this}dtmlXMLLoaderObject.count=0;
dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var c=!0;return this.check=function(){if(a&&a.onloadAction!=null&&(!a.xmlDoc.readyState||a.xmlDoc.readyState==4)&&c){c=!1;dtmlXMLLoaderObject.count++;if(typeof a.onloadAction=="function")a.onloadAction(a.mainObject,null,null,null,a);if(a.waitCall)a.waitCall.call(this,a),a.waitCall=null}}};
dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,c){if(this.xmlDoc.responseXML){var b=this.xmlDoc.responseXML.getElementsByTagName(a);b.length==0&&a.indexOf(":")!=-1&&(b=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));var d=b[0]}else d=this.xmlDoc.documentElement;if(d)return this._retry=!1,d;if(!this._retry&&_isIE)return this._retry=!0,c=this.xmlDoc,this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(a,c);dhtmlxError.throwError("LoadXML","Incorrect XML",
[c||this.xmlDoc,this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(a,c){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(a);else{var b=new DOMParser;this.xmlDoc=b.parseFromString(a,"text/xml")}if(!c){if(this.onloadAction)this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall)this.waitCall(),this.waitCall=null}};
dtmlXMLLoaderObject.prototype.loadXML=function(a,c,b,d){this.rSeed&&(a+=(a.indexOf("?")!=-1?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(this.async)this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);this.xmlDoc.open(c?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type",
"text/xml")):c&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(b);this.async||(new this.waitLoadFunction(this))()};
dtmlXMLLoaderObject.prototype.destructor=function(){return this.setXSLParamValue=this.getXMLTopNode=this.xmlNodeToJSON=this.doSerialization=this.loadXMLString=this.loadXML=this.doXSLTransToString=this.doXSLTransToObject=this.doXPathOpera=this.doXPath=this.xmlDoc=this.mainObject=this.onloadAction=this.filePath=this.rSeed=this.async=this._retry=this._getAllNamedChilds=this._filterXPath=null};
dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var c={},b=0;b<a.attributes.length;b++)c[a.attributes[b].name]=a.attributes[b].value;c._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(b=0;b<a.childNodes.length;b++){var d=a.childNodes[b].tagName;d&&(c[d]||(c[d]=[]),c[d].push(this.xmlNodeToJSON(a.childNodes[b])))}return c};function callerFunction(a,c){return this.handler=function(b){if(!b)b=window.event;a(b,c);return!0}}function getAbsoluteLeft(a){return getOffset(a).left}
function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var c=0,b=0;a;)c+=parseInt(a.offsetTop),b+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:c,left:b}}
function getOffsetRect(a){var c=a.getBoundingClientRect(),b=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||b.scrollTop,f=window.pageXOffset||d.scrollLeft||b.scrollLeft,g=d.clientTop||b.clientTop||0,h=d.clientLeft||b.clientLeft||0,i=c.top+e-g,l=c.left+f-h;return{top:Math.round(i),left:Math.round(l)}}function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}
function convertStringToBoolean(a){typeof a=="string"&&(a=a.toLowerCase());switch(a){case "1":case "true":case "yes":case "y":case 1:case !0:return!0;default:return!1}}function getUrlSymbol(a){return a.indexOf("?")!=-1?"&":"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,c){a.onmousedown=this.preCreateDragCopy;a.dragStarter=c;this.addDragLanding(a,c)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,c){a.dragLanding=c};
dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!((a||window.event)&&(a||event).button==2)){if(window.dhtmlDragAndDrop.waitDrag)return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(a);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=
document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return!1}};
dhtmlDragAndDropObject.prototype.callDrag=function(a){if(!a)a=window.event;dragger=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode)if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=
0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}else return dragger.stopDrag(a,!0);if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var c=dragger.gldragNode;if(dragger.gldragNode.old)c=dragger.gldragNode.old;c.parentNode.removeChild(c);var b=dragger.dragNode.pWindow;c.pWindow&&c.pWindow.dhtmlDragAndDrop.lastLanding&&c.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(c.pWindow.dhtmlDragAndDrop.lastLanding);if(_isIE){var d=document.createElement("Div");d.innerHTML=
dragger.dragNode.outerHTML;dragger.dragNode=d.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);b.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?dragger.fx*-1:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?dragger.fy*-1:0)+(document.body.scrollTop||
document.documentElement.scrollTop)+"px";var e=a.srcElement?a.srcElement:a.target;dragger.checkLanding(e,a)}};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var c=parent.frames[window.name].frameElement.offsetParent,b=0,d=0;c;)b+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent;if(parent.dhtmlDragAndDrop){var e=parent.dhtmlDragAndDrop.calculateFramePosition(1);b+=e.split("_")[0]*1;d+=e.split("_")[1]*1}if(a)return b+"_"+d;else this.fx=b;this.fy=d}return"0_0"};
dhtmlDragAndDropObject.prototype.checkLanding=function(a,c){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,c.clientX,c.clientY,c),this.lastLanding_scr=_isIE?c.srcElement:c.target):a&&a.tagName!="BODY"?this.checkLanding(a.parentNode,c):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,c.clientX,c.clientY,c),this.lastLanding=
0,this._onNotFound&&this._onNotFound())};
dhtmlDragAndDropObject.prototype.stopDrag=function(a,c){dragger=window.dhtmlDragAndDrop;if(!c){dragger.stopFrameRoute();var b=dragger.lastLanding;dragger.lastLanding=null;b&&b.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,b,_isIE?event.srcElement:a.target)}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=
0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var c=0;c<window.frames.length;c++)try{window.frames[c]!=a&&window.frames[c].dhtmlDragAndDrop&&window.frames[c].dhtmlDragAndDrop.stopFrameRoute(window)}catch(b){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(d){}};
dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,c){if(a)window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&c&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition();
try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(b){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||c?1:0)}catch(e){}};_OperaRv=_KHTMLrv=_FFrv=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1;navigator.userAgent.indexOf("Macintosh")!=-1&&(_isMacOS=!0);navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0);
if(navigator.userAgent.indexOf("Safari")!=-1||navigator.userAgent.indexOf("Konqueror")!=-1)_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0;else if(navigator.userAgent.indexOf("Opera")!=-1)_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3));else if(navigator.appName.indexOf("Microsoft")!=-1){if(_isIE=!0,(navigator.appVersion.indexOf("MSIE 8.0")!=-1||navigator.appVersion.indexOf("MSIE 9.0")!=
-1||navigator.appVersion.indexOf("MSIE 10.0")!=-1)&&document.compatMode!="BackCompat")_isIE=8}else _isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]);
dtmlXMLLoaderObject.prototype.doXPath=function(a,c,b,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,c);if(_isIE)return c||(c=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),c||dhtmlxError.throwError("LoadXML","Incorrect XML",[c||this.xmlDoc,this.mainObject]),b!=null&&c.setProperty("SelectionNamespaces","xmlns:xsl='"+b+"'"),d=="single"?c.selectSingleNode(a):c.selectNodes(a)||[];else{var e=c;c||(c=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);c||dhtmlxError.throwError("LoadXML",
"Incorrect XML",[c||this.xmlDoc,this.mainObject]);c.nodeName.indexOf("document")!=-1?e=c:(e=c,c=c.ownerDocument);var f=XPathResult.ANY_TYPE;if(d=="single")f=XPathResult.FIRST_ORDERED_NODE_TYPE;var g=[],h=c.evaluate(a,e,function(){return b},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE)return h.singleNodeValue;for(var i=h.iterateNext();i;)g[g.length]=i,i=h.iterateNext();return g}};function K(){if(!this.catches)this.catches=[];return this}K.prototype.catchError=function(a,c){this.catches[a]=c};
K.prototype.throwError=function(a,c,b){if(this.catches[a])return this.catches[a](a,c,b);if(this.catches.ALL)return this.catches.ALL(a,c,b);alert("Error type: "+a+"\nDescription: "+c);return null};window.dhtmlxError=new K;
dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,c){var b=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!b.length)return[];if(b[0]==".")d=[c];else if(b[0]=="")d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(b[e].replace(/\[[^\]]*\]/g,"")),e++;else return[];for(;e<b.length;e++)d=this._getAllNamedChilds(d,b[e]);b[e-1].indexOf("[")!=-1&&(d=this._filterXPath(d,b[e-1]));return d};
dtmlXMLLoaderObject.prototype._filterXPath=function(a,c){for(var b=[],c=c.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++)a[d].getAttribute(c)&&(b[b.length]=a[d]);return b};
dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,c){var b=[];_isKHTML&&(c=c.toUpperCase());for(var d=0;d<a.length;d++)for(var e=0;e<a[d].childNodes.length;e++)_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==c&&(b[b.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==c&&(b[b.length]=a[d].childNodes[e]);return b};function dhtmlXHeir(a,c){for(var b in c)typeof c[b]=="function"&&(a[b]=c[b]);return a}
function dhtmlxEvent(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&a.attachEvent("on"+c,b)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,c,b){if(!b)b=this.xslDoc;if(b.responseXML)b=b.responseXML;var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",b,"http://www.w3.org/1999/XSL/Transform","single");if(d!=null)d.firstChild.nodeValue=c};
dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,c){if(!a)a=this.xslDoc;if(a.responseXML)a=a.responseXML;if(!c)c=this.xmlDoc;if(c.responseXML)c=c.responseXML;if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{c.transformNodeToObject(a,d)}catch(b){d=c.transformNode(a)}}else{if(!this.XSLProcessor)this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a);var d=this.XSLProcessor.transformToDocument(c)}return d};
dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,c){var b=this.doXSLTransToObject(a,c);return typeof b=="string"?b:this.doSerialization(b)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(!a)a=this.xmlDoc;if(a.responseXML)a=a.responseXML;if(_isIE)return a.xml;else{var c=new XMLSerializer;return c.serializeToString(a)}};
dhtmlxEventable=function(a){a.attachEvent=function(a,b,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(b)};a.callEvent=function(a,b){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,b):!0};a.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]};a.eventCatcher=function(a){var b=[],d=function(){for(var d=!0,f=0;f<b.length;f++)if(b[f]!=null)var g=b[f].apply(a,arguments),d=d&&g;return d};d.addEvent=function(a){typeof a!="function"&&
(a=eval(a));return a?b.push(a)-1:!1};d.removeEvent=function(a){b[a]=null};return d};a.detachEvent=function(a){if(a!=!1){var b=a.split(":");this[b[0]].removeEvent(b[1])}};a.detachAllEvents=function(){for(var a in this)a.indexOf("ev_")==0&&(this[a]=null)};a=null};if(!window.dhtmlx)window.dhtmlx={};
(function(){function a(a,c){var d=a.callback;b(!1);a.box.parentNode.removeChild(a.box);j=a.box=null;d&&d(c)}function c(b){if(j){var b=b||event,c=b.which||event.keyCode;dhtmlx.message.keyboard&&((c==13||c==32)&&a(j,!0),c==27&&a(j,!1));b.preventDefault&&b.preventDefault();return!(b.cancelBubble=!0)}}function b(a){if(!b.cover)b.cover=document.createElement("DIV"),b.cover.onkeydown=c,b.cover.className="dhx_modal_cover",document.body.appendChild(b.cover);var d=document.body.scrollHeight;b.cover.style.display=
a?"inline-block":"none"}function d(a,b){return"<div class='dhtmlx_popup_button' result='"+b+"' ><div>"+a+"</div></div>"}function e(a){if(!k.area)k.area=document.createElement("DIV"),k.area.className="dhtmlx_message_area",k.area.style[k.position]="5px",document.body.appendChild(k.area);k.hide(a.id);var b=document.createElement("DIV");b.innerHTML="<div>"+a.text+"</div>";b.className="dhtmlx-info dhtmlx-"+a.type;b.onclick=function(){k.hide(a.id);a=null};k.position=="bottom"&&k.area.firstChild?k.area.insertBefore(b,
k.area.firstChild):k.area.appendChild(b);a.expire>0&&(k.timers[a.id]=window.setTimeout(function(){k.hide(a.id)},a.expire));k.pull[a.id]=b;b=null;return a.id}function f(b,c,e){var g=document.createElement("DIV");g.className=" dhtmlx_modal_box dhtmlx-"+b.type;g.setAttribute("dhxbox",1);var h="";if(b.width)g.style.width=b.width;if(b.height)g.style.height=b.height;b.title&&(h+='<div class="dhtmlx_popup_title">'+b.title+"</div>");h+='<div class="dhtmlx_popup_text"><span>'+(b.content?"":b.text)+'</span></div><div  class="dhtmlx_popup_controls">';
c&&(h+=d(b.ok||"OK",!0));e&&(h+=d(b.cancel||"Cancel",!1));if(b.buttons)for(var f=0;f<b.buttons.length;f++)h+=d(b.buttons[f],f);h+="</div>";g.innerHTML=h;if(b.content){var i=b.content;typeof i=="string"&&(i=document.getElementById(i));if(i.style.display=="none")i.style.display="";g.childNodes[b.title?1:0].appendChild(i)}g.onclick=function(c){var c=c||event,d=c.target||c.srcElement;if(!d.className)d=d.parentNode;if(d.className=="dhtmlx_popup_button"){var e=d.getAttribute("result"),e=e=="true"||(e==
"false"?!1:e);a(b,e)}};b.box=g;if(c||e)j=b;return g}function g(a,d,e){var g=a.tagName?a:f(a,d,e);a.hidden||b(!0);document.body.appendChild(g);var h=a.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-g.offsetWidth)/2)),i=a.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-g.offsetHeight)/2));g.style.top=a.position=="top"?"-3px":i+"px";g.style.left=h+"px";g.onkeydown=c;g.focus();a.hidden&&dhtmlx.modalbox.hide(g);return g}function h(a){return g(a,
!0,!1)}function i(a){return g(a,!0,!0)}function l(a){return g(a)}function n(a,b,c){typeof a!="object"&&(typeof b=="function"&&(c=b,b=""),a={text:a,type:b,callback:c});return a}function o(a,b,c,d){typeof a!="object"&&(a={text:a,type:b,expire:c,id:d});a.id=a.id||k.uid();a.expire=a.expire||k.expire;return a}var j=null;document.attachEvent?document.attachEvent("onkeydown",c):document.addEventListener("keydown",c,!0);dhtmlx.alert=function(){var a=n.apply(this,arguments);a.type=a.type||"confirm";return h(a)};
dhtmlx.confirm=function(){var a=n.apply(this,arguments);a.type=a.type||"alert";return i(a)};dhtmlx.modalbox=function(){var a=n.apply(this,arguments);a.type=a.type||"alert";return l(a)};dhtmlx.modalbox.hide=function(a){for(;a&&a.getAttribute&&!a.getAttribute("dhxbox");)a=a.parentNode;a&&(a.parentNode.removeChild(a),b(!1))};var k=dhtmlx.message=function(a,b,c,d){a=o.apply(this,arguments);a.type=a.type||"info";var g=a.type.split("-")[0];switch(g){case "alert":return h(a);case "confirm":return i(a);case "modalbox":return l(a);
default:return e(a)}};k.seed=(new Date).valueOf();k.uid=function(){return k.seed++};k.expire=4E3;k.keyboard=!0;k.position="top";k.pull={};k.timers={};k.hideAll=function(){for(var a in k.pull)k.hide(a)};k.hide=function(a){var b=k.pull[a];b&&b.parentNode&&(window.setTimeout(function(){b.parentNode.removeChild(b);b=null},2E3),b.className+=" hidden",k.timers[a]&&window.clearTimeout(k.timers[a]),delete k.pull[a])}})();function xmlPointer(a){this.d=a}
xmlPointer.prototype={text:function(){if(!_isFF)return this.d.xml;var a=new XMLSerializer;return a.serializeToString(this.d)},get:function(a){return this.d.getAttribute(a)},exists:function(){return!!this.d},content:function(){return this.d.firstChild?this.d.firstChild.data:""},each:function(a,c,b,d){var e=this.d.childNodes,f=new xmlPointer;if(e.length)for(d=d||0;d<e.length;d++)if(e[d].tagName==a&&(f.d=e[d],c.apply(b,[f,d])==-1))break},get_all:function(){for(var a={},c=this.d.attributes,b=0;b<c.length;b++)a[c[b].name]=
c[b].value;return a},sub:function(a){var c=this.d.childNodes,b=new xmlPointer;if(c.length)for(var d=0;d<c.length;d++)if(c[d].tagName==a)return b.d=c[d],b},up:function(){return new xmlPointer(this.d.parentNode)},set:function(a,c){this.d.setAttribute(a,c)},clone:function(){return new xmlPointer(this.d)},sub_exists:function(a){var c=this.d.childNodes;if(c.length)for(var b=0;b<c.length;b++)if(c[b].tagName==a)return!0;return!1},through:function(a,c,b,d,e){var f=this.d.childNodes;if(f.length)for(var g=
0;g<f.length;g++){if(f[g].tagName==a&&f[g].getAttribute(c)!=null&&f[g].getAttribute(c)!=""&&(!b||f[g].getAttribute(c)==b)){var h=new xmlPointer(f[g]);d.apply(e,[h,g])}var i=this.d;this.d=f[g];this.through(a,c,b,d,e);this.d=i}}};
function dhtmlXTreeObject(a,c,b,d){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}this.parentObject=typeof a!="object"?document.getElementById(a):a;this.parentObject.style.overflow="hidden";this._itim_dg=!0;this.dlmtr=",";this.dropLower=!1;this.enableIEImageFix();this.xmlstate=0;this.mytype="tree";this.smcheck=!0;this.width=c;this.height=b;this.rootId=d;this.childCalc=null;this.def_line_img_y=this.def_line_img_x=this.def_img_y=this.def_img_x="18px";this._dragged=[];this._selected=
[];this.style_pointer="pointer";this._aimgs=!0;this.htmlcA=" [";this.htmlcB="]";this.lWin=window;this.mlitems=this.cMenu=0;this.iconURL="";this.dadmode=0;this.slowParse=!1;this.autoScroll=!0;this.hfMode=0;this.nodeCut=[];this.XMLloadingWarning=this.XMLsource=0;this._idpull={};this._pullSize=0;this.treeLinesOn=!0;this.tscheck=!1;this.timgen=!0;this.dpcpy=!1;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"";this.checkArray="iconUncheckAll.gif,iconCheckAll.gif,iconCheckGray.gif,iconUncheckDis.gif,iconCheckDis.gif,iconCheckDis.gif".split(",");
this.radioArray="radio_off.gif,radio_on.gif,radio_on.gif,radio_off.gif,radio_on.gif,radio_on.gif".split(",");this.lineArray="line2.gif,line3.gif,line4.gif,blank.gif,blank.gif,line1.gif".split(",");this.minusArray=["minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif"];this.plusArray=["plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif"];this.imageArray=["leaf.gif","folderOpen.gif","folderClosed.gif"];this.cutImg=[0,0,0];this.cutImage="but_cut.gif";dhtmlxEventable(this);this.dragger=
new dhtmlDragAndDropObject;this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree=this._createSelf();this.allTree.appendChild(this.htmlNode.htmlNode);dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this);if(_isFF)this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden";var f=this;this.allTree.onselectstart=
new Function("return false;");if(_isMacOS)this.allTree.oncontextmenu=function(a){return f._doContClick(a||window.event,!0)};this.allTree.onmousedown=function(a){return f._doContClick(a||window.event)};this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe);_isIE&&this.preventIECashing(!0);this.selectionBar=document.createElement("DIV");this.selectionBar.className="selectionBar";this.selectionBar.innerHTML="&nbsp;";this.selectionBar.style.display="none";this.allTree.appendChild(this.selectionBar);
window.addEventListener&&window.addEventListener("unload",function(){try{f.destructor()}catch(a){}},!1);window.attachEvent&&window.attachEvent("onunload",function(){try{f.destructor()}catch(a){}});this.setImagesPath=this.setImagePath;this.setIconsPath=this.setIconPath;dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path);dhtmlx.skin&&this.setSkin(dhtmlx.skin);return this}dhtmlXTreeObject.prototype.setDataMode=function(a){this._datamode=a};
dhtmlXTreeObject.prototype._doContClick=function(a,c){if(!c&&a.button!=2)return this._acMenu&&(this._acMenu.hideContextMenu?this._acMenu.hideContextMenu():this.cMenu._contextEnd()),!0;for(var b=_isIE?a.srcElement:a.target;b&&b.tagName!="BODY";){if(b.parentObject)break;b=b.parentNode}if(!b||!b.parentObject)return!0;var d=b.parentObject;if(!this.callEvent("onRightClick",[d.id,a]))(a.srcElement||a.target).oncontextmenu=function(a){(a||event).cancelBubble=!0;return!1};if(this._acMenu=d.cMenu||this.cMenu){if(!this.callEvent("onBeforeContextMenu",
[d.id]))return!0;if(!_isMacOS)(a.srcElement||a.target).oncontextmenu=function(a){(a||event).cancelBubble=!0;return!1};if(this._acMenu.showContextMenu){var e=window.document.documentElement,f=window.document.body,g=[e.scrollLeft||f.scrollLeft,e.scrollTop||f.scrollTop];if(_isIE)var h=a.clientX+g[0],i=a.clientY+g[1];else h=a.pageX,i=a.pageY;this._acMenu.showContextMenu(h-1,i-1);this.contextID=d.id;a.cancelBubble=!0;this._acMenu._skip_hide=!0}else b.contextMenuId=d.id,b.contextMenu=this._acMenu,b.a=this._acMenu._contextStart,
b.a(b,a),b.a=null;return!1}return!0};
dhtmlXTreeObject.prototype.enableIEImageFix=function(a){a?(this._getImg=function(){var a=document.createElement("DIV");a.innerHTML="&nbsp;";a.className="dhx_bg_img_fix";return a},this._setSrc=function(a,b){a.style.backgroundImage="url("+b+")"},this._getSrc=function(a){var b=a.style.backgroundImage;return b.substr(4,b.length-5).replace(/(^")|("$)/g,"")}):(this._getImg=function(a){return document.createElement(a==this.rootId?"div":"img")},this._setSrc=function(a,b){a.src=b},this._getSrc=function(a){return a.src})};
dhtmlXTreeObject.prototype.destructor=function(){for(var a in this._idpull){var c=this._idpull[a];if(c)c.parentObject=null,c.treeNod=null,c.childNodes=null,c.span=null,c.tr.nodem=null,c.tr=null,c.htmlNode.objBelong=null,c.htmlNode=null,this._idpull[a]=null}this.parentObject.innerHTML="";this.XMLLoader&&this.XMLLoader.destructor();this.allTree.onselectstart=null;this.allTree.oncontextmenu=null;this.allTree.onmousedown=null;for(a in this)this[a]=null};function cObject(){return this}
cObject.prototype={};cObject.prototype.clone=function(){function a(){}a.prototype=this;return new a};
function dhtmlXTreeItemObject(a,c,b,d,e,f){this.scolor=this.acolor=this.htmlNode="";this.span=this.dragMove=this.dragSpan=this.tempDOMU=this.tempDOMM=this.childsCount=this.tr=0;this.closeble=1;this.childNodes=[];this.userData=new cObject;this.checkstate=0;this.treeNod=d;this.label=c;this.parentObject=b;this.actionHandler=e;this.images=[d.imageArray[0],d.imageArray[1],d.imageArray[2]];this.id=d._globalIdStorageAdd(a,this);this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,f):this.treeNod._createItem(0,
this,f);this.htmlNode.objBelong=this;return this}dhtmlXTreeObject.prototype._globalIdStorageAdd=function(a,c){if(this._globalIdStorageFind(a,1,1))return a=a+"_"+(new Date).valueOf(),this._globalIdStorageAdd(a,c);this._idpull[a]=c;this._pullSize++;return a};dhtmlXTreeObject.prototype._globalIdStorageSub=function(a){this._idpull[a]&&(this._unselectItem(this._idpull[a]),this._idpull[a]=null,this._pullSize--);this._locker&&this._locker[a]&&(this._locker[a]=!1)};
dhtmlXTreeObject.prototype._globalIdStorageFind=function(a,c,b,d){var e=this._idpull[a];if(e){e.unParsed&&!b&&this.reParse(e,0);this._srnd&&!e.htmlNode&&this._buildSRND(e,b);if(d&&this._edsbpsA)for(var f=0;f<this._edsbpsA.length;f++)if(this._edsbpsA[f][2]==a)return dhtmlxError.throwError("getItem","Requested item still in parsing process.",a),null;return e}return this.slowParse&&a!=0&&!c?this.preParse(a):null};
dhtmlXTreeObject.prototype._getSubItemsXML=function(a){var c=[];a.each("item",function(a){c.push(a.get("id"))},this);return c.join(this.dlmtr)};dhtmlXTreeObject.prototype.enableSmartXMLParsing=function(a){this.slowParse=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.findXML=function(){};
dhtmlXTreeObject.prototype._getAllCheckedXML=function(a,c,b){var d=[];b==2&&a.through("item","checked",-1,function(a){d.push(a.get("id"))},this);b==1&&a.through("item","id",null,function(a){a.get("checked")&&a.get("checked")!=-1&&d.push(a.get("id"))},this);b==0&&a.through("item","id",null,function(a){(!a.get("checked")||a.get("checked")==0)&&d.push(a.get("id"))},this);return d.length?c+(c?this.dlmtr:"")+d.join(this.dlmtr):c?c:""};
dhtmlXTreeObject.prototype._setSubCheckedXML=function(a,c){var b=a?"1":"";c.through("item","id",null,function(a){(!a.get("disabled")||a.get("disabled")==0)&&a.set("checked",b)},this)};dhtmlXTreeObject.prototype._getAllScraggyItemsXML=function(a){var c=[],b=function(a){a.sub_exists("item")?a.each("item",b,this):c.push(a.get("id"))};b(a);return c.join(",")};
dhtmlXTreeObject.prototype._getAllFatItemsXML=function(a){var c=[],b=function(a){a.sub_exists("item")&&(c.push(a.get("id")),a.each("item",b,this))};b(a);return c.join(",")};dhtmlXTreeObject.prototype._getAllSubItemsXML=function(a,c,b){c=[];b.through("item","id",null,function(a){c.push(a.get("id"))},this);return c.join(",")};
dhtmlXTreeObject.prototype.reParse=function(a){var c=this;this.parsCount||c.callEvent("onXLS",[c,a.id]);this.xmlstate=1;var b=a.unParsed;a.unParsed=0;this.XMLloadingWarning=1;var d=this.parsingOn,e=this.waitUpdateXML,f=this.parsedArray;this.parsedArray=[];this.waitUpdateXML=!1;this.parsingOn=a.id;this.parsedArray=[];this.setCheckList="";this._parse(b,a.id,2);for(var g=this.setCheckList.split(this.dlmtr),h=0;h<this.parsedArray.length;h++)a.htmlNode.childNodes[0].appendChild(this.parsedArray[h]);b.get("order")&&
b.get("order")!="none"&&this._reorderBranch(a,b.get("order"),!0);this.oldsmcheck=this.smcheck;this.smcheck=!1;for(var i=0;i<g.length;i++)g[i]&&this.setCheck(g[i],1);this.smcheck=this.oldsmcheck;this.parsingOn=d;this.waitUpdateXML=e;this.parsedArray=f;this.XMLloadingWarning=0;this._redrawFrom(this,a);this._srnd&&!a._sready&&this.prepareSR(a.id);this.xmlstate=0;return!0};
dhtmlXTreeObject.prototype.preParse=function(a){if(!a||!this._p)return null;var c=!1;this._p.clone().through("item","id",a,function(a){this._globalIdStorageFind(a.up().get("id"));return c=!0},this);if(c){var b=this._globalIdStorageFind(a,!0,!1);b||dhtmlxError.throwError("getItem","The item "+a+" not operable. Seems you have non-unique|incorrect IDs in tree's XML.",a)}return b};
dhtmlXTreeObject.prototype._escape=function(a){switch(this.utfesc){case "none":return a;case "utf8":return encodeURIComponent(a);default:return escape(a)}};dhtmlXTreeObject.prototype._drawNewTr=function(a){var c=document.createElement("tr"),b=document.createElement("td"),d=document.createElement("td");b.appendChild(document.createTextNode(" "));d.colSpan=3;d.appendChild(a);c.appendChild(b);c.appendChild(d);return c};
dhtmlXTreeObject.prototype.loadXMLString=function(a,c){var b=this;this.parsCount||this.callEvent("onXLS",[b,null]);this.xmlstate=1;if(c)this.XMLLoader.waitCall=c;this.XMLLoader.loadXMLString(a)};
dhtmlXTreeObject.prototype.loadXML=function(a,c){if(this._datamode&&this._datamode!="xml")return this["load"+this._datamode.toUpperCase()](a,c);var b=this;this.parsCount||this.callEvent("onXLS",[b,this._ld_id]);this._ld_id=null;this.xmlstate=1;this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe);if(c)this.XMLLoader.waitCall=c;this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype._attachChildNode=function(a,c,b,d,e,f,g,h,i,l,n){if(l&&l.parentObject)a=l.parentObject;if(a.XMLload==0&&this.XMLsource&&!this.XMLloadingWarning)a.XMLload=1,this._loadDynXML(a.id);var o=a.childsCount,j=a.childNodes;if(n&&n.tr.previousSibling)n.tr.previousSibling.previousSibling?l=n.tr.previousSibling.nodem:h=h.replace("TOP","")+",TOP";if(l){var k,m;for(k=0;k<o;k++)if(j[k]==l){for(m=o;m!=k;m--)j[1+m]=j[m];break}k++;o=k}if(h)for(var p=h.split(","),s=0;s<p.length;s++)switch(p[s]){case "TOP":if(a.childsCount>
0)l={},l.tr=a.childNodes[0].tr.previousSibling;a._has_top=!0;for(k=o;k>0;k--)j[k]=j[k-1];o=0}var q;if(!(q=this._idpull[c])||q.span!=-1)q=j[o]=new dhtmlXTreeItemObject(c,b,a,this,d,1),c=j[o].id,a.childsCount++;if(!q.htmlNode)q.label=b,q.htmlNode=this._createItem(this.checkBoxOff?1:0,q),q.htmlNode.objBelong=q;e&&(q.images[0]=e);f&&(q.images[1]=f);g&&(q.images[2]=g);var r=this._drawNewTr(q.htmlNode);if(this.XMLloadingWarning||this._hAdI)q.htmlNode.parentNode.parentNode.style.display="none";l&&l.tr&&
l.tr.nextSibling?a.htmlNode.childNodes[0].insertBefore(r,l.tr.nextSibling):this.parsingOn==a.id?this.parsedArray[this.parsedArray.length]=r:a.htmlNode.childNodes[0].appendChild(r);l&&!l.span&&(l=null);if(this.XMLsource)q.XMLload=i&&i!=0?0:1;q.tr=r;r.nodem=q;if(a.itemId==0)r.childNodes[0].className="hiddenRow";(a._r_logic||this._frbtr)&&this._setSrc(q.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0]);if(h){p=h.split(",");for(s=0;s<p.length;s++)switch(p[s]){case "SELECT":this.selectItem(c,
!1);break;case "CALL":this.selectItem(c,!0);break;case "CHILD":q.XMLload=0;break;case "CHECKED":this.XMLloadingWarning?this.setCheckList+=this.dlmtr+c:this.setCheck(c,1);break;case "HCHECKED":this._setCheck(q,"unsure");break;case "OPEN":q.openMe=1}}if(!this.XMLloadingWarning&&(this._getOpenState(a)<0&&!this._hAdI&&this.openItem(a.id),l&&(this._correctPlus(l),this._correctLine(l)),this._correctPlus(a),this._correctLine(a),this._correctPlus(q),a.childsCount>=2&&(this._correctPlus(j[a.childsCount-2]),
this._correctLine(j[a.childsCount-2])),a.childsCount!=2&&this._correctPlus(j[0]),this.tscheck&&this._correctCheckStates(a),this._onradh))if(this.xmlstate==1){var w=this.onXLE;this.onXLE=function(a){this._onradh(c);w&&w(a)}}else this._onradh(c);return q};dhtmlXTreeObject.prototype.enableContextMenu=function(a){if(a)this.cMenu=a};
dhtmlXTreeObject.prototype.setItemContextMenu=function(a,c){for(var b=a.toString().split(this.dlmtr),d=0;d<b.length;d++){var e=this._globalIdStorageFind(b[d]);if(e)e.cMenu=c}};dhtmlXTreeObject.prototype.insertNewItem=function(a,c,b,d,e,f,g,h,i){var l=this._globalIdStorageFind(a);if(!l)return-1;var n=this._attachChildNode(l,c,b,d,e,f,g,h,i);if(!this._idpull[this.rootId].XMLload)this._idpull[this.rootId].XMLload=1;!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(l);return n};
dhtmlXTreeObject.prototype.insertNewChild=function(a,c,b,d,e,f,g,h,i){return this.insertNewItem(a,c,b,d,e,f,g,h,i)};dhtmlXTreeObject.prototype._parseXMLTree=function(a,c,b,d,e){var f=new xmlPointer(e.getXMLTopNode("tree"));a._parse(f);a._p=f};
dhtmlXTreeObject.prototype._parseItem=function(a,c,b,d){var e;if(this._srnd&&(!this._idpull[e=a.get("id")]||!this._idpull[e].span))this._addItemSRND(c.id,e,a);else{var f=a.get_all();if(typeof this.waitUpdateXML=="object"&&!this.waitUpdateXML[f.id])this._parse(a,f.id,1);else{if(f.text===null||typeof f.text=="undefined")if(f.text=a.sub("itemtext"),f.text)f.text=f.text.content();var g=[];f.select&&g.push("SELECT");f.top&&g.push("TOP");if(f.call)this.nodeAskingCall=f.id;f.checked==-1?g.push("HCHECKED"):
f.checked&&g.push("CHECKED");f.open&&g.push("OPEN");if(this.waitUpdateXML)if(this._globalIdStorageFind(f.id))var h=this.updateItem(f.id,f.text,f.im0,f.im1,f.im2,f.checked,f.child);else this.npl==0?g.push("TOP"):b=c.childNodes[this.npl],h=this._attachChildNode(c,f.id,f.text,0,f.im0,f.im1,f.im2,g.join(","),f.child,0,b),f.id=h.id,b=null;else h=this._attachChildNode(c,f.id,f.text,0,f.im0,f.im1,f.im2,g.join(","),f.child,d||0,b);if(f.tooltip)h.span.parentNode.parentNode.title=f.tooltip;f.style&&(h.span.style.cssText?
h.span.style.cssText+=";"+f.style:h.span.setAttribute("style",h.span.getAttribute("style")+"; "+f.style));if(f.radio)h._r_logic=!0;if(f.nocheckbox){var i=h.span.parentNode.previousSibling.previousSibling;i.style.display="none";h.nocheckbox=!0}f.disabled&&(f.checked!=null&&this._setCheck(h,f.checked),this.disableCheckbox(h,1));h._acc=f.child||0;this.parserExtension&&this.parserExtension._parseExtension.call(this,a,f,c?c.id:0);this.setItemColor(h,f.aCol,f.sCol);f.locked=="1"&&this.lockItem(h.id,!0,
!0);(f.imwidth||f.imheight)&&this.setIconSize(f.imwidth,f.imheight,h);(f.closeable=="0"||f.closeable=="1")&&this.setItemCloseable(h,f.closeable);var l="";f.topoffset&&this.setItemTopOffset(h,f.topoffset);if(!this.slowParse||typeof this.waitUpdateXML=="object")a.sub_exists("item")&&(l=this._parse(a,f.id,1));else{if(!h.childsCount&&a.sub_exists("item"))h.unParsed=a.clone();a.each("userdata",function(a){this.setUserData(f.id,a.get("name"),a.content())},this)}if(l!="")this.nodeAskingCall=l;a.each("userdata",
function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this)}}};
dhtmlXTreeObject.prototype._parse=function(a,c,b,d){if(this._srnd&&!this.parentObject.offsetHeight){var e=this;return window.setTimeout(function(){e._parse(a,c,b,d)},100)}if(a.exists()){this.skipLock=!0;if(!c){var c=a.get("id"),f=a.get("dhx_security");if(f)dhtmlx.security_key=f;if(a.get("radio"))this.htmlNode._r_logic=!0;this.parsingOn=c;this.parsedArray=[];this.nodeAskingCall=this.setCheckList=""}var g=this._globalIdStorageFind(c);if(!g)return dhtmlxError.throwError("DataStructure","XML refers to not existing parent");
this.parsCount=this.parsCount?this.parsCount+1:1;this.XMLloadingWarning=1;var h=g.childsCount&&!d&&!this._edsbps&&!g._has_top?0:0;this.npl=0;a.each("item",function(d,e){g.XMLload=1;this._parseItem(d,g,0,h);if(this._edsbps&&this.npl==this._edsbpsC)return this._distributedStart(a,e+1,c,b,g.childsCount),-1;this.npl++},this,d);if(!b){a.each("userdata",function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this);g.XMLload=1;if(this.waitUpdateXML){this.waitUpdateXML=!1;for(var i=g.childsCount-
1;i>=0;i--)g.childNodes[i]._dmark&&this.deleteItem(g.childNodes[i].id)}for(var l=this._globalIdStorageFind(this.parsingOn),i=0;i<this.parsedArray.length;i++)g.htmlNode.childNodes[0].appendChild(this.parsedArray[i]);this.parsedArray=[];this.lastLoadedXMLId=c;this.XMLloadingWarning=0;for(var n=this.setCheckList.split(this.dlmtr),o=0;o<n.length;o++)n[o]&&this.setCheck(n[o],1);this.XMLsource&&this.tscheck&&this.smcheck&&g.id!=this.rootId&&(g.checkstate===0?this._setSubChecked(0,g):g.checkstate===1&&this._setSubChecked(1,
g));this._redrawFrom(this,null,d);a.get("order")&&a.get("order")!="none"&&this._reorderBranch(g,a.get("order"),!0);this.nodeAskingCall!=""&&this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()]);this._branchUpdate&&this._branchUpdateNext(a)}if(this.parsCount==1){this.parsingOn=null;this._srnd&&g.id!=this.rootId&&(this.prepareSR(g.id),this.XMLsource&&this.openItem(g.id));a.through("item","open",null,function(a){this.openItem(a.get("id"))},this);if(!this._edsbps||!this._edsbpsA.length){var j=
this;window.setTimeout(function(){j.callEvent("onXLE",[j,c])},1);this.xmlstate=0}this.skipLock=!1}this.parsCount--;j=this;this._edsbps&&window.setTimeout(function(){j._distributedStep(c)},this._edsbpsD);if(!b&&this.onXLE)this.onXLE(this,c);return this.nodeAskingCall}};dhtmlXTreeObject.prototype._branchUpdateNext=function(a){a.each("item",function(a){var b=a.get("id");if(!this._idpull[b]||this._idpull[b].XMLload)this._branchUpdate++,this.smartRefreshItem(a.get("id"),a)},this);this._branchUpdate--};
dhtmlXTreeObject.prototype.checkUserData=function(a,c){if(a.nodeType==1&&a.tagName=="userdata"){var b=a.getAttribute("name");b&&a.childNodes[0]&&this.setUserData(c,b,a.childNodes[0].data)}};
dhtmlXTreeObject.prototype._redrawFrom=function(a,c,b,d){if(c)e=c;else{var e=a._globalIdStorageFind(a.lastLoadedXMLId);a.lastLoadedXMLId=-1;if(!e)return 0}for(var f=0,g=b?b-1:0;g<e.childsCount;g++){if(!this._branchUpdate||this._getOpenState(e)==1)if(!c||d==1)e.childNodes[g].htmlNode.parentNode.parentNode.style.display="";if(e.childNodes[g].openMe==1)this._openItem(e.childNodes[g]),e.childNodes[g].openMe=0;a._redrawFrom(a,e.childNodes[g]);if(this.childCalc!=null){if(e.childNodes[g].unParsed||!e.childNodes[g].XMLload&&
this.XMLsource)e.childNodes[g].span.innerHTML=e.childNodes[g]._acc?e.childNodes[g].label+this.htmlcA+e.childNodes[g]._acc+this.htmlcB:e.childNodes[g].label;if(e.childNodes[g].childNodes.length&&this.childCalc){if(this.childCalc==1)e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+e.childNodes[g].childsCount+this.htmlcB;if(this.childCalc==2){var h=e.childNodes[g].childsCount-(e.childNodes[g].pureChilds||0);if(h)e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+h+this.htmlcB;
e.pureChilds?e.pureChilds++:e.pureChilds=1}if(this.childCalc==3)e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+e.childNodes[g]._acc+this.htmlcB;if(this.childCalc==4&&(h=e.childNodes[g]._acc))e.childNodes[g].span.innerHTML=e.childNodes[g].label+this.htmlcA+h+this.htmlcB}else this.childCalc==4&&f++;f+=e.childNodes[g]._acc;this.childCalc==3&&f++}}if(!e.unParsed&&(e.XMLload||!this.XMLsource))e._acc=f;a._correctLine(e);a._correctPlus(e);this.childCalc&&!c&&a._fixChildCountLabel(e)};
dhtmlXTreeObject.prototype._createSelf=function(){var a=document.createElement("div");a.className="containerTableStyle";a.style.width=this.width;a.style.height=this.height;this.parentObject.appendChild(a);return a};dhtmlXTreeObject.prototype._xcloseAll=function(a){if(!a.unParsed){if(this.rootId!=a.id){if(!a.htmlNode)return;for(var c=a.htmlNode.childNodes[0].childNodes,b=c.length,d=1;d<b;d++)c[d].style.display="none";this._correctPlus(a)}for(d=0;d<a.childsCount;d++)a.childNodes[d].childsCount&&this._xcloseAll(a.childNodes[d])}};
dhtmlXTreeObject.prototype._xopenAll=function(a){this._HideShow(a,2);for(var c=0;c<a.childsCount;c++)this._xopenAll(a.childNodes[c])};
dhtmlXTreeObject.prototype._correctPlus=function(a){if(a.htmlNode){var c=a.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild,b=a.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0],d=this.lineArray;if(this.XMLsource&&!a.XMLload){if(d=this.plusArray,this._setSrc(b,this.iconURL+a.images[2]),this._txtimg)return c.innerHTML="[+]"}else if(a.childsCount||a.unParsed)if(a.htmlNode.childNodes[0].childNodes[1]&&a.htmlNode.childNodes[0].childNodes[1].style.display!="none"){if(!a.wsign)d=
this.minusArray;this._setSrc(b,this.iconURL+a.images[1]);if(this._txtimg)return c.innerHTML="[-]"}else{if(!a.wsign)d=this.plusArray;this._setSrc(b,this.iconURL+a.images[2]);if(this._txtimg)return c.innerHTML="[+]"}else this._setSrc(b,this.iconURL+a.images[0]);var e=2;a.treeNod.treeLinesOn?(a.parentObject&&(e=this._getCountStatus(a.id,a.parentObject)),this._setSrc(c,this.imPath+d[e])):this._setSrc(c,this.imPath+d[3])}};
dhtmlXTreeObject.prototype._correctLine=function(a){if(a.htmlNode){var c=a.parentObject;if(c)if(this._getLineStatus(a.id,c)==0||!this.treeLinesOn)for(var b=1;b<=a.childsCount;b++){if(!a.htmlNode.childNodes[0].childNodes[b])break;a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundImage="";a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundRepeat=""}else for(b=1;b<=a.childsCount;b++){if(!a.htmlNode.childNodes[0].childNodes[b])break;a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundImage=
"url("+this.imPath+this.lineArray[5]+")";a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundRepeat="repeat-y"}}};dhtmlXTreeObject.prototype._getCountStatus=function(a,c){return c.childsCount<=1?c.id==this.rootId?4:0:c.childNodes[0].id==a?c.id==this.rootId?2:1:c.childNodes[c.childsCount-1].id==a?0:1};dhtmlXTreeObject.prototype._getLineStatus=function(a,c){return c.childNodes[c.childsCount-1].id==a?0:1};
dhtmlXTreeObject.prototype._HideShow=function(a,c){if(this.XMLsource&&!a.XMLload){if(c!=1)a.XMLload=1,this._loadDynXML(a.id)}else{a.unParsed&&this.reParse(a);var b=a.htmlNode.childNodes[0].childNodes,d=b.length;if(d>1){(b[1].style.display!="none"||c==1)&&c!=2?(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0",nodestyle="none"):nodestyle="";for(var e=1;e<d;e++)b[e].style.display=nodestyle}this._correctPlus(a)}};
dhtmlXTreeObject.prototype._getOpenState=function(a){if(!a.htmlNode)return 0;var c=a.htmlNode.childNodes[0].childNodes;return c.length<=1?0:c[1].style.display!="none"?1:-1};
dhtmlXTreeObject.prototype.onRowClick2=function(){var a=this.parentObject.treeNod;if(!a.callEvent("onDblClick",[this.parentObject.id,a]))return!1;this.parentObject.closeble&&this.parentObject.closeble!="0"?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2);if(a.checkEvent("onOpenEnd"))a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)]);return!1};
dhtmlXTreeObject.prototype.onRowClick=function(){var a=this.parentObject.treeNod;if(!a.callEvent("onOpenStart",[this.parentObject.id,a._getOpenState(this.parentObject)]))return 0;this.parentObject.closeble&&this.parentObject.closeble!="0"?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2);if(a.checkEvent("onOpenEnd"))a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)])};
dhtmlXTreeObject.prototype._epnFHe=function(a,c,b){c!=this.rootId&&this.callEvent("onOpenEnd",[c,a.getOpenState(c)]);a.onXLE=a._oie_onXLE.pop();if(!b&&!a._oie_onXLE.length&&a.onXLE)a.onXLE(a,c)};dhtmlXTreeObject.prototype.onRowClickDown=function(a){var a=a||window.event,c=this.parentObject.treeNod;c._selectItem(this.parentObject,a)};dhtmlXTreeObject.prototype.getSelectedItemId=function(){for(var a=[],c=0;c<this._selected.length;c++)a[c]=this._selected[c].id;return a.join(this.dlmtr)};
dhtmlXTreeObject.prototype._selectItem=function(a,c){if(this.checkEvent("onSelect"))this._onSSCFold=this.getSelectedItemId();(!this._amsel||!c||!c.ctrlKey&&!c.metaKey&&!c.shiftKey)&&this._unselectItems();if(a.i_sel&&this._amsel&&c&&(c.ctrlKey||c.metaKey))this._unselectItem(a);else if(!a.i_sel&&(!this._amselS||this._selected.length==0||this._selected[0].parentObject==a.parentObject))if(this._amsel&&c&&c.shiftKey&&this._selected.length!=0&&this._selected[this._selected.length-1].parentObject==a.parentObject){var b=
this._getIndex(this._selected[this._selected.length-1]),d=this._getIndex(a);if(d<b)var e=b,b=d,d=e;for(var f=b;f<=d;f++)a.parentObject.childNodes[f].i_sel||this._markItem(a.parentObject.childNodes[f])}else this._markItem(a);if(this.checkEvent("onSelect")){var g=this.getSelectedItemId();g!=this._onSSCFold&&this.callEvent("onSelect",[g])}};
dhtmlXTreeObject.prototype._markItem=function(a){if(a.scolor)a.span.style.color=a.scolor;a.span.className="selectedTreeRow";a.i_sel=!0;this._selected[this._selected.length]=a};dhtmlXTreeObject.prototype.getIndexById=function(a){var c=this._globalIdStorageFind(a);return!c?null:this._getIndex(c)};dhtmlXTreeObject.prototype._getIndex=function(a){for(var c=a.parentObject,b=0;b<c.childsCount;b++)if(c.childNodes[b]==a)return b};
dhtmlXTreeObject.prototype._unselectItem=function(a){if(a&&a.i_sel){a.span.className="standartTreeRow";if(a.acolor)a.span.style.color=a.acolor;a.i_sel=!1;for(var c=0;c<this._selected.length;c++)if(!this._selected[c].i_sel){this._selected.splice(c,1);break}}};dhtmlXTreeObject.prototype._unselectItems=function(){for(var a=0;a<this._selected.length;a++){var c=this._selected[a];c.span.className="standartTreeRow";if(c.acolor)c.span.style.color=c.acolor;c.i_sel=!1}this._selected=[]};
dhtmlXTreeObject.prototype.onRowSelect=function(a,c,b){var a=a||window.event,d=this.parentObject;if(c)d=c.parentObject;var e=d.treeNod,f=e.getSelectedItemId();(!a||!a.skipUnSel)&&e._selectItem(d,a);b||(d.actionHandler?d.actionHandler(d.id,f):e.callEvent("onClick",[d.id,f]))};
dhtmlXTreeObject.prototype._correctCheckStates=function(a){if(this.tscheck&&a&&a.id!=this.rootId){var c=a.childNodes,b=0,d=0;if(a.childsCount!=0){for(var e=0;e<a.childsCount;e++)if(!c[e].dscheck)if(c[e].checkstate==0)b=1;else if(c[e].checkstate==1)d=1;else{d=b=1;break}b&&d?this._setCheck(a,"unsure"):b?this._setCheck(a,!1):this._setCheck(a,!0);this._correctCheckStates(a.parentObject)}}};
dhtmlXTreeObject.prototype.onCheckBoxClick=function(){if(this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate])){if(this.parentObject.dscheck)return!0;this.treeNod.tscheck?this.parentObject.checkstate==1?this.treeNod._setSubChecked(!1,this.parentObject):this.treeNod._setSubChecked(!0,this.parentObject):this.parentObject.checkstate==1?this.treeNod._setCheck(this.parentObject,!1):this.treeNod._setCheck(this.parentObject,!0);this.treeNod._correctCheckStates(this.parentObject.parentObject);
return this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])}};
dhtmlXTreeObject.prototype._createItem=function(a,c,b){var d=document.createElement("table");d.cellSpacing=0;d.cellPadding=0;d.border=0;if(this.hfMode)d.style.tableLayout="fixed";d.style.margin=0;d.style.padding=0;var e=document.createElement("tbody"),f=document.createElement("tr"),g=document.createElement("td");g.className="standartTreeImage";if(this._txtimg){var h=document.createElement("div");g.appendChild(h);h.className="dhx_tree_textSign"}else{h=this._getImg(c.id);h.border="0";if(h.tagName==
"IMG")h.align="absmiddle";g.appendChild(h);h.style.padding=0;h.style.margin=0;h.style.width=this.def_line_img_x;h.style.height=this.def_line_img_y}var i=document.createElement("td"),l=this._getImg(this.cBROf?this.rootId:c.id);l.checked=0;this._setSrc(l,this.imPath+this.checkArray[0]);l.style.width="16px";l.style.height="16px";if(!a)i.style.display="none";i.appendChild(l);if(!this.cBROf&&l.tagName=="IMG")l.align="absmiddle";l.onclick=this.onCheckBoxClick;l.treeNod=this;l.parentObject=c;i.width=window._KHTMLrv?
"16px":"20px";var n=document.createElement("td");n.className="standartTreeImage";var o=this._getImg(this.timgen?c.id:this.rootId);o.onmousedown=this._preventNsDrag;o.ondragstart=this._preventNsDrag;o.border="0";if(this._aimgs){o.parentObject=c;if(o.tagName=="IMG")o.align="absmiddle";o.onclick=this.onRowSelect}b||this._setSrc(o,this.iconURL+this.imageArray[0]);n.appendChild(o);o.style.padding=0;o.style.margin=0;if(this.timgen)n.style.width=o.style.width=this.def_img_x,o.style.height=this.def_img_y;
else if(o.style.width="0px",o.style.height="0px",_isOpera||window._KHTMLrv)n.style.display="none";var j=document.createElement("td");j.className="standartTreeRow";c.span=document.createElement("span");c.span.className="standartTreeRow";this.mlitems?(c.span.style.width=this.mlitems,c.span.style.display="block"):j.noWrap=!0;if(_isIE&&_isIE>7)j.style.width="999999px";else if(!window._KHTMLrv)j.style.width="100%";c.span.innerHTML=c.label;j.appendChild(c.span);j.parentObject=c;g.parentObject=c;j.onclick=
this.onRowSelect;g.onclick=this.onRowClick;j.ondblclick=this.onRowClick2;if(this.ettip)f.title=c.label;if(this.dragAndDropOff){if(this._aimgs)this.dragger.addDraggableItem(n,this),n.parentObject=c;this.dragger.addDraggableItem(j,this)}c.span.style.paddingLeft="5px";c.span.style.paddingRight="5px";j.style.verticalAlign="";j.style.fontSize="10pt";j.style.cursor=this.style_pointer;f.appendChild(g);f.appendChild(i);f.appendChild(n);f.appendChild(j);e.appendChild(f);d.appendChild(e);if(this.ehlt||this.checkEvent("onMouseIn")||
this.checkEvent("onMouseOut"))f.onmousemove=this._itemMouseIn,f[_isIE?"onmouseleave":"onmouseout"]=this._itemMouseOut;return d};dhtmlXTreeObject.prototype.setImagePath=function(a){this.iconURL=this.imPath=a};dhtmlXTreeObject.prototype.setIconPath=function(a){this.iconURL=a};dhtmlXTreeObject.prototype._getLeafCount=function(a){for(var c=0,b=0;b<a.childsCount;b++)a.childNodes[b].childsCount==0&&c++;return c};
dhtmlXTreeObject.prototype._getChildCounterValue=function(a){var c=this._globalIdStorageFind(a);if(!c)return 0;if(c.unParsed||!c.XMLload&&this.XMLsource)return c._acc;switch(this.childCalc){case 1:return c.childsCount;case 2:return this._getLeafCount(c);case 3:return c._acc;case 4:return c._acc}};
dhtmlXTreeObject.prototype._fixChildCountLabel=function(a){if(this.childCalc!=null)if(a.unParsed||!a.XMLload&&this.XMLsource)a.span.innerHTML=a._acc?a.label+this.htmlcA+a._acc+this.htmlcB:a.label;else switch(this.childCalc){case 1:a.span.innerHTML=a.childsCount!=0?a.label+this.htmlcA+a.childsCount+this.htmlcB:a.label;break;case 2:var c=this._getLeafCount(a);a.span.innerHTML=c!=0?a.label+this.htmlcA+c+this.htmlcB:a.label;break;case 3:if(a.childsCount!=0){for(var b=0,d=0;d<a.childsCount;d++){if(!a.childNodes[d]._acc)a.childNodes[d]._acc=
0;b+=a.childNodes[d]._acc*1}b+=a.childsCount*1;a.span.innerHTML=a.label+this.htmlcA+b+this.htmlcB;a._acc=b}else a.span.innerHTML=a.label,a._acc=0;a.parentObject&&a.parentObject!=this.htmlNode&&this._fixChildCountLabel(a.parentObject);break;case 4:if(a.childsCount!=0){for(d=b=0;d<a.childsCount;d++){if(!a.childNodes[d]._acc)a.childNodes[d]._acc=1;b+=a.childNodes[d]._acc*1}a.span.innerHTML=a.label+this.htmlcA+b+this.htmlcB;a._acc=b}else a.span.innerHTML=a.label,a._acc=1;a.parentObject&&a.parentObject!=
this.htmlNode&&this._fixChildCountLabel(a.parentObject)}};dhtmlXTreeObject.prototype.setChildCalcMode=function(a){switch(a){case "child":this.childCalc=1;break;case "leafs":this.childCalc=2;break;case "childrec":this.childCalc=3;break;case "leafsrec":this.childCalc=4;break;case "disabled":this.childCalc=null;break;default:this.childCalc=4}};dhtmlXTreeObject.prototype.setChildCalcHTML=function(a,c){this.htmlcA=a;this.htmlcB=c};
dhtmlXTreeObject.prototype.setOnRightClickHandler=function(a){this.attachEvent("onRightClick",a)};dhtmlXTreeObject.prototype.setOnClickHandler=function(a){this.attachEvent("onClick",a)};dhtmlXTreeObject.prototype.setOnSelectStateChange=function(a){this.attachEvent("onSelect",a)};dhtmlXTreeObject.prototype.setXMLAutoLoading=function(a){this.XMLsource=a};dhtmlXTreeObject.prototype.setOnCheckHandler=function(a){this.attachEvent("onCheck",a)};
dhtmlXTreeObject.prototype.setOnOpenHandler=function(a){this.attachEvent("onOpenStart",a)};dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(a){this.attachEvent("onOpenStart",a)};dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(a){this.attachEvent("onOpenEnd",a)};dhtmlXTreeObject.prototype.setOnDblClickHandler=function(a){this.attachEvent("onDblClick",a)};dhtmlXTreeObject.prototype.openAllItems=function(a){var c=this._globalIdStorageFind(a);if(!c)return 0;this._xopenAll(c)};
dhtmlXTreeObject.prototype.getOpenState=function(a){var c=this._globalIdStorageFind(a);return!c?"":this._getOpenState(c)};dhtmlXTreeObject.prototype.closeAllItems=function(a){if(a===window.undefined)a=this.rootId;var c=this._globalIdStorageFind(a);if(!c)return 0;this._xcloseAll(c);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};
dhtmlXTreeObject.prototype.setUserData=function(a,c,b){var d=this._globalIdStorageFind(a,0,!0);if(d){if(c=="hint")d.htmlNode.childNodes[0].childNodes[0].title=b;if(typeof d.userData["t_"+c]=="undefined")d._userdatalist?d._userdatalist+=","+c:d._userdatalist=c;d.userData["t_"+c]=b}};dhtmlXTreeObject.prototype.getUserData=function(a,c){var b=this._globalIdStorageFind(a,0,!0);return!b?void 0:b.userData["t_"+c]};
dhtmlXTreeObject.prototype.getItemColor=function(a){var c=this._globalIdStorageFind(a);if(!c)return 0;var b={};if(c.acolor)b.acolor=c.acolor;if(c.scolor)b.scolor=c.scolor;return b};dhtmlXTreeObject.prototype.setItemColor=function(a,c,b){var d=a&&a.span?a:this._globalIdStorageFind(a);if(d){if(d.i_sel){if(b)d.span.style.color=b}else if(c)d.span.style.color=c;if(b)d.scolor=b;if(c)d.acolor=c}else return 0};
dhtmlXTreeObject.prototype.getItemText=function(a){var c=this._globalIdStorageFind(a);return!c?0:c.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML};dhtmlXTreeObject.prototype.getParentId=function(a){var c=this._globalIdStorageFind(a);return!c||!c.parentObject?"":c.parentObject.id};dhtmlXTreeObject.prototype.changeItemId=function(a,c){if(a!=c){var b=this._globalIdStorageFind(a);if(!b)return 0;b.id=c;b.span.contextMenuId=c;this._idpull[c]=this._idpull[a];delete this._idpull[a]}};
dhtmlXTreeObject.prototype.doCut=function(){this.nodeCut&&this.clearCut();this.nodeCut=[].concat(this._selected);for(var a=0;a<this.nodeCut.length;a++){var c=this.nodeCut[a];c._cimgs=[];c._cimgs[0]=c.images[0];c._cimgs[1]=c.images[1];c._cimgs[2]=c.images[2];c.images[0]=c.images[1]=c.images[2]=this.cutImage;this._correctPlus(c)}};
dhtmlXTreeObject.prototype.doPaste=function(a){var c=this._globalIdStorageFind(a);if(!c)return 0;for(var b=0;b<this.nodeCut.length;b++)this._checkPNodes(c,this.nodeCut[b])||this._moveNode(this.nodeCut[b],c);this.clearCut()};dhtmlXTreeObject.prototype.clearCut=function(){for(var a=0;a<this.nodeCut.length;a++){var c=this.nodeCut[a];c.images[0]=c._cimgs[0];c.images[1]=c._cimgs[1];c.images[2]=c._cimgs[2];this._correctPlus(c)}this.nodeCut=[]};
dhtmlXTreeObject.prototype._moveNode=function(a,c){var b=this.dadmodec;if(b==1){var d=c;if(this.dadmodefix<0){for(;;){d=this._getPrevNode(d);if(d==-1){d=this.htmlNode;break}if(d.tr==0||d.tr.style.display==""||!d.parentObject)break}var e=d,f=c}else{if(d.tr&&d.tr.nextSibling&&d.tr.nextSibling.nodem&&!this._getOpenState(d))d=d.tr.nextSibling.nodem;else if(d=this._getNextNode(d),d==-1)d=this.htmlNode;f=d;e=c}return this._getNodeLevel(e,0)>this._getNodeLevel(f,0)?this.dropLower?f.id!=this.rootId?this._moveNodeTo(a,
f.parentObject,f):this._moveNodeTo(a,this.htmlNode,null):this._moveNodeTo(a,e.parentObject):this._moveNodeTo(a,f.parentObject,f)}else return this._moveNodeTo(a,c)};dhtmlXTreeObject.prototype._fixNodesCollection=function(a,c){var b=0,d=0,e=a.childNodes,f=a.childsCount-1;if(c!=e[f]){for(var g=0;g<f;g++)e[g]==e[f]&&(e[g]=e[g+1],e[g+1]=e[f]);for(g=0;g<f+1;g++)if(b){var h=e[g];e[g]=b;b=h}else e[g]==c&&(b=e[g],e[g]=e[f])}};
dhtmlXTreeObject.prototype._recreateBranch=function(a,c,b,d){var e,f="";if(b){for(e=0;e<c.childsCount;e++)if(c.childNodes[e]==b)break;e!=0?b=c.childNodes[e-1]:(f="TOP",b="")}var g=this._onradh;this._onradh=null;var h=this._attachChildNode(c,a.id,a.label,0,a.images[0],a.images[1],a.images[2],f,0,b);h._userdatalist=a._userdatalist;h.userData=a.userData.clone();if(a._attrs){h._attrs={};for(var i in a._attrs)h._attrs[i]=a._attrs[i]}h.XMLload=a.XMLload;if(g)this._onradh=g,this._onradh(h.id);a.treeNod.dpcpy?
a.treeNod._globalIdStorageFind(a.id):h.unParsed=a.unParsed;this._correctPlus(h);for(e=0;e<a.childsCount;e++)this._recreateBranch(a.childNodes[e],h,0,1);!d&&this.childCalc&&this._redrawFrom(this,c);return h};
dhtmlXTreeObject.prototype._moveNodeTo=function(a,c,b){if(a.treeNod._nonTrivialNode)return a.treeNod._nonTrivialNode(this,c,b,a);if(this._checkPNodes(c,a))return!1;var d=c.mytype?a.treeNod.lWin!=c.lWin:a.treeNod.lWin!=c.treeNod.lWin;if(!this.callEvent("onDrag",[a.id,c.id,b?b.id:null,a.treeNod,c.treeNod]))return!1;if(c.XMLload==0&&this.XMLsource)c.XMLload=1,this._loadDynXML(c.id);this.openItem(c.id);var e=a.treeNod,f=a.parentObject.childsCount,g=a.parentObject;if(d||e.dpcpy){var h=a.id,a=this._recreateBranch(a,
c,b);e.dpcpy||e.deleteItem(h)}else{var i=c.childsCount,l=c.childNodes;if(i==0)c._open=!0;e._unselectItem(a);l[i]=a;a.treeNod=c.treeNod;c.childsCount++;var n=this._drawNewTr(l[i].htmlNode);b?(c.htmlNode.childNodes[0].insertBefore(n,b.tr),this._fixNodesCollection(c,b),l=c.childNodes):(c.htmlNode.childNodes[0].appendChild(n),this.dadmode==1&&this._fixNodesCollection(c,b))}if(!e.dpcpy&&!d){var o=a.tr;document.all&&navigator.appVersion.search(/MSIE\ 5\.0/gi)!=-1?window.setTimeout(function(){o.parentNode.removeChild(o)},
250):a.parentObject.htmlNode.childNodes[0].removeChild(a.tr);if(!b||c!=a.parentObject)for(var j=0;j<g.childsCount;j++){if(g.childNodes[j].id==a.id){g.childNodes[j]=0;break}}else g.childNodes[g.childsCount-1]=0;e._compressChildList(g.childsCount,g.childNodes);g.childsCount--}if(!d&&!e.dpcpy){a.tr=n;n.nodem=a;a.parentObject=c;if(e!=c.treeNod){if(a.treeNod._registerBranch(a,e))return;this._clearStyles(a);this._redrawFrom(this,a.parentObject);this._onradh&&this._onradh(a.id)}this._correctPlus(c);this._correctLine(c);
this._correctLine(a);this._correctPlus(a);b?this._correctPlus(b):c.childsCount>=2&&(this._correctPlus(l[c.childsCount-2]),this._correctLine(l[c.childsCount-2]));this._correctPlus(l[c.childsCount-1]);this.tscheck&&this._correctCheckStates(c);e.tscheck&&e._correctCheckStates(g)}f>1&&(e._correctPlus(g.childNodes[f-2]),e._correctLine(g.childNodes[f-2]));e._correctPlus(g);e._correctLine(g);this._fixChildCountLabel(c);e._fixChildCountLabel(g);this.callEvent("onDrop",[a.id,c.id,b?b.id:null,e,c.treeNod]);
return a.id};
dhtmlXTreeObject.prototype._clearStyles=function(a){if(a.htmlNode){var c=a.htmlNode.childNodes[0].childNodes[0].childNodes[1],b=c.nextSibling.nextSibling;a.span.innerHTML=a.label;a.i_sel=!1;a._aimgs&&this.dragger.removeDraggableItem(c.nextSibling);this.checkBoxOff?(c.childNodes[0].style.display="",c.childNodes[0].onclick=this.onCheckBoxClick,this._setSrc(c.childNodes[0],this.imPath+this.checkArray[a.checkstate])):c.childNodes[0].style.display="none";c.childNodes[0].treeNod=this;this.dragger.removeDraggableItem(b);this.dragAndDropOff&&
this.dragger.addDraggableItem(b,this);this._aimgs&&this.dragger.addDraggableItem(c.nextSibling,this);b.childNodes[0].className="standartTreeRow";b.onclick=this.onRowSelect;b.ondblclick=this.onRowClick2;c.previousSibling.onclick=this.onRowClick;this._correctLine(a);this._correctPlus(a);for(var d=0;d<a.childsCount;d++)this._clearStyles(a.childNodes[d])}};
dhtmlXTreeObject.prototype._registerBranch=function(a,c){c&&c._globalIdStorageSub(a.id);a.id=this._globalIdStorageAdd(a.id,a);a.treeNod=this;for(var b=0;b<a.childsCount;b++)this._registerBranch(a.childNodes[b],c);return 0};dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(a){this.tscheck=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setOnMouseInHandler=function(a){this.ehlt=!0;this.attachEvent("onMouseIn",a)};
dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(a){this.ehlt=!0;this.attachEvent("onMouseOut",a)};dhtmlXTreeObject.prototype.enableMercyDrag=function(a){this.dpcpy=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableTreeImages=function(a){this.timgen=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableFixedMode=function(a){this.hfMode=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.enableCheckBoxes=function(a,c){this.checkBoxOff=convertStringToBoolean(a);this.cBROf=!(this.checkBoxOff||convertStringToBoolean(c))};dhtmlXTreeObject.prototype.setStdImages=function(a,c,b){this.imageArray[0]=a;this.imageArray[1]=c;this.imageArray[2]=b};dhtmlXTreeObject.prototype.enableTreeLines=function(a){this.treeLinesOn=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.setImageArrays=function(a,c,b,d,e,f){switch(a){case "plus":this.plusArray[0]=c;this.plusArray[1]=b;this.plusArray[2]=d;this.plusArray[3]=e;this.plusArray[4]=f;break;case "minus":this.minusArray[0]=c,this.minusArray[1]=b,this.minusArray[2]=d,this.minusArray[3]=e,this.minusArray[4]=f}};dhtmlXTreeObject.prototype.openItem=function(a){var c=this._globalIdStorageFind(a);return c?this._openItem(c):0};
dhtmlXTreeObject.prototype._openItem=function(a){var c=this._getOpenState(a);if(c<0||this.XMLsource&&!a.XMLload){if(!this.callEvent("onOpenStart",[a.id,c]))return 0;this._HideShow(a,2);if(this.checkEvent("onOpenEnd"))this.onXLE==this._epnFHe&&this._epnFHe(this,a.id,!0),!this.xmlstate||!this.XMLsource?this.callEvent("onOpenEnd",[a.id,this._getOpenState(a)]):(this._oie_onXLE.push(this.onXLE),this.onXLE=this._epnFHe)}else this._srnd&&this._HideShow(a,2);a.parentObject&&!this._skip_open_parent&&this._openItem(a.parentObject)};
dhtmlXTreeObject.prototype.closeItem=function(a){if(this.rootId==a)return 0;var c=this._globalIdStorageFind(a);if(!c)return 0;c.closeble&&this._HideShow(c,1)};dhtmlXTreeObject.prototype.getLevel=function(a){var c=this._globalIdStorageFind(a);return!c?0:this._getNodeLevel(c,0)};dhtmlXTreeObject.prototype.setItemCloseable=function(a,c){var c=convertStringToBoolean(c),b=a&&a.span?a:this._globalIdStorageFind(a);if(!b)return 0;b.closeble=c};
dhtmlXTreeObject.prototype._getNodeLevel=function(a,c){return a.parentObject?this._getNodeLevel(a.parentObject,c+1):c};dhtmlXTreeObject.prototype.hasChildren=function(a){var c=this._globalIdStorageFind(a);return c?this.XMLsource&&!c.XMLload?!0:c.childsCount:0};dhtmlXTreeObject.prototype._getLeafCount=function(a){for(var c=0,b=0;b<a.childsCount;b++)a.childNodes[b].childsCount==0&&c++;return c};
dhtmlXTreeObject.prototype.setItemText=function(a,c,b){var d=this._globalIdStorageFind(a);if(!d)return 0;d.label=c;d.span.innerHTML=c;this.childCalc&&this._fixChildCountLabel(d);d.span.parentNode.parentNode.title=b||""};dhtmlXTreeObject.prototype.getItemTooltip=function(a){var c=this._globalIdStorageFind(a);return!c?"":c.span.parentNode.parentNode._dhx_title||c.span.parentNode.parentNode.title||""};
dhtmlXTreeObject.prototype.refreshItem=function(a){if(!a)a=this.rootId;var c=this._globalIdStorageFind(a);this.deleteChildItems(a);this._loadDynXML(a)};dhtmlXTreeObject.prototype.setItemImage2=function(a,c,b,d){var e=this._globalIdStorageFind(a);if(!e)return 0;e.images[1]=b;e.images[2]=d;e.images[0]=c;this._correctPlus(e)};dhtmlXTreeObject.prototype.setItemImage=function(a,c,b){var d=this._globalIdStorageFind(a);if(!d)return 0;b?(d.images[1]=c,d.images[2]=b):d.images[0]=c;this._correctPlus(d)};
dhtmlXTreeObject.prototype.getSubItems=function(a){var c=this._globalIdStorageFind(a,0,1);if(!c)return 0;if(c.unParsed)return this._getSubItemsXML(c.unParsed);var b="";for(i=0;i<c.childsCount;i++)b?b+=this.dlmtr+c.childNodes[i].id:b=""+c.childNodes[i].id;return b};
dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var c="",b=0;b<a.childsCount;b++)if(a.childNodes[b].unParsed||a.childNodes[b].childsCount>0){var d=a.childNodes[b].unParsed?this._getAllScraggyItemsXML(a.childNodes[b].unParsed,1):this._getAllScraggyItems(a.childNodes[b]);d&&(c?c+=this.dlmtr+d:c=d)}else c?c+=this.dlmtr+a.childNodes[b].id:c=""+a.childNodes[b].id;return c};
dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var c="",b=0;b<a.childsCount;b++)if(a.childNodes[b].unParsed||a.childNodes[b].childsCount>0){c?c+=this.dlmtr+a.childNodes[b].id:c=""+a.childNodes[b].id;var d=a.childNodes[b].unParsed?this._getAllFatItemsXML(a.childNodes[b].unParsed,1):this._getAllFatItems(a.childNodes[b]);d&&(c+=this.dlmtr+d)}return c};
dhtmlXTreeObject.prototype._getAllSubItems=function(a,c,b){var d=b?b:this._globalIdStorageFind(a);if(!d)return 0;for(var c="",e=0;e<d.childsCount;e++){c?c+=this.dlmtr+d.childNodes[e].id:c=""+d.childNodes[e].id;var f=this._getAllSubItems(0,c,d.childNodes[e]);f&&(c+=this.dlmtr+f)}d.unParsed&&(c=this._getAllSubItemsXML(a,c,d.unParsed));return c};
dhtmlXTreeObject.prototype.selectItem=function(a,c,b){var c=convertStringToBoolean(c),d=this._globalIdStorageFind(a);if(!d||!d.parentObject)return 0;this.XMLloadingWarning?d.parentObject.openMe=1:this._openItem(d.parentObject);var e=null;if(b&&(e={ctrlKey:!0},d.i_sel))e.skipUnSel=!0;if(c)this.onRowSelect(e,d.htmlNode.childNodes[0].childNodes[0].childNodes[3],!1);else this.onRowSelect(e,d.htmlNode.childNodes[0].childNodes[0].childNodes[3],!0)};
dhtmlXTreeObject.prototype.getSelectedItemText=function(){for(var a=[],c=0;c<this._selected.length;c++)a[c]=this._selected[c].span.innerHTML;return a.join(this.dlmtr)};dhtmlXTreeObject.prototype._compressChildList=function(a,c){a--;for(var b=0;b<a;b++)c[b]==0&&(c[b]=c[b+1],c[b+1]=0)};
dhtmlXTreeObject.prototype._deleteNode=function(a,c,b){if(!c||!c.parentObject)return 0;var d=0,e=0;if(c.tr.nextSibling)d=c.tr.nextSibling.nodem;if(c.tr.previousSibling)e=c.tr.previousSibling.nodem;for(var f=c.parentObject,g=f.childsCount,h=f.childNodes,i=0;i<g;i++)if(h[i].id==a){b||f.htmlNode.childNodes[0].removeChild(h[i].tr);h[i]=0;break}this._compressChildList(g,h);b||f.childsCount--;d&&(this._correctPlus(d),this._correctLine(d));e&&(this._correctPlus(e),this._correctLine(e));this.tscheck&&this._correctCheckStates(f);
b||this._globalIdStorageRecSub(c)};dhtmlXTreeObject.prototype.setCheck=function(a,c){var b=this._globalIdStorageFind(a,0,1);b&&(c==="unsure"?this._setCheck(b,c):(c=convertStringToBoolean(c),this.tscheck&&this.smcheck?this._setSubChecked(c,b):this._setCheck(b,c)),this.smcheck&&this._correctCheckStates(b.parentObject))};
dhtmlXTreeObject.prototype._setCheck=function(a,c){if(a){if((a.parentObject._r_logic||this._frbtr)&&c)if(this._frbtrs)this._frbtrL&&this.setCheck(this._frbtrL.id,0),this._frbtrL=a;else for(var b=0;b<a.parentObject.childsCount;b++)this._setCheck(a.parentObject.childNodes[b],0);var d=a.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];a.checkstate=c=="unsure"?2:c?1:0;if(a.dscheck)a.checkstate=a.dscheck;this._setSrc(d,this.imPath+(a.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[a.checkstate])}};
dhtmlXTreeObject.prototype.setSubChecked=function(a,c){var b=this._globalIdStorageFind(a);this._setSubChecked(c,b);this._correctCheckStates(b.parentObject)};
dhtmlXTreeObject.prototype._setSubChecked=function(a,c){a=convertStringToBoolean(a);if(c){if((c.parentObject._r_logic||this._frbtr)&&a)for(var b=0;b<c.parentObject.childsCount;b++)this._setSubChecked(0,c.parentObject.childNodes[b]);c.unParsed&&this._setSubCheckedXML(a,c.unParsed);if(c._r_logic||this._frbtr)this._setSubChecked(a,c.childNodes[0]);else for(b=0;b<c.childsCount;b++)this._setSubChecked(a,c.childNodes[b]);var d=c.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];c.checkstate=
a?1:0;if(c.dscheck)c.checkstate=c.dscheck;this._setSrc(d,this.imPath+(c.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[c.checkstate])}};dhtmlXTreeObject.prototype.isItemChecked=function(a){var c=this._globalIdStorageFind(a);return!c?void 0:c.checkstate};dhtmlXTreeObject.prototype.deleteChildItems=function(a){var c=this._globalIdStorageFind(a);if(c)for(var b=c.childsCount,d=0;d<b;d++)this._deleteNode(c.childNodes[0].id,c.childNodes[0])};
dhtmlXTreeObject.prototype.deleteItem=function(a,c){if(!this._onrdlh||this._onrdlh(a)){var b=this._deleteItem(a,c);b&&this._fixChildCountLabel(b)}this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};
dhtmlXTreeObject.prototype._deleteItem=function(a,c,b){var c=convertStringToBoolean(c),d=this._globalIdStorageFind(a);if(d){var e=this.getParentId(a),f=d.parentObject;this._deleteNode(a,d,b);if(this._editCell&&this._editCell.id==a)this._editCell=null;this._correctPlus(f);this._correctLine(f);c&&e!=this.rootId&&this.selectItem(e,1);return f}};
dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(a){for(var c=0;c<a.childsCount;c++)this._globalIdStorageRecSub(a.childNodes[c]),this._globalIdStorageSub(a.childNodes[c].id);this._globalIdStorageSub(a.id);var b=a;b.span=null;b.tr.nodem=null;b.tr=null;b.htmlNode=null};
dhtmlXTreeObject.prototype.insertNewNext=function(a,c,b,d,e,f,g,h,i){var l=this._globalIdStorageFind(a);if(!l||!l.parentObject)return 0;var n=this._attachChildNode(0,c,b,d,e,f,g,h,i,l);!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(l.parentObject);return n};dhtmlXTreeObject.prototype.getItemIdByIndex=function(a,c){var b=this._globalIdStorageFind(a);return!b||c>=b.childsCount?null:b.childNodes[c].id};
dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(a,c){var b=this._globalIdStorageFind(a);return!b||c>=b.childsCount?null:b.childNodes[c].id};dhtmlXTreeObject.prototype.setDragHandler=function(a){this.attachEvent("onDrag",a)};
dhtmlXTreeObject.prototype._clearMove=function(){if(this._lastMark)this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,""),this._lastMark=null;this.selectionBar.style.display="none";this.allTree.className=this.allTree.className.replace(" selectionBox","")};
dhtmlXTreeObject.prototype.enableDragAndDrop=function(a,c){a=="temporary_disabled"?(this.dADTempOff=!1,a=!0):this.dADTempOff=!0;(this.dragAndDropOff=convertStringToBoolean(a))&&this.dragger.addDragLanding(this.allTree,this);if(arguments.length>1)this._ddronr=!convertStringToBoolean(c)};
dhtmlXTreeObject.prototype._setMove=function(a,c,b){if(a.parentObject.span){var d=getAbsoluteTop(a),e=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;this.dadmodec=this.dadmode;this.dadmodefix=0;if(this.dadmode==2){var f=b-d+(document.body.scrollTop||document.documentElement.scrollTop)-2-a.offsetHeight/2;if(Math.abs(f)-a.offsetHeight/6>0){if(this.dadmodec=1,f<0)this.dadmodefix=0-a.offsetHeight}else this.dadmodec=0}if(this.dadmodec==0){var g=a.parentObject.span;g.className+=" dragAndDropRow";this._lastMark=
g}else{this._clearMove();this.selectionBar.style.top=d-e+((parseInt(a.parentObject.span.parentNode.previousSibling.childNodes[0].style.height)||18)-1)+this.dadmodefix+"px";this.selectionBar.style.left="5px";if(this.allTree.offsetWidth>20)this.selectionBar.style.width=this.allTree.offsetWidth-(_isFF?30:25)+"px";this.selectionBar.style.display=""}this._autoScroll(null,d,e)}};
dhtmlXTreeObject.prototype._autoScroll=function(a,c,b){if(this.autoScroll){a&&(c=getAbsoluteTop(a),b=getAbsoluteTop(this.allTree)-this.allTree.scrollTop);if(c-b-parseInt(this.allTree.scrollTop)>parseInt(this.allTree.offsetHeight)-50)this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20;if(c-b<parseInt(this.allTree.scrollTop)+30)this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20}};
dhtmlXTreeObject.prototype._createDragNode=function(a,c){if(!this.dADTempOff)return null;var b=a.parentObject;if(!this.callEvent("onBeforeDrag",[b.id,c]))return null;b.i_sel||this._selectItem(b,c);this._checkMSelectionLogic();var d=document.createElement("div"),e=[];if(this._itim_dg)for(var f=0;f<this._selected.length;f++)e[f]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[f].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+
this._selected[f].span.innerHTML+"</td></tr></table>";else e=this.getSelectedItemText().split(this.dlmtr);d.innerHTML=e.join("");d.style.position="absolute";d.className="dragSpanDiv";this._dragged=[].concat(this._selected);return d};dhtmlXTreeObject.prototype._focusNode=function(a){var c=getAbsoluteTop(a.htmlNode)-getAbsoluteTop(this.allTree);if(c>this.allTree.offsetHeight-30||c<0)this.allTree.scrollTop=c+this.allTree.scrollTop};
dhtmlXTreeObject.prototype._preventNsDrag=function(a){a&&a.preventDefault&&a.preventDefault();return!1};
dhtmlXTreeObject.prototype._drag=function(a,c,b){this._autoOpenTimer&&clearTimeout(this._autoOpenTimer);if(!b.parentObject)b=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.dadmodec=0;this._clearMove();var d=a.parentObject.treeNod;d&&d._clearMove&&d._clearMove("");if(!this.dragMove||this.dragMove())for(var e=!d||!d._clearMove||!d._dragged?Array(a.parentObject):d._dragged,f=b.parentObject,g=0;g<e.length;g++){var h=this._moveNode(e[g],f);this.dadmodec&&h!==!1&&(f=
this._globalIdStorageFind(h,!0,!0));h&&!this._sADnD&&this.selectItem(h,0,1)}if(d)d._dragged=[]};
dhtmlXTreeObject.prototype._dragIn=function(a,c,b,d){if(!this.dADTempOff)return 0;var e=c.parentObject,f=a.parentObject;if(f||!this._ddronr){if(!this.callEvent("onDragIn",[e.id,f?f.id:null,e.treeNod,this]))return f&&this._autoScroll(a),0;if(f){if(e.childNodes==null)return this._setMove(a,b,d),a;for(var g=e.treeNod,h=0;h<g._dragged.length;h++)if(this._checkPNodes(f,g._dragged[h]))return this._autoScroll(a),0;this.selectionBar.parentNode.removeChild(this.selectionBar);f.span.parentNode.appendChild(this.selectionBar);
this._setMove(a,b,d);if(this._getOpenState(f)<=0)this._autoOpenId=f.id,this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1E3)}else this.allTree.className+=" selectionBox";return a}};dhtmlXTreeObject.prototype._autoOpenItem=function(a,c){c.openItem(c._autoOpenId)};dhtmlXTreeObject.prototype._dragOut=function(){this._clearMove();this._autoOpenTimer&&clearTimeout(this._autoOpenTimer)};
dhtmlXTreeObject.prototype._getNextNode=function(a,c){return!c&&a.childsCount?a.childNodes[0]:a==this.htmlNode?-1:a.tr&&a.tr.nextSibling&&a.tr.nextSibling.nodem?a.tr.nextSibling.nodem:this._getNextNode(a.parentObject,!0)};dhtmlXTreeObject.prototype._lastChild=function(a){return a.childsCount?this._lastChild(a.childNodes[a.childsCount-1]):a};
dhtmlXTreeObject.prototype._getPrevNode=function(a){return a.tr&&a.tr.previousSibling&&a.tr.previousSibling.nodem?this._lastChild(a.tr.previousSibling.nodem):a.parentObject?a.parentObject:-1};dhtmlXTreeObject.prototype.findItem=function(a,c,b){var d=this._findNodeByLabel(a,c,b?this.htmlNode:null);return d?(this.selectItem(d.id,!0),this._focusNode(d),d.id):null};dhtmlXTreeObject.prototype.findItemIdByLabel=function(a,c,b){var d=this._findNodeByLabel(a,c,b?this.htmlNode:null);return d?d.id:null};
dhtmlXTreeObject.prototype.findStrInXML=function(a,c,b){if(!a.childNodes&&a.item)return this.findStrInJSON(a,c,b);if(!a.childNodes)return!1;for(var d=0;d<a.childNodes.length;d++)if(a.childNodes[d].nodeType==1){var e=a.childNodes[d].getAttribute(c);if(!e&&a.childNodes[d].tagName=="itemtext")e=a.childNodes[d].firstChild.data;if(e&&e.toLowerCase().search(b)!=-1)return!0;if(this.findStrInXML(a.childNodes[d],c,b))return!0}return!1};
dhtmlXTreeObject.prototype.findStrInJSON=function(a,c,b){for(var d=0;d<a.item.length;d++){var e=a.item[d].text;if(e&&e.toLowerCase().search(b)!=-1)return!0;if(a.item[d].item&&this.findStrInJSON(a.item[d],c,b))return!0}return!1};
dhtmlXTreeObject.prototype._findNodeByLabel=function(a,c,b){a=a.replace(/^( )+/,"").replace(/( )+$/,"");a=RegExp(a.replace(/([\?\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi");if(!b&&(b=this._selected[0],!b))b=this.htmlNode;var d=b;if(c){var e=this._getPrevNode(d);e==-1&&(e=this._lastChild(this.htmlNode));e.unParsed&&this.findStrInXML(e.unParsed.d,"text",a)?(this.reParse(e),b=this._getPrevNode(d)):b=e;b==-1&&(b=this._lastChild(this.htmlNode))}else b.unParsed&&this.findStrInXML(b.unParsed.d,
"text",a)&&this.reParse(b),b=this._getNextNode(d),b==-1&&(b=this.htmlNode.childNodes[0]);for(;b&&b!=d;){if(b.label&&b.label.search(a)!=-1)return b;if(c)e=this._getPrevNode(b),e==-1&&(e=this._lastChild(this.htmlNode)),e.unParsed&&this.findStrInXML(e.unParsed.d,"text",a)?(this.reParse(e),b=this._getPrevNode(b)):b=e,b==-1&&(b=this._lastChild(this.htmlNode));else{if(b==-1){if(d==this.htmlNode)break;b=this.htmlNode.childNodes[0]}b.unParsed&&this.findStrInXML(b.unParsed.d,"text",a)&&this.reParse(b);b=this._getNextNode(b);
if(b==-1)b=this.htmlNode}}return null};
dhtmlXTreeObject.prototype.moveItem=function(a,c,b,d){var e=this._globalIdStorageFind(a);if(!e)return 0;switch(c){case "right":alert("Not supported yet");break;case "item_child":var f=(d||this)._globalIdStorageFind(b);if(!f)return 0;(d||this)._moveNodeTo(e,f,0);break;case "item_sibling":f=(d||this)._globalIdStorageFind(b);if(!f)return 0;(d||this)._moveNodeTo(e,f.parentObject,f);break;case "item_sibling_next":f=(d||this)._globalIdStorageFind(b);if(!f)return 0;f.tr&&f.tr.nextSibling&&f.tr.nextSibling.nodem?
(d||this)._moveNodeTo(e,f.parentObject,f.tr.nextSibling.nodem):(d||this)._moveNodeTo(e,f.parentObject);break;case "left":e.parentObject.parentObject&&this._moveNodeTo(e,e.parentObject.parentObject,e.parentObject);break;case "up":var g=this._getPrevNode(e);if(g==-1||!g.parentObject)return;this._moveNodeTo(e,g.parentObject,g);break;case "up_strict":g=this._getIndex(e);g!=0&&this._moveNodeTo(e,e.parentObject,e.parentObject.childNodes[g-1]);break;case "down_strict":var g=this._getIndex(e),h=e.parentObject.childsCount-
2;g==h?this._moveNodeTo(e,e.parentObject):g<h&&this._moveNodeTo(e,e.parentObject,e.parentObject.childNodes[g+2]);break;case "down":g=this._getNextNode(this._lastChild(e));if(g==-1||!g.parentObject)return;g.parentObject==e.parentObject&&(g=this._getNextNode(g));if(g==-1)this._moveNodeTo(e,e.parentObject);else{if(g==-1||!g.parentObject)return;this._moveNodeTo(e,g.parentObject,g)}}if(_isIE&&_isIE<8)this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"};
dhtmlXTreeObject.prototype.setDragBehavior=function(a,c){this._sADnD=!convertStringToBoolean(c);switch(a){case "child":this.dadmode=0;break;case "sibling":this.dadmode=1;break;case "complex":this.dadmode=2}};
dhtmlXTreeObject.prototype._loadDynXML=function(a,c){var c=c||this.XMLsource,b=(new Date).valueOf();this._ld_id=a;this.xmlalb=="function"?c&&c(this._escape(a)):this.xmlalb=="name"?this.loadXML(c+this._escape(a)):this.xmlalb=="xmlname"?this.loadXML(c+this._escape(a)+".xml?uid="+b):this.loadXML(c+getUrlSymbol(c)+"uid="+b+"&id="+this._escape(a))};dhtmlXTreeObject.prototype.enableMultiselection=function(a,c){this._amsel=convertStringToBoolean(a);this._amselS=convertStringToBoolean(c)};
dhtmlXTreeObject.prototype._checkMSelectionLogic=function(){for(var a=[],c=0;c<this._selected.length;c++)for(var b=0;b<this._selected.length;b++)c!=b&&this._checkPNodes(this._selected[b],this._selected[c])&&(a[a.length]=this._selected[b]);for(c=0;c<a.length;c++)this._unselectItem(a[c])};dhtmlXTreeObject.prototype._checkPNodes=function(a,c){return this._dcheckf?!1:c==a?1:a.parentObject?this._checkPNodes(a.parentObject,c):0};dhtmlXTreeObject.prototype.disableDropCheck=function(a){this._dcheckf=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.enableDistributedParsing=function(a,c,b){this._edsbps=convertStringToBoolean(a);this._edsbpsA=[];this._edsbpsC=c||10;this._edsbpsD=b||250};dhtmlXTreeObject.prototype.getDistributedParsingState=function(){return!(!this._edsbpsA||!this._edsbpsA.length)};dhtmlXTreeObject.prototype.getItemParsingState=function(a){var c=this._globalIdStorageFind(a,!0,!0);if(!c)return 0;if(this._edsbpsA)for(var b=0;b<this._edsbpsA.length;b++)if(this._edsbpsA[b][2]==a)return-1;return 1};
dhtmlXTreeObject.prototype._distributedStart=function(a,c,b,d,e){if(!this._edsbpsA)this._edsbpsA=[];this._edsbpsA[this._edsbpsA.length]=[a,c,b,d,e]};
dhtmlXTreeObject.prototype._distributedStep=function(a){var c=this;if(!this._edsbpsA||!this._edsbpsA.length)c.XMLloadingWarning=0;else{var b=this._edsbpsA[0];this.parsedArray=[];this._parse(b[0],b[2],b[3],b[1]);var d=this._globalIdStorageFind(b[2]);this._redrawFrom(this,d,b[4],this._getOpenState(d));for(var e=this.setCheckList.split(this.dlmtr),f=0;f<e.length;f++)e[f]&&this.setCheck(e[f],1);this._edsbpsA=[].concat(this._edsbpsA.slice(1));if(!this._edsbpsA.length)window.setTimeout(function(){if(c.onXLE)c.onXLE(c,
a);c.callEvent("onXLE",[c,a])},1),c.xmlstate=0}};dhtmlXTreeObject.prototype.enableTextSigns=function(a){this._txtimg=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.preventIECaching=function(a){this.no_cashe=convertStringToBoolean(a);this.XMLLoader.rSeed=this.no_cashe};dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching;
dhtmlXTreeObject.prototype.disableCheckbox=function(a,c){var b=typeof a!="object"?this._globalIdStorageFind(a,0,1):a;if(b&&(b.dscheck=convertStringToBoolean(c)?(b.checkstate||0)%3+3:b.checkstate>2?b.checkstate-3:b.checkstate,this._setCheck(b),b.dscheck<3))b.dscheck=!1};dhtmlXTreeObject.prototype.smartRefreshBranch=function(a,c){this._branchUpdate=1;this.smartRefreshItem(a,c)};
dhtmlXTreeObject.prototype.smartRefreshItem=function(a,c){for(var b=this._globalIdStorageFind(a),d=0;d<b.childsCount;d++)b.childNodes[d]._dmark=!0;this.waitUpdateXML=!0;c&&c.exists?this._parse(c,a):this._loadDynXML(a,c)};dhtmlXTreeObject.prototype.refreshItems=function(a,c){var b=a.toString().split(this.dlmtr);this.waitUpdateXML=[];for(var d=0;d<b.length;d++)this.waitUpdateXML[b[d]]=!0;this.loadXML((c||this.XMLsource)+getUrlSymbol(c||this.XMLsource)+"ids="+this._escape(a))};
dhtmlXTreeObject.prototype.updateItem=function(a,c,b,d,e,f,g){var h=this._globalIdStorageFind(a);h.userData=new cObject;if(c)h.label=c;h.images=[b||this.imageArray[0],d||this.imageArray[1],e||this.imageArray[2]];this.setItemText(a,c);f&&this._setCheck(h,!0);if(g=="1"&&!this.hasChildren(a))h.XMLload=0;this._correctPlus(h);h._dmark=!1;return h};dhtmlXTreeObject.prototype.setDropHandler=function(a){this.attachEvent("onDrop",a)};
dhtmlXTreeObject.prototype.setOnLoadingStart=function(a){this.attachEvent("onXLS",a)};dhtmlXTreeObject.prototype.setOnLoadingEnd=function(a){this.attachEvent("onXLE",a)};dhtmlXTreeObject.prototype.setXMLAutoLoadingBehaviour=function(a){this.xmlalb=a};dhtmlXTreeObject.prototype.enableSmartCheckboxes=function(a){this.smcheck=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.getXMLState=function(){return this.xmlstate==1};
dhtmlXTreeObject.prototype.setItemTopOffset=function(a,c){var b;b=typeof a!="object"?this._globalIdStorageFind(a):a;var d=b.span.parentNode.parentNode;b.span.style.paddingBottom="1px";for(var e=0;e<d.childNodes.length;e++){if(e!=0)_isIE?(d.childNodes[e].style.height="18px",d.childNodes[e].style.paddingTop=parseInt(c)+"px"):d.childNodes[e].style.height=18+parseInt(c)+"px";else{var f=d.childNodes[e].firstChild;d.childNodes[e].firstChild.tagName!="DIV"&&(f=document.createElement("DIV"),d.childNodes[e].insertBefore(f,
d.childNodes[e].firstChild));f.style.height=parseInt(c)+"px";if((b.parentObject.id!=this.rootId||b.parentObject.childNodes[0]!=b)&&this.treeLinesOn)f.style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";f.innerHTML="&nbsp;";f.style.overflow="hidden";parseInt(c)==0&&d.childNodes[e].removeChild(f)}if(!_isIE)d.childNodes[e].style.verticalAlign="bottom";if(_isIE)this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"}};
dhtmlXTreeObject.prototype.setIconSize=function(a,c,b){if(b){var d=b&&b.span?b:this._globalIdStorageFind(b);if(!d)return 0;var e=d.span.parentNode.previousSibling.childNodes[0];if(a&&(e.style.width=a,window._KHTMLrv))e.parentNode.style.width=a;if(c&&(e.style.height=c,window._KHTMLrv))e.parentNode.style.height=c}else this.def_img_x=a,this.def_img_y=c};
dhtmlXTreeObject.prototype.getItemImage=function(a,c,b){var d=this._globalIdStorageFind(a);if(!d)return"";var e=d.images[c||0];b&&(e=this.iconURL+e);return e};
dhtmlXTreeObject.prototype.enableRadioButtons=function(a,c){if(arguments.length==1)this._frbtr=convertStringToBoolean(a),this.checkBoxOff=this.checkBoxOff||this._frbtr;else{var b=this._globalIdStorageFind(a);if(!b)return"";if((c=convertStringToBoolean(c))&&!b._r_logic){b._r_logic=!0;for(var d=0;d<b.childsCount;d++)this._setCheck(b.childNodes[d],b.childNodes[d].checkstate)}if(!c&&b._r_logic){b._r_logic=!1;for(d=0;d<b.childsCount;d++)this._setCheck(b.childNodes[d],b.childNodes[d].checkstate)}}};
dhtmlXTreeObject.prototype.enableSingleRadioMode=function(a){this._frbtrs=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.openOnItemAdded=function(a){this._hAdI=!convertStringToBoolean(a)};dhtmlXTreeObject.prototype.openOnItemAdding=function(a){this._hAdI=!convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableMultiLineItems=function(a){this.mlitems=a===!0?"100%":a};dhtmlXTreeObject.prototype.enableAutoTooltips=function(a){this.ettip=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.clearSelection=function(a){a?this._unselectItem(this._globalIdStorageFind(a)):this._unselectItems()};dhtmlXTreeObject.prototype.showItemSign=function(a,c){var b=this._globalIdStorageFind(a);if(!b)return 0;var d=b.span.parentNode.previousSibling.previousSibling.previousSibling;convertStringToBoolean(c)?(b.closeble=!0,b.wsign=!1):(this._openItem(b),b.closeble=!1,b.wsign=!0);this._correctPlus(b)};
dhtmlXTreeObject.prototype.showItemCheckbox=function(a,c){if(!a)for(var b in this._idpull)this.showItemCheckbox(this._idpull[b],c);typeof a!="object"&&(a=this._globalIdStorageFind(a,0,0));if(!a)return 0;a.nocheckbox=!convertStringToBoolean(c);var d=a.span.parentNode.previousSibling.previousSibling.childNodes[0];d.parentNode.style.display=!a.nocheckbox?"":"none"};dhtmlXTreeObject.prototype.setListDelimeter=function(a){this.dlmtr=a};
dhtmlXTreeObject.prototype.setEscapingMode=function(a){this.utfesc=a};dhtmlXTreeObject.prototype.enableHighlighting=function(a){this.ehlt=!0;this.ehlta=convertStringToBoolean(a)};dhtmlXTreeObject.prototype._itemMouseOut=function(){var a=this.childNodes[3].parentObject,c=a.treeNod;c.callEvent("onMouseOut",[a.id]);if(a.id==c._l_onMSI)c._l_onMSI=null;if(c.ehlta)a.span.className=a.span.className.replace("_lor","")};
dhtmlXTreeObject.prototype._itemMouseIn=function(){var a=this.childNodes[3].parentObject,c=a.treeNod;c._l_onMSI!=a.id&&c.callEvent("onMouseIn",[a.id]);c._l_onMSI=a.id;if(c.ehlta)a.span.className=a.span.className.replace("_lor",""),a.span.className=a.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor")};dhtmlXTreeObject.prototype.enableActiveImages=function(a){this._aimgs=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.focusItem=function(a){var c=this._globalIdStorageFind(a);if(!c)return 0;this._focusNode(c)};dhtmlXTreeObject.prototype.getAllSubItems=function(a){return this._getAllSubItems(a)};dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless;
dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var c="",b=0;b<a.childsCount;b++)if(a.childNodes[b].unParsed||a.childNodes[b].childsCount>0){var d=a.childNodes[b].unParsed?this._getAllScraggyItemsXML(a.childNodes[b].unParsed,1):this._getAllScraggyItems(a.childNodes[b]);d&&(c?c+=this.dlmtr+d:c=d)}else c?c+=this.dlmtr+a.childNodes[b].id:c=""+a.childNodes[b].id;return c};
dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var c="",b=0;b<a.childsCount;b++)if(a.childNodes[b].unParsed||a.childNodes[b].childsCount>0){c?c+=this.dlmtr+a.childNodes[b].id:c=""+a.childNodes[b].id;var d=a.childNodes[b].unParsed?this._getAllFatItemsXML(a.childNodes[b].unParsed,1):this._getAllFatItems(a.childNodes[b]);d&&(c+=this.dlmtr+d)}return c};dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)};
dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids;dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)};dhtmlXTreeObject.prototype.getAllUnchecked=function(a){a&&(a=this._globalIdStorageFind(a));return this._getAllChecked(a,"",0)};dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)};
dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var a=[this._getAllChecked("","",1)],c=this._getAllChecked("","",2);c&&a.push(c);return a.join(this.dlmtr)};dhtmlXTreeObject.prototype._getAllChecked=function(a,c,b){if(!a)a=this.htmlNode;a.checkstate==b&&(a.nocheckbox||(c?c+=this.dlmtr+a.id:c=""+a.id));for(var d=a.childsCount,e=0;e<d;e++)c=this._getAllChecked(a.childNodes[e],c,b);a.unParsed&&(c=this._getAllCheckedXML(a.unParsed,c,b));return c?c:""};
dhtmlXTreeObject.prototype.setItemStyle=function(a,c,b){var b=b||!1,d=this._globalIdStorageFind(a);if(!d)return 0;d.span.style.cssText?d.span.style.cssText=b?c:d.span.style.cssText+";"+c:d.span.setAttribute("style",d.span.getAttribute("style")+"; "+c)};dhtmlXTreeObject.prototype.enableImageDrag=function(a){this._itim_dg=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setOnDragIn=function(a){this.attachEvent("onDragIn",a)};
dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(a){this.autoScroll=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setSkin=function(a){var c=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=c+" dhxtree_"+a;a=="dhx_terrace"&&this.enableTreeLines(!1)};
(function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(a){return[a.parent,a.width||"100%",a.height||"100%",a.root_id||0]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",
editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",
xml:"loadXML",skin:"setSkin"},{})})();
dhtmlXTreeObject.prototype._dp_init=function(a){a.attachEvent("insertCallback",function(a,b,d){var e=this._loader.doXPath(".//item",a),f=e[0].getAttribute("text");this.obj.insertNewItem(d,b,f,0,0,0,0,"CHILD")});a.attachEvent("updateCallback",function(a,b,d){var e=this._loader.doXPath(".//item",a),f=e[0].getAttribute("text");this.obj.setItemText(b,f);this.obj.getParentId(b)!=d&&this.obj.moveItem(b,"item_child",d);this.setUpdated(b,!0,"updated")});a.attachEvent("deleteCallback",function(a,b){this.obj.setUserData(b,
this.action_param,"true_deleted");this.obj.deleteItem(b,!1)});a._methods=["setItemStyle","","changeItemId","deleteItem"];this.attachEvent("onEdit",function(c,b){c==3&&a.setUpdated(b,!0);return!0});this.attachEvent("onDrop",function(c,b,d,e,f){e==f&&a.setUpdated(c,!0)});this._onrdlh=function(c){var b=a.getState(c);if(b=="inserted")return a.set_invalid(c,!1),a.setUpdated(c,!1),!0;if(b=="true_deleted")return a.setUpdated(c,!1),!0;a.setUpdated(c,!0,"deleted");return!1};this._onradh=function(c){a.setUpdated(c,
!0,"inserted")};a._getRowData=function(a){for(var b={},d=this.obj._globalIdStorageFind(a),e=d.parentObject,f=0,f=0;f<e.childsCount;f++)if(e.childNodes[f]==d)break;b.tr_id=d.id;b.tr_pid=e.id;b.tr_order=f;b.tr_text=d.span.innerHTML;e=(d._userdatalist||"").split(",");for(f=0;f<e.length;f++)b[e[f]]=d.userData["t_"+e[f]];return b}};dhtmlXTreeObject.prototype.parserExtension={_parseExtension:function(a,c){this._idpull[c.id]._attrs=c}};
dhtmlXTreeObject.prototype.getAttribute=function(a,c){this._globalIdStorageFind(a);var b=this._idpull[a]._attrs;return b?b[c]:window.undefined};dhtmlXTreeObject.prototype.setAttribute=function(a,c,b){this._globalIdStorageFind(a);var d=this._idpull[a]._attrs||{};d[c]=b;this._idpull[a]._attrs=d};
dhtmlXTreeObject.prototype.makeDraggable=function(a,c){typeof a!="object"&&(a=document.getElementById(a));dragger=new dhtmlDragAndDropObject;dropper=new dhx_dragSomethingInTree;dragger.addDraggableItem(a,dropper);a.dragLanding=null;a.ondragstart=dropper._preventNsDrag;a.onselectstart=new Function("return false;");a.parentObject={};a.parentObject.img=a;a.parentObject.treeNod=dropper;dropper._customDrop=c};dhtmlXTreeObject.prototype.makeDragable=dhtmlXTreeObject.prototype.makeDraggable;
dhtmlXTreeObject.prototype.makeAllDraggable=function(a){for(var c=document.getElementsByTagName("div"),b=0;b<c.length;b++)c[b].getAttribute("dragInDhtmlXTree")&&this.makeDragable(c[b],a)};
function dhx_dragSomethingInTree(){this.lWin=window;this._createDragNode=function(a){var c=document.createElement("div");c.style.position="absolute";c.innerHTML=a.innerHTML||a.value;c.className="dragSpanDiv";return c};this._preventNsDrag=function(a){(a||window.event).cancelBubble=!0;a&&a.preventDefault&&a.preventDefault();return!1};this._nonTrivialNode=function(a,c,b,d){if(this._customDrop)return this._customDrop(a,d.img.id,c.id,b?b.id:null);var e=d.img.getAttribute("image")||"",f=d.img.id||"new",
g=d.img.getAttribute("text")||(_isIE?d.img.innerText:d.img.textContent);a[b?"insertNewNext":"insertNewItem"](b?b.id:c.id,f,g,"",e,e,e)}}
dhtmlXTreeObject.prototype.enableItemEditor=function(a){this._eItEd=convertStringToBoolean(a);if(!this._eItEdFlag)this._edn_dblclick=this._edn_click_IE=!0,this._ie_aFunc=this.aFunc,this._ie_dblclickFuncHandler=this.dblclickFuncHandler,this.setOnDblClickHandler(function(a,b){this._edn_dblclick&&this._editItem(a,b);return!0}),this.setOnClickHandler(function(a,b){this._stopEditItem(a,b);this.ed_hist_clcik==a&&this._edn_click_IE&&this._editItem(a,b);this.ed_hist_clcik=a;return!0}),this._eItEdFlag=!0};
dhtmlXTreeObject.prototype.setOnEditHandler=function(a){this.attachEvent("onEdit",a)};dhtmlXTreeObject.prototype.setEditStartAction=function(a,c){this._edn_click_IE=convertStringToBoolean(a);this._edn_dblclick=convertStringToBoolean(c)};
dhtmlXTreeObject.prototype._stopEdit=function(a,c){if(this._editCell&&(this.dADTempOff=this.dADTempOffEd,this._editCell.id!=a)){var b=!0;c?(b=!1,this.callEvent("onEditCancel",[this._editCell.id,this._editCell._oldValue])):b=this.callEvent("onEdit",[2,this._editCell.id,this,this._editCell.span.childNodes[0].value]);if(b===!0)b=this._editCell.span.childNodes[0].value;else if(b===!1)b=this._editCell._oldValue;var d=b!=this._editCell._oldValue;this._editCell.span.innerHTML=b;this._editCell.label=this._editCell.span.innerHTML;
var e=this._editCell.i_sel?"selectedTreeRow":"standartTreeRow";this._editCell.span.className=e;this._editCell.span.parentNode.className="standartTreeRow";this._editCell.span.style.paddingRight=this._editCell.span.style.paddingLeft="5px";this._editCell.span.onclick=this._editCell.span.ondblclick=function(){};var f=this._editCell.id;this.childCalc&&this._fixChildCountLabel(this._editCell);this._editCell=null;c||this.callEvent("onEdit",[3,f,this,d]);this._enblkbrd&&(this.parentObject.lastChild.focus(),
this.parentObject.lastChild.focus())}};dhtmlXTreeObject.prototype._stopEditItem=function(a){this._stopEdit(a)};dhtmlXTreeObject.prototype.stopEdit=function(a){this._editCell&&this._stopEdit(this._editCell.id+"_non",a)};dhtmlXTreeObject.prototype.editItem=function(a){this._editItem(a,this)};
dhtmlXTreeObject.prototype._editItem=function(a){if(this._eItEd){this._stopEdit();var c=this._globalIdStorageFind(a);if(c){var b=this.callEvent("onEdit",[0,a,this,c.span.innerHTML]);if(b===!0)b=typeof c.span.innerText!="undefined"?c.span.innerText:c.span.textContent;else if(b===!1)return;this.dADTempOffEd=this.dADTempOff;this.dADTempOff=!1;this._editCell=c;c._oldValue=b;c.span.innerHTML="<input type='text' class='intreeeditRow' />";c.span.style.paddingRight=c.span.style.paddingLeft="0px";c.span.onclick=
c.span.ondblclick=function(a){(a||event).cancelBubble=!0};c.span.childNodes[0].value=b;c.span.childNodes[0].onselectstart=function(a){return(a||event).cancelBubble=!0};c.span.childNodes[0].onmousedown=function(a){return(a||event).cancelBubble=!0};c.span.childNodes[0].focus();c.span.childNodes[0].focus();c.span.onclick=function(a){(a||event).cancelBubble=!0;return!1};c.span.className="";c.span.parentNode.className="";var d=this;c.span.childNodes[0].onkeydown=function(a){if(!a)a=window.event;if(a.keyCode==
13)a.cancelBubble=!0,d._stopEdit(window.undefined);else if(a.keyCode==27)d._editCell.span.childNodes[0].value=d._editCell._oldValue,d._stopEdit(window.undefined);(a||event).cancelBubble=!0};this.callEvent("onEdit",[1,a,this])}}};function jsonPointer(a,c){this.d=a;this.dp=c}
jsonPointer.prototype={text:function(){var a=function(a){for(var d=[],e=0;e<a.length;e++)d.push("{"+c(a[e])+"}");return d.join(",")},c=function(b){var d=[],e;for(e in b)typeof b[e]=="object"?e.length?d.push('"'+e+'":['+a(b[e])+"]"):d.push('"'+e+'":{'+c(b[e])+"}"):d.push('"'+e+'":"'+b[e]+'"');return d.join(",")};return"{"+c(this.d)+"}"},get:function(a){return this.d[a]},exists:function(){return!!this.d},content:function(){return this.d.content},each:function(a,c,b){var d=this.d[a],e=new jsonPointer;
if(d)for(var f=0;f<d.length;f++)e.d=d[f],c.apply(b,[e,f])},get_all:function(){return this.d},sub:function(a){return new jsonPointer(this.d[a],this.d)},sub_exists:function(a){return!!this.d[a]},each_x:function(a,c,b,d,e){var f=this.d[a],g=new jsonPointer(0,this.d);if(f)for(e=e||0;e<f.length;e++)if(f[e][c]&&(g.d=f[e],b.apply(d,[g,e])==-1))break},up:function(){return new jsonPointer(this.dp,this.d)},set:function(a,c){this.d[a]=c},clone:function(){return new jsonPointer(this.d,this.dp)},through:function(a,
c,b,d,e){var f=this.d[a];if(f.length)for(var g=0;g<f.length;g++){if(f[g][c]!=null&&f[g][c]!=""&&(!b||f[g][c]==b)){var h=new jsonPointer(f[g],this.d);d.apply(e,[h,g])}var i=this.d;this.d=f[g];this.sub_exists(a)&&this.through(a,c,b,d,e);this.d=i}}};
dhtmlXTreeObject.prototype.loadJSArrayFile=function(a,c){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var b=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,c,f,g,h){eval("var z="+h.xmlDoc.responseText);b.loadJSArray(z)},this,!0,this.no_cashe);if(c)this.XMLLoader.waitCall=c;this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.loadCSV=function(a,c){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var b=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,c,f,g,h){b.loadCSVString(h.xmlDoc.responseText)},this,!0,this.no_cashe);if(c)this.XMLLoader.waitCall=c;this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.loadJSArray=function(a,c){for(var b=[],d=0;d<a.length;d++)b[a[d][1]]||(b[a[d][1]]=[]),b[a[d][1]].push({id:a[d][0],text:a[d][2]});var e={id:this.rootId},f=function(a,c){if(b[a.id]){a.item=b[a.id];for(var d=0;d<a.item.length;d++)c(a.item[d],c)}};f(e,f);this.loadJSONObject(e,c)};
dhtmlXTreeObject.prototype.loadCSVString=function(a,c){for(var b=[],d=a.split("\n"),e=0;e<d.length;e++){var f=d[e].split(",");b[f[1]]||(b[f[1]]=[]);b[f[1]].push({id:f[0],text:f[2]})}var g={id:this.rootId},h=function(a,c){if(b[a.id]){a.item=b[a.id];for(var d=0;d<a.item.length;d++)c(a.item[d],c)}};h(g,h);this.loadJSONObject(g,c)};
dhtmlXTreeObject.prototype.loadJSONObject=function(a,c){this.parsCount||this.callEvent("onXLS",[this,null]);this.xmlstate=1;var b=new jsonPointer(a);this._parse(b);this._p=b;c&&c()};
dhtmlXTreeObject.prototype.loadJSON=function(a,c){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var b=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,c,f,g,h){try{eval("var t="+h.xmlDoc.responseText)}catch(i){dhtmlxError.throwError("LoadXML","Incorrect JSON",[h.xmlDoc,this]);return}var l=new jsonPointer(t);b._parse(l);b._p=l},this,!0,this.no_cashe);if(c)this.XMLLoader.waitCall=c;this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.serializeTreeToJSON=function(){for(var a=['{"id":"'+this.rootId+'", "item":['],c=[],b=0;b<this.htmlNode.childsCount;b++)c.push(this._serializeItemJSON(this.htmlNode.childNodes[b]));a.push(c.join(","));a.push("]}");return a.join("")};
dhtmlXTreeObject.prototype._serializeItemJSON=function(a){var c=[];if(a.unParsed)return a.unParsed.text();var b=this._selected.length?this._selected[0].id:"",d=a.span.innerHTML,d=d.replace(/\"/g,'\\"',d);this._xfullXML?c.push('{ "id":"'+a.id+'", '+(this._getOpenState(a)==1?' "open":"1", ':"")+(b==a.id?' "select":"1",':"")+' "text":"'+d+'", "im0":"'+a.images[0]+'", "im1":"'+a.images[1]+'", "im2":"'+a.images[2]+'" '+(a.acolor?', "aCol":"'+a.acolor+'" ':"")+(a.scolor?', "sCol":"'+a.scolor+'" ':"")+(a.checkstate==
1?', "checked":"1" ':a.checkstate==2?', "checked":"-1"':"")+(a.closeable?', "closeable":"1" ':"")+(this.XMLsource&&a.XMLload==0?', "child":"1" ':"")):c.push('{ "id":"'+a.id+'", '+(this._getOpenState(a)==1?' "open":"1", ':"")+(b==a.id?' "select":"1",':"")+' "text":"'+d+'"'+(this.XMLsource&&a.XMLload==0?', "child":"1" ':""));if(this._xuserData&&a._userdatalist){c.push(', "userdata":[');for(var e=a._userdatalist.split(","),f=[],g=0;g<e.length;g++)f.push('{ "name":"'+e[g]+'" , "content":"'+a.userData["t_"+
e[g]]+'" }');c.push(f.join(","));c.push("]")}if(a.childsCount){c.push(', "item":[');f=[];for(g=0;g<a.childsCount;g++)f.push(this._serializeItemJSON(a.childNodes[g]));c.push(f.join(","));c.push("]\n")}c.push("}\n");return c.join("")};
dhtmlXTreeObject.prototype.enableKeyboardNavigation=function(a){if(this._enblkbrd=convertStringToBoolean(a)){if(_isFF){var c=window.getComputedStyle(this.parentObject,null).position;if(c!="absolute"&&c!="relative")this.parentObject.style.position="relative"}this._navKeys=[["up",38],["down",40],["open",39],["close",37],["call",13],["edit",113]];var b=this,c=document.createElement("INPUT");c.className="a_dhx_hidden_input";c.autocomplete="off";if(window._KHTMLrv)c.style.color="white";this.parentObject.appendChild(c);
this.parentObject[_isOpera?"onkeypress":"onkeydown"]=function(a){if(b.callEvent("onKeyPress",[(a||window.event).keyCode,a||window.event]))return b._onKeyDown(a||window.event)};this.parentObject.onclick=function(){(_isFF||_isIE)&&c.select();(window._KHTMLrv||_isOpera)&&c.focus()}}else this.parentObject.onkeydown=null};
dhtmlXTreeObject.prototype._onKeyDown=function(a){if(window.globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject.isActive)return!0;for(var c=this,b=0;b<this._navKeys.length;b++)if(this._navKeys[b][1]==a.keyCode)return this["_onkey_"+this._navKeys[b][0]].apply(this,[this.getSelectedItemId()]),a.preventDefault&&a.preventDefault(),(a||event).cancelBubble=!0,!1;return this._textSearch?this._searchItemByKey(a):!0};
dhtmlXTreeObject.prototype._onkey_up=function(a){var c=this._globalIdStorageFind(a);if(c){var b=this._getPrevVisibleNode(c);b.id!=this.rootId&&(this.focusItem(b.id),this.selectItem(b.id,!1))}};dhtmlXTreeObject.prototype._onkey_down=function(a){var c=this._globalIdStorageFind(a);if(c){var b=this._getNextVisibleNode(c);b.id!=this.rootId&&(this.focusItem(b.id),this.selectItem(b.id,!1))}};dhtmlXTreeObject.prototype._onkey_open=function(a){this.openItem(a)};dhtmlXTreeObject.prototype._onkey_close=function(a){this.closeItem(a)};
dhtmlXTreeObject.prototype._onkey_call=function(a){this.stopEdit?(this.stopEdit(),this.parentObject.lastChild.focus(),this.parentObject.lastChild.focus(),this.selectItem(a,!0)):this.selectItem(this.getSelectedItemId(),!0)};dhtmlXTreeObject.prototype._onkey_edit=function(a){this.editItem&&this.editItem(a)};
dhtmlXTreeObject.prototype._getNextVisibleNode=function(a,c){return!c&&this._getOpenState(a)>0?a.childNodes[0]:a.tr&&a.tr.nextSibling&&a.tr.nextSibling.nodem?a.tr.nextSibling.nodem:a.parentObject?this._getNextVisibleNode(a.parentObject,1):a};dhtmlXTreeObject.prototype._getPrevVisibleNode=function(a){return a.tr&&a.tr.previousSibling&&a.tr.previousSibling.nodem?this._lastVisibleChild(a.tr.previousSibling.nodem):a.parentObject?a.parentObject:a};
dhtmlXTreeObject.prototype._lastVisibleChild=function(a){return this._getOpenState(a)>0?this._lastVisibleChild(a.childNodes[a.childsCount-1]):a};
dhtmlXTreeObject.prototype._searchItemByKey=function(a){if(a.keyCode==8)return this._textSearchString="",!0;var c=String.fromCharCode(a.keyCode).toUpperCase();return c.match(/[A-Z,a-z,0-9\ ]/)?(this._textSearchString+=c,this._textSearchInProgress=!0,(this.getSelectedItemText()||"").match(RegExp("^"+this._textSearchString,"i"))||this.findItem("^"+this._textSearchString,0),this._textSearchInProgress=!1,a.preventDefault&&a.preventDefault(),(a||event).cancelBubble=!0,!1):!0};
dhtmlXTreeObject.prototype.assignKeys=function(a){this._navKeys=a};dhtmlXTreeObject.prototype.enableKeySearch=function(a){if(this._textSearch=convertStringToBoolean(a)){this._textSearchString="";var c=this;this._markItem2=this._markItem;this._markItem=function(a){if(!c._textSearchInProgress)c._textSearchString="";c._markItem2(a)}}};dhtmlXTreeObject.prototype.enableLoadingItem=function(a){this.attachEvent("onXLS",this._showFakeItem);this.attachEvent("onXLE",this._hideFakeItem);this._tfi_text=a||"Loading..."};
dhtmlXTreeObject.prototype._showFakeItem=function(a,c){if(!(c===null||this._globalIdStorageFind("fake_load_xml_"+c))){var b=this.XMLsource;this.XMLsource=null;this.insertNewItem(c,"fake_load_xml_"+c,this._tfi_text);this.XMLsource=b}};dhtmlXTreeObject.prototype._hideFakeItem=function(a,c){c!==null&&this.deleteItem("fake_load_xml_"+c)};dhtmlXTreeObject.prototype.isLocked=function(a){this._locker||this._init_lock();return this._locker[a]==!0};
dhtmlXTreeObject.prototype._lockItem=function(a,c,b){this._locker||this._init_lock();if(c){if(this._locker[a.id]==!0)return;this._locker[a.id]=!0;a.bIm0=a.images[0];a.bIm1=a.images[1];a.bIm2=a.images[2];a.images[0]=this.lico0;a.images[1]=this.lico1;a.images[2]=this.lico2;var d=a.span.parentNode,e=d.previousSibling;this.dragger.removeDraggableItem(d);this.dragger.removeDraggableItem(e)}else{if(this._locker[a.id]!=!0)return;this._locker[a.id]=!1;a.images[0]=a.bIm0;a.images[1]=a.bIm1;a.images[2]=a.bIm2;
d=a.span.parentNode;e=d.previousSibling;this.dragger.addDraggableItem(d,this);this.dragger.addDraggableItem(e,this)}b||this._correctPlus(a)};dhtmlXTreeObject.prototype.lockItem=function(a,c){this._locker||this._init_lock();this._lockOn=!1;var b=this._globalIdStorageFind(a);this._lockOn=!0;this._lockItem(b,convertStringToBoolean(c))};dhtmlXTreeObject.prototype.setLockedIcons=function(a,c,b){this._locker||this._init_lock();this.lico0=a;this.lico1=c;this.lico2=b};
dhtmlXTreeObject.prototype._init_lock=function(){this._locker=[];this._locker_count="0";this._lockOn=!0;this._globalIdStorageFindA=this._globalIdStorageFind;this._globalIdStorageFind=this._lockIdFind;if(this._serializeItem)this._serializeItemA=this._serializeItem,this._serializeItem=this._serializeLockItem,this._serializeTreeA=this.serializeTree,this.serializeTree=this._serializeLockTree;this.setLockedIcons(this.imageArray[0],this.imageArray[1],this.imageArray[2])};
dhtmlXTreeObject.prototype._lockIdFind=function(a,c,b){return!this.skipLock&&!b&&this._lockOn==!0&&this._locker[a]==!0?null:this._globalIdStorageFindA(a,c,b)};dhtmlXTreeObject.prototype._serializeLockItem=function(a){return this._locker[a.id]==!0?"":this._serializeItemA(a)};dhtmlXTreeObject.prototype._serializeLockTree=function(){var a=this._serializeTreeA();return a.replace(/<item[^>]+locked\=\"1\"[^>]+\/>/g,"")};dhtmlXTreeObject.prototype._moveNodeToA=dhtmlXTreeObject.prototype._moveNodeTo;
dhtmlXTreeObject.prototype._moveNodeTo=function(a,c,b){return c.treeNod.isLocked&&c.treeNod.isLocked(c.id)?!1:this._moveNodeToA(a,c,b)};dhtmlXTreeObject.prototype.lockTree=function(a){if(convertStringToBoolean(a))this._initTreeLocker();else if(this._TreeLocker)this._TreeLocker.parentNode.removeChild(this._TreeLocker),this._TreeLocker=null};
dhtmlXTreeObject.prototype._initTreeLocker=function(){if(!this._TreeLocker){this.parentObject.style.overflow="hidden";if(this.parentObject.style.position!="absolute")this.parentObject.style.position="relative";var a=document.createElement("div");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.className="dhx_tree_opacity";a.style.width=this.allTree.offsetWidth+"px";a.style.backgroundColor="#FFFFFF";a.style.height=this.allTree.offsetHeight+"px";this._TreeLocker=a;this.parentObject.appendChild(this._TreeLocker)}};
dhtmlXTreeObject.prototype.enableRTL=function(a){var c=convertStringToBoolean(a);if(c&&!this.rtlMode||!c&&this.rtlMode)this.rtlMode=c,this._switchToRTL(this.rtlMode)};
dhtmlXTreeObject.prototype._switchToRTL=function(a){a?(this.allTree.className=this._ltr_line=this.lineArray,this._ltr_min=this.minusArray,this._ltr_plus=this.plusArray,this.lineArray="line2_rtl.gif,line3_rtl.gif,line4_rtl.gif,blank.gif,blank.gif,line1_rtl.gif".split(","),this.minusArray=["minus2_rtl.gif","minus3_rtl.gif","minus4_rtl.gif","minus.gif","minus5_rtl.gif"],this.plusArray=["plus2_rtl.gif","plus3_rtl.gif","plus4_rtl.gif","plus.gif","plus5_rtl.gif"],this.allTree.className="containerTableStyleRTL"):
(this.allTree.className="containerTableStyle",this.lineArray=this._ltr_line,this.minusArray=this._ltr_min,this.plusArray=this._ltr_plus);this.htmlNode.childsCount&&this._redrawFrom(this,this.htmlNode)};dhtmlXTreeObject.prototype.sortTree=function(a,c,b){var d=this._globalIdStorageFind(a);if(!d)return!1;this._reorderBranch(d,c.toString().toLowerCase()=="asc",convertStringToBoolean(b))};dhtmlXTreeObject.prototype.setCustomSortFunction=function(a){this._csfunca=a};
dhtmlXTreeObject.prototype._reorderBranch=function(a,c,b){var d=[],e=a.childsCount;if(e){for(var f=a.childNodes[0].tr.parentNode,g=0;g<e;g++)d[g]=a.childNodes[g],f.removeChild(d[g].tr);var h=this;c==1?this._csfunca?d.sort(function(a,b){return h._csfunca(a.id,b.id)}):d.sort(function(a,b){return a.span.innerHTML.toUpperCase()>b.span.innerHTML.toUpperCase()?1:a.span.innerHTML.toUpperCase()==b.span.innerHTML.toUpperCase()?0:-1}):this._csfunca?d.sort(function(a,b){return h._csfunca(b.id,a.id)}):d.sort(function(a,
b){return a.span.innerHTML.toUpperCase()<b.span.innerHTML.toUpperCase()?1:a.span.innerHTML.toUpperCase()==b.span.innerHTML.toUpperCase()?0:-1});for(g=0;g<e;g++)f.appendChild(d[g].tr),a.childNodes[g]=d[g],b&&d[g].unParsed?d[g].unParsed.set("order",c?1:-1):b&&d[g].childsCount&&this._reorderBranch(d[g],c,b);for(g=0;g<e;g++)this._correctPlus(d[g]),this._correctLine(d[g])}};
dhtmlXTreeObject.prototype._reorderXMLBranch=function(a){var c=a.getAttribute("order");if(c!="none"){var b=c==1,d=a.childNodes.length;if(d){for(var e=[],f=0,g=0;g<d;g++)a.childNodes[g].nodeType==1&&(e[f]=a.childNodes[g],f++);for(g=d-1;g!=0;g--)a.removeChild(a.childNodes[g]);b?e.sort(function(a,b){return a.getAttribute("text")>b.getAttribute("text")?1:a.getAttribute("text")==b.getAttribute("text")?0:-1}):e.sort(function(a,b){return a.getAttribute("text")<b.getAttribute("text")?1:a.getAttribute("text")==
b.getAttribute("text")?0:-1});for(g=0;g<f;g++)e[g].setAttribute("order",c),a.appendChild(e[g]);a.setAttribute("order","none")}}};dhtmlXTreeObject.prototype.enableSmartRendering=function(){this.enableSmartXMLParsing(!0);this._srnd=!0;this.itemHeight=18;var a=this;this.allTree.onscroll=function(){if(!a._srndT)a._srndT=window.setTimeout(function(){a._srndT=null;a._renderState()},300)};this.attachEvent("onXLE",function(){a._renderState()});this._singleTimeSRND()};
dhtmlXTreeObject.prototype._renderState=function(){this._idpull[this.rootId]._sready||this.prepareSR(this.rootId,!0);var a=this.allTree.scrollTop,c=Math.floor(a/this.itemHeight),b=Math.ceil(this.allTree.offsetHeight/this.itemHeight);this._group_render=!0;this._getItemByPos(a,this.itemHeight,b,null,!1,this._renderItemSRND);this._group_render=!1};
dhtmlXTreeObject.prototype._renderItemSRND=function(a,c){if(!a.span){a.span=-1;for(var b=a.parentObject.htmlNode.childNodes[0].childNodes,d=c*this.itemHeight,e=null,f=1;f<b.length;f++){var e=b[f],g=e.nodem?this.itemHeight:e.offsetHeight||parseInt(e.childNodes[1].firstChild.style.height);d-=g;if(d<0)if(d==-1)d++;else{var h=e.childNodes[1].firstChild;h.style.height=parseInt(h.style.height)-(g-Math.abs(d)+this.itemHeight)+"px";if(Math.abs(d)!=g){var i=this._drawNewHolder(d+g,!0);e.parentNode.insertBefore(i,
e)}e.tr={nextSibling:e};break}}if(h&&h.style.height!="0px"&&!e.offsetHeight){var l=this._hAdI;this._hAdI=!0}this._parseItem(a._sxml,a.parentObject,null,e);if(h&&h.style.height!="0px"&&!e.offsetHeight)this._hAdI=l;a.unParsed&&this._correctPlus(a);h&&h.style.height=="0px"&&e.parentNode.removeChild(e)}};
dhtmlXTreeObject.prototype._buildSRND=function(a,c){a.parentObject&&this._globalIdStorageFind(a.parentObject.id);this._idpull[this.rootId]._sready||this.prepareSR(this.rootId,!0);this._renderItemSRND(a,this._getIndex(a));a.unParsed&&!c&&this.reParse(a,0);a.prepareSR||this.prepareSR(a.id)};dhtmlXTreeObject.prototype._getIndex=function(a){for(var c=0;c<a.parentObject.childsCount;c++)if(a.parentObject.childNodes[c]==a)return c};
dhtmlXTreeObject.prototype.prepareSR=function(a,c){a=this._idpull[a];if(!a._sready){var b=this._drawNewHolder(this.itemHeight*a.childsCount,c);a.htmlNode.childNodes[0].appendChild(b);a._sready=!0}};
dhtmlXTreeObject.prototype._drawNewHolder=function(a,c){var b=document.createElement("TR"),d=document.createElement("TD"),e=document.createElement("TD"),f=document.createElement("DIV");f.innerHTML="&nbsp;";d.appendChild(f);b.appendChild(e);b.appendChild(d);if(!c)b.style.display="none";f.style.height=a+"px";return b};
dhtmlXTreeObject.prototype._getNextNodeSR=function(a,c){return!c&&a.childsCount?a.childNodes[0]:a==this.htmlNode?-1:a.tr&&a.tr.nextSibling&&a.tr.nextSibling.nodem?a.tr.nextSibling.nodem:this._getNextNode(a.parentObject,!0)};
dhtmlXTreeObject.prototype._getItemByPos=function(a,c,b,d,e,f){if(!d)this._pos_c=a,d=this._idpull[this.rootId];for(var g=0;g<d.childsCount;g++){this._pos_c-=c;this._pos_c<=0&&(e=!0);e&&(f.apply(this,[d.childNodes[g],g]),b--);if(b<0)break;if(d.childNodes[g]._open&&(b=this._getItemByPos(null,c,b,d.childNodes[g],e,f),b<0))break}return b};
dhtmlXTreeObject.prototype._addItemSRND=function(a,c,b){var d=this._idpull[a],e=d.childsCount,f=d.childNodes;f[e]=new dhtmlXTreeItemObject(c,"",d,this,null,1);itemId=f[e].id;f[e]._sxml=b.clone();d.childsCount++};
dhtmlXTreeObject.prototype._singleTimeSRND=function(){this._redrawFrom=function(){};var a=dhtmlXTreeItemObject;this._singleTimeSRND=function(){};window.dhtmlXTreeItemObject=function(c,b,d,e,f,g){if(!e._srnd)return a.call(this,c,b,d,e,f,g);this.scolor=this.acolor=this.htmlNode="";this.span=this.dragMove=this.dragSpan=this.tempDOMU=this.tempDOMM=this.childsCount=this.tr=0;this.closeble=1;this.childNodes=[];this.userData=new cObject;this.checkstate=0;this.treeNod=e;this.label=b;this.parentObject=d;this.actionHandler=
f;this.images=[e.imageArray[0],e.imageArray[1],e.imageArray[2]];this.id=e._globalIdStorageAdd(c,this);if(c==e.rootId)this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,g):this.treeNod._createItem(0,this,g),this.htmlNode.objBelong=this;return this};this.setCheckSR=this.setCheck;this.setCheck=function(a,b){this._globalIdStorageFind(a);return this.setCheckSR(a,b)};this._get_srnd_p=function(a){for(var b=[];a!=this.rootId;){for(var d=this.getParentId(a),e=0;e<this._idpull[d].childsCount;e++)if(this._idpull[d].childNodes[e].id==
a){b.push([d,e]);break}a=d}b.reverse();return b};this._get_srnd_p_last=function(a,b,d){for(var b=b||[],e=0;;){var f=this._idpull[a];f._sxml&&this.findStrInXML(f._sxml.d,"text",d)&&this._globalIdStorageFind(f.id);e=f.childsCount;if(!e)break;b.push([a,e-1]);a=f.childNodes[e-1].id}return b};this._get_prev_srnd=function(a,b){var d;if(!a.length)return a.push.apply(a,this._get_srnd_p_last(this.rootId,null,b)),d=a[a.length-1],this._idpull[d[0]].childNodes[d[1]];d=a[a.length-1];if(d[1]){d[1]--;var e=this._idpull[d[0]].childNodes[d[1]];
this._get_srnd_p_last(e.id,a,b)}else if(a.pop(),!a.length)return this._get_prev_srnd(a,b);d=a[a.length-1];return this._idpull[d[0]].childNodes[d[1]]};this._get_next_srnd=function(a,b){if(!a.length)return a.push([this.rootId,0]),this._idpull[this.rootId].childNodes[0];var d=a[a.length-1],e=this._idpull[d[0]].childNodes[d[1]];if(e.childsCount&&!b)return a.push([e.id,0]),e.childNodes[0];d[1]++;if(e=this._idpull[d[0]].childNodes[d[1]])return e;a.pop();return!a.length?this.htmlNode:this._get_next_srnd(a,
!0)};this._findNodeByLabel=function(a,b,d){a=a.replace(/^( )+/,"").replace(/( )+$/,"");a=RegExp(a.replace(/([\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi");if(!d&&(d=this._selected[0],!d))d=this.htmlNode;for(var e=d,f=this._get_srnd_p(e.id);d=b?this._get_prev_srnd(f,a):this._get_next_srnd(f);){if(d.label){if(d.label.search(a)!=-1)return d}else if(d._sxml){if(d._sxml.get("text").search(a)!=-1)return d;this.findStrInXML(d._sxml.d,"text",a)&&this._globalIdStorageFind(d.id)}d.unParsed&&this.findStrInXML(d.unParsed.d,
"text",a)&&this.reParse(d);if(e.id==d.id)break;if(b&&f.length==1&&f[0][1]==0)break}return null};this.deleteChildItems=function(a){if(this.rootId==a&&(this._selected=[],this._idpull={},this._p=this._pos_c=this._pullSize=null,this.allTree.removeChild(this.htmlNode.htmlNode),this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this),this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none",this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow",this.allTree.insertBefore(this.htmlNode.htmlNode,
this.selectionBar),_isFF))this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden"};this._HideShow=function(a,b){if(this.XMLsource&&!a.XMLload){if(b!=1)a.XMLload=1,this._loadDynXML(a.id)}else if(a.span||this._buildSRND(a),a.unParsed&&(this.reParse(a),this.prepareSR(a.id)),a.childsCount!=0){var d=a.htmlNode.childNodes[0].childNodes,e=d.length;if(e>1){if((d[1].style.display!="none"||b==1)&&b!=2){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border=
"0";var f="none";a._open=!1}else f="",a._open=!0;for(var g=1;g<e;g++)d[g].style.display=f;this._renderState()}this._correctPlus(a)}}};
function dhtmlXTreeFromHTML(a){typeof a!="object"&&(a=document.getElementById(a));for(var c=a,b=c.id,d="",e=0;e<a.childNodes.length;e++)if(a.childNodes[e].nodeType=="1"){if(a.childNodes[e].tagName=="XMP")for(var f=a.childNodes[e],g=0;g<f.childNodes.length;g++)d+=f.childNodes[g].data;else a.childNodes[e].tagName.toLowerCase()=="ul"&&(d=dhx_li2trees(a.childNodes[e],[],0));break}a.innerHTML="";var h=new dhtmlXTreeObject(a,"100%","100%",0),i=[];for(b in h)i[b.toLowerCase()]=b;for(var l=a.attributes,n=
0;n<l.length;n++)if(l[n].name.indexOf("set")==0||l[n].name.indexOf("enable")==0){var o=l[n].name;h[o]||(o=i[l[n].name]);h[o].apply(h,l[n].value.split(","))}if(typeof d=="object"){h.XMLloadingWarning=1;for(var j=0;j<d.length;j++)c=h.insertNewItem(d[j][0],d[j][3],d[j][1]),d[j][2]&&h._setCheck(c,d[j][2]);h.XMLloadingWarning=0;h.lastLoadedXMLId=0;h._redrawFrom(h)}else h.loadXMLString("<tree id='0'>"+d+"</tree>");window[b]=h;var k=a.getAttribute("oninit");k&&eval(k);return h}
function dhx_init_trees(){for(var a=document.getElementsByTagName("div"),c=0;c<a.length;c++)a[c].className=="dhtmlxTree"&&dhtmlXTreeFromHTML(a[c])}
function dhx_li2trees(a,c,b){for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(e.nodeType==1&&e.tagName.toLowerCase()=="li"){for(var f="",g=null,h=e.getAttribute("checked"),i=0;i<e.childNodes.length;i++){var l=e.childNodes[i];l.nodeType==3?f+=l.data:l.tagName.toLowerCase()!="ul"?f+=dhx_outer_html(l):g=l}c[c.length]=[b,f,h,e.id||c.length+1];g&&(c=dhx_li2trees(g,c,e.id||c.length))}}return c}
function dhx_outer_html(a){if(a.outerHTML)return a.outerHTML;var c=document.createElement("DIV");c.appendChild(a.cloneNode(!0));return c=c.innerHTML}window.addEventListener?window.addEventListener("load",dhx_init_trees,!1):window.attachEvent&&window.attachEvent("onload",dhx_init_trees);dhtmlXTreeObject.prototype._serEnts=[["&","&amp;"],["<","&lt;"],[">","&gt;"]];dhtmlXTreeObject.prototype.registerXMLEntity=function(a,c){this._serEnts[this._serEnts.length]=[a,c,RegExp(a,"g")]};
dhtmlXTreeObject.prototype.setSerializationLevel=function(a,c,b,d,e){this._xuserData=convertStringToBoolean(a);this._xfullXML=convertStringToBoolean(c);this._dtd=e;this._xescapeEntities=convertStringToBoolean(b);if(convertStringToBoolean(d))this._apreUC="<![CDATA[",this._apstUC="]]\>";for(var f=0;f<this._serEnts.length;f++)this._serEnts[f][2]=RegExp(this._serEnts[f][0],"g")};
dhtmlXTreeObject.prototype.serializeTree=function(){this.stopEdit&&this.stopEdit();this._apreUC=this._apreUC||"";this._apstUC=this._apstUC||"";var a='<?xml version="1.0"?>';this._dtd&&(a+='<!DOCTYPE tree SYSTEM "'+this._dtd+'">');a+='<tree id="'+this.rootId+'">';if(this._xuserData&&this._idpull[this.rootId]._userdatalist)for(var c=this._idpull[this.rootId]._userdatalist.split(","),b=0;b<c.length;b++)a+='<userdata name="'+c[b]+'">'+this._apreUC+this._idpull[this.rootId].userData["t_"+c[b]]+this._apstUC+
"</userdata>";for(b=0;b<this.htmlNode.childsCount;b++)a+=this._serializeItem(this.htmlNode.childNodes[b]);a+="</tree>";return a};
dhtmlXTreeObject.prototype._serializeItem=function(a){if(a.unParsed)if(document.all)return a.unParsed.d.xml;else{var c=new XMLSerializer;return c.serializeToString(a.unParsed.d)}var b="",d=this._selected.length?this._selected[0].id:'"',e=a.span.innerHTML;if(this._xescapeEntities)for(var f=0;f<this._serEnts.length;f++)e=e.replace(this._serEnts[f][2],this._serEnts[f][1]);b=this._xfullXML?'<item id="'+a.id+'" '+(this._getOpenState(a)==1?' open="1" ':"")+(d==a.id?' select="1"':"")+' text="'+e+'" im0="'+
a.images[0]+'" im1="'+a.images[1]+'" im2="'+a.images[2]+'" '+(a.acolor?'aCol="'+a.acolor+'" ':"")+(a.scolor?'sCol="'+a.scolor+'" ':"")+(a.checkstate==1?'checked="1" ':a.checkstate==2?'checked="-1"':"")+(a.closeable?'closeable="1" ':"")+(this.XMLsource&&a.XMLload==0?' child="1" ':"")+">":'<item id="'+a.id+'" '+(this._getOpenState(a)==1?' open="1" ':"")+(d==a.id?' select="1"':"")+' text="'+e+'"'+(this.XMLsource&&a.XMLload==0?' child="1" ':"")+">";if(this._xuserData&&a._userdatalist)for(var g=a._userdatalist.split(","),
f=0;f<g.length;f++)b+='<userdata name="'+g[f]+'">'+this._apreUC+a.userData["t_"+g[f]]+this._apstUC+"</userdata>";for(f=0;f<a.childsCount;f++)b+=this._serializeItem(a.childNodes[f]);b+="</item>";return b};dhtmlXTreeObject.prototype.saveSelectedItem=function(a,c){a=a||"";this.setCookie("treeStateSelected"+a,this.getSelectedItemId(),c)};dhtmlXTreeObject.prototype.restoreSelectedItem=function(a){var a=a||"",c=this.getCookie("treeStateSelected"+a);this.selectItem(c,!1)};
dhtmlXTreeObject.prototype.enableAutoSavingSelected=function(a,c){if((this.assMode=convertStringToBoolean(a))&&!this.oldOnSelect)this.oldOnSelect=this.onRowSelect,this.onRowSelect=function(a,c,e){c||(c=this);c.parentObject.treeNod.oldOnSelect(a,c,e);c.parentObject.treeNod.assMode&&c.parentObject.treeNod.saveSelectedItem(c.parentObject.treeNod.assCookieName)};this.assCookieName=c};
dhtmlXTreeObject.prototype.saveState=function(a,c){var b=this._escape(this.serializeTree()),d=4E3;if(b.length>d){if(navigator.appName.indexOf("Microsoft")!=-1)return!1;this.setCookie("treeStatex"+a,Math.ceil(b.length/d));for(var e=0;e<Math.ceil(b.length/d);e++)this.setCookie("treeStatex"+a+"x"+e,b.substr(e*d,d),c)}else this.setCookie("treeStatex"+a,b,c);b=this.getCookie("treeStatex"+a);return!b?(this.setCookie("treeStatex"+a,"",c),!1):!0};
dhtmlXTreeObject.prototype.loadState=function(a){var c=this.getCookie("treeStatex"+a);if(!c)return!1;if(c.length){if(c.toString().length<4){for(var b="",d=0;d<c;d++)b+=this.getCookie("treeStatex"+a+"x"+d);c=b}this.loadXMLString(this.utfesc=="utf8"?decodeURI(c):unescape(c))}return!0};dhtmlXTreeObject.prototype.setCookie=function(a,c,b){var d=a+"="+c+(b?"; "+b:"");document.cookie=d};
dhtmlXTreeObject.prototype.getCookie=function(a){var c=a+"=";if(document.cookie.length>0){var b=document.cookie.indexOf(c);if(b!=-1){b+=c.length;var d=document.cookie.indexOf(";",b);if(d==-1)d=document.cookie.length;return document.cookie.substring(b,d)}}};dhtmlXTreeObject.prototype.saveOpenStates=function(a,c){for(var b=[],d=0;d<this.htmlNode.childsCount;d++)b=b.concat(this._collectOpenStates(this.htmlNode.childNodes[d]));b=b.join(this.dlmtr);this.setCookie("treeOpenStatex"+a,b,c)};
dhtmlXTreeObject.prototype.loadOpenStates=function(a){for(var c=0;c<this.htmlNode.childsCount;c++)this._xcloseAll(this.htmlNode.childNodes[c]);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";var b=getCookie("treeOpenStatex"+a);if(b)for(var d=b.split(this.dlmtr),c=0;c<d.length;c++){var e=this._globalIdStorageFind(d[c]);if(e)if(this.XMLsource&&!e.XMLload&&e.id!=this.rootId){this._delayedLoad(e,"loadOpenStates('"+a+"')");return}else this.openItem(d[c])}this.callEvent("onAllOpenDynamic",
[])};dhtmlXTreeObject.prototype._delayedLoad=function(a,c){this.afterLoadMethod=c;this.onLoadReserve=this.onXLE;this.onXLE=this._delayedLoadStep2;this._loadDynXML(a.id)};dhtmlXTreeObject.prototype._delayedLoadStep2=function(a){a.onXLE=a.onLoadReserve;window.setTimeout(function(){dhtmlx.temp=a;eval("dhtmlx.temp."+a.afterLoadMethod)},100);if(a.onXLE)a.onXLE(a);a.callEvent("onXLE",[a])};
dhtmlXTreeObject.prototype._collectOpenStates=function(a){var c=[];if(this._getOpenState(a)==1){c.push(a.id);for(var b=0;b<a.childsCount;b++)c=c.concat(this._collectOpenStates(a.childNodes[b]))}return c};function setCookie(a,c){document.cookie=a+"="+c}function getCookie(a){var c=a+"=";if(document.cookie.length>0){var b=document.cookie.indexOf(c);if(b!=-1){b+=c.length;var d=document.cookie.indexOf(";",b);if(d==-1)d=document.cookie.length;return document.cookie.substring(b,d)}}}
dhtmlXTreeObject.prototype.openAllItemsDynamic=function(a){this.ClosedElem=[];this.G_node=null;var c=this._globalIdStorageFind(a||this.rootId);c.id!=this.rootId&&this.getOpenState(c.id)!=0&&this.openItem(a);this._openAllNodeChilds(c,0);if(this.ClosedElem.length>0)this.onLoadReserve=this.onXLE,this.onXLE=this._loadAndOpen,this._loadAndOpen(this)};
dhtmlXTreeObject.prototype._openAllNodeChilds=function(a){(a.XMLload==0||a.unParsed)&&this.ClosedElem.push(a);for(var c=0;c<a.childsCount;c++)this._getOpenState(a.childNodes[c])<0&&this._HideShow(a.childNodes[c],2),a.childNodes[c].childsCount>0&&this._openAllNodeChilds(a.childNodes[c]),(a.childNodes[c].XMLload==0||a.childNodes[c].unParsed)&&this.ClosedElem.push(a.childNodes[c])};
dhtmlXTreeObject.prototype._loadAndOpen=function(a){if(a.G_node)a._openItem(a.G_node),a._openAllNodeChilds(a.G_node),a.G_node=null;if(a.ClosedElem.length>0)a.G_node=a.ClosedElem.shift();if(a.G_node)a.G_node.unParsed?a.reParse(a.G_node):window.setTimeout(function(){a._loadDynXML(a.G_node.id)},100);else{a.onXLE=a.onLoadReserve;if(a.onXLE)a.onXLE(a);a.callEvent("onAllOpenDynamic",[a])}};
dhtmlXTreeObject.prototype.openItemsDynamic=function(a,c){if(this.onXLE!=this._stepOpen)this._opnItmsDnmcFlg=convertStringToBoolean(c),this.onLoadReserve=this.onXLE,this.onXLE=this._stepOpen,this.ClosedElem=a.split(",").reverse(),this._stepOpen(this)};
dhtmlXTreeObject.prototype._stepOpen=function(a){if(a.ClosedElem.length){a.G_node=a.ClosedElem.pop();var c=a._globalIdStorageFind(a.G_node);c.XMLload===0?a.openItem(a.G_node):(a.openItem(a.G_node),a._stepOpen(a))}else a.onXLE=a.onLoadReserve,a._opnItmsDnmcFlg&&a.selectItem(a.G_node,!0),a.onXLE&&arguments[1]&&a.onXLE.apply(a,arguments),a.callEvent("onOpenDynamicEnd",[])};function dhtmlXLayoutPanel(){}
function dhtmlXLayoutObject(a,c,b){if(window.dhtmlXContainer){var d=this;this._autodetectSkin=function(){var a=document.createElement("DIV");a.className="dhxlayout_skin_detect";document.body.childNodes.length>0?document.body.insertBefore(a,document.body.childNodes[0]):document.body.appendChild(a);var b=a.offsetWidth;document.body.removeChild(a);a=null;return b==199?"dhx_skyblue":b==299?"dhx_blue":b==399?"dhx_black":b==499?"dhx_web":b==599?"dhx_terrace":"dhx_skyblue"};this.skin=b!=null?b:typeof dhtmlx!=
"undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:this._autodetectSkin();this.setSkin=function(a){if(this.skinParams[a]){this.skin=a;this._CPanelHeight=this.skinParams[this.skin].cpanel_height;this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width;this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height;this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin+(this._r?" dhxlayout_rtl":"");this.sizer.className="dhxLayout_Sizer_"+this.skin;this.dhxWins&&this.dhxWins.setSkin(this.skin);
for(var b in this.polyObj)this.polyObj[b].skin=this.skin;this.base.skin=this.skin;this._fixIcons();this.setSizes()}};this._isIPad=navigator.userAgent.search(/iPad/gi)>=0;this._dblClickTM=600;this._mBottom=this._mTop=0;typeof a=="string"&&(a=document.getElementById(a));if((a._isWindow==!0||a._isCell)&&!this.base){if(a._isCell&&a.attachLayout)return a.attachLayout(c,b);if(a.isWindow)return a.attachLayout(c,b);this.base=a}if(a==document.body&&!this.base)document.body.style.overflow="hidden";if((typeof a==
"object"||a==document.body)&&!this.base){var e=document.createElement("DIV");e.className="dhxcont_global_layout_area";a.appendChild(e);a._isLayout=!0;this.cont=new dhtmlXContainer(a);this.cont.setContent(e);if(a==document.body){if(this.skin=="dhx_skyblue"||this.skin=="dhx_blue")this.cont.obj._offsetTop=2,this.cont.obj._offsetLeft=2,this.cont.obj._offsetHeight=-4,this.cont.obj._offsetWidth=-4;if(this.skin=="dhx_web")this.cont.obj._offsetTop=9,this.cont.obj._offsetLeft=9,this.cont.obj._offsetHeight=
-18,this.cont.obj._offsetWidth=-18;if(this.skin=="dhx_terrace")this.cont.obj._offsetTop=14,this.cont.obj._offsetLeft=14,this.cont.obj._offsetHeight=-28,this.cont.obj._offsetWidth=-28;document.body.className+=" dhxlayout_fullscreened"}a.adjustContent(a,this._mTop,null,null,this._mBottom);this.base=document.createElement("DIV");this.base.style.overflow="hidden";this.base.style.position="absolute";this.base.style.left="0px";this.base.style.top="0px";this.base.style.width=e.childNodes[0].style.width;
this.base.style.height=e.childNodes[0].style.height;e.childNodes[0].appendChild(this.base);if(a==document.body)this._lw=this._tmTime=null,this._doOnResizeStart=function(){window.clearTimeout(this._tmTime);this._tmTime=window.setTimeout(function(){d._doOnResizeEnd()},200)},this._doOnResizeEnd=function(){this.setSizes(!1)},_isIE?window.attachEvent("onresize",d._doOnResizeStart):window.addEventListener("resize",d._doOnResizeStart,!1);a._doOnAttachToolbar=function(){d!=null&&typeof d.setSizes=="function"&&
d.setSizes()}}this.items=[];this.cells=function(a){return this.polyObj[a]!=null?this.polyObj[a]:null};this.getIdByIndex=function(a){return a<0?null:a>=this.items.length?null:this.items[a]._idd};this.getIndexById=function(a){return this.cells(a)!=null?this.cells(a).getIndex():null};this.imagePath=dhtmlx.image_path||"codebase/imgs/";this.setImagePath=function(a){this.imagePath=a};this.polyObj={};this.sepHor=[];this.sepVer=[];this._layoutView=c!=null?String(c).toUpperCase():"3E";this._minHeight=this._minWidth=
40;this._CPanelBtnsWidth=32;this.skinParams={dhx_black:{hor_sep_height:5,ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_blue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_skyblue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:26,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_web:{hor_sep_height:9,ver_sep_width:9,cpanel_height:27,cpanel_collapsed_width:18,cpanel_collapsed_height:18,
cell_pading_max:1,cell_pading_min:0},dhx_terrace:{hor_sep_height:14,ver_sep_width:14,cpanel_height:37,cpanel_collapsed_width:18,cpanel_collapsed_height:18,cell_pading_max:1,cell_pading_min:0}};this._CPanelHeight=this.skinParams[this.skin].cpanel_height;this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width;this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height;this.tpl=document.createElement("TABLE");this.tpl.dir="ltr";this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin;
this.tpl.cellSpacing=0;this.tpl.cellPadding=0;var f=document.createElement("TBODY");this.tpl.appendChild(f);this.tpl.border=0;this.tplSizes={};this._effects={collapse:!1,resize:!1,highlight:!0};this.sizer=document.createElement("DIV");this.sizer.className="dhxLayout_Sizer_"+this.skin;this.sizer.style.display="none";document.body.appendChild(this.sizer);this._attachSizer=function(a){d.sizer.style.left=getAbsoluteLeft(a)+"px";d.sizer.style.top=getAbsoluteTop(a)+"px";d.sizer.style.width=a.offsetWidth+
"px";d.sizer.style.height=a.offsetHeight+"px";if(d._sizerML!=null)d.sizer.style.marginLeft=d._sizerML+"px";if(d._sizerMT!=null)d.sizer.style.marginTop=d._sizerMT+"px";d.sizer.style.display="";d.sizer.className="dhxLayout_Sizer_"+d.skin;a._dir!=null&&(d.sizer.className+=" "+(a._dir=="hor"?"dhxCursorNResize":"dhxCursorWResize"))};this.listViews=function(){var a=[],b;for(b in this.tplData)a[a.length]=b;return a};this._init=function(){this.obj=document.createElement("DIV");this.obj.className="dhtmlxLayoutObject";
this.base.appendChild(this.obj);this.obj.appendChild(this.tpl);this.w=this.obj.offsetWidth;this.h=this.obj.offsetHeight;this._xmlLoader.loadXMLString(this.tplData[this._layoutView]!=null?this.tplData[this._layoutView]:this.tplData["3E"]);this._initWindows()};this._autoHor=[];this._autoVer=[];this._dimension=[320,200];this._colsRatio=this._rowsRatio=100;this._xmlParser=function(){for(var a=[],b=[],c={},e=this.getXMLTopNode("layout"),f=0;f<e.childNodes.length;f++){if(e.childNodes[f].tagName=="row"){var o=
e.childNodes[f],j=document.createElement("TR");d.tpl.childNodes[0].appendChild(j);for(var k=0;k<o.childNodes.length;k++)if(o.childNodes[k].tagName=="cell"){var m=o.childNodes[k],p=document.createElement("TD");p._dir="null";if(m.getAttribute("obj")!=null){for(var s=m.getAttribute("obj"),q=String(m.getAttribute("wh")).split(","),r=isNaN(q[0]),w=isNaN(q[0])?parseInt(d.polyObj[q[0]].style.width):0,t=0;t<a.length;t++)for(var u=0;u<a[t].length;u++)if(a[t][u]==s){if(!r){for(var r=!0,z=d.base.offsetWidth-
c[s][0]*d.skinParams[d.skin].ver_sep_width,x=0;x<a[t].length;x++)isNaN(a[t][x])||(z-=a[t][x],q[0]-=1);w=Math.ceil(z/q[0])}a[t][u]=w}p.style.width=w+"px";for(var r=isNaN(q[1]),A=isNaN(q[1])?parseInt(d.polyObj[q[1]].style.height):0,t=0;t<b.length;t++)for(u=0;u<b[t].length;u++)if(b[t][u]==s){if(!r){for(var r=!0,C=d.base.offsetHeight-c[s][1]*d.skinParams[d.skin].hor_sep_height,x=0;x<b.length;x++)isNaN(b[x][u])||(C-=b[x][u],q[1]-=1);A=Math.ceil(C/q[1])}b[t][u]=A}p.style.height=A+"px";p.className="dhtmlxLayoutSinglePoly";
p.innerHTML="";p._minW=m.getAttribute("minWidth")!=null?Number(m.getAttribute("minWidth")):d._minWidth;p._minH=m.getAttribute("minHeight")!=null?Number(m.getAttribute("minHeight")):d._minHeight;p._initCPanel=m.getAttribute("cpanel")!=null?m.getAttribute("cpanel")=="false"?!1:!0:!0;p._resize=m.getAttribute("resize");for(var B=String(m.getAttribute("neighbors")).split(";"),v=0;v<B.length;v++){var y=String(B[v]).split(",");y.length>1&&(B[v]=y)}p._rowData=B;d.polyObj[s]=p}if(m.getAttribute("sep")!=null){var L=
m.getAttribute("sep");if(L=="hor"){p.className="dhtmlxLayoutPolySplitterHor";p._dir="hor";for(var G=m.getAttribute("top").split(";"),v=0;v<G.length;v++)y=String(G[v]).split(","),y.length>1&&(G[v]=y);p._top=G;for(var H=m.getAttribute("bottom").split(";"),v=0;v<H.length;v++)y=String(H[v]).split(","),y.length>1&&(H[v]=y);p._bottom=H;d.sepHor[d.sepHor.length]=p}else{p.className="dhtmlxLayoutPolySplitterVer";p._dir="ver";for(var I=m.getAttribute("left").split(";"),v=0;v<I.length;v++)y=String(I[v]).split(","),
y.length>1&&(I[v]=y);p._left=I;for(var J=m.getAttribute("right").split(";"),v=0;v<J.length;v++)y=String(J[v]).split(","),y.length>1&&(J[v]=y);p._right=J;d.sepVer[d.sepVer.length]=p}p._dblClick=m.getAttribute("dblclick");p._isSep=!0;p.innerHTML='<div style="height:2px;overflow:hidden;">&nbsp;</div>'}if(m.getAttribute("colspan")!=null)p.colSpan=m.getAttribute("colspan");if(m.getAttribute("rowspan")!=null)p.rowSpan=m.getAttribute("rowspan");j.appendChild(p)}}if(e.childNodes[f].tagName=="autosize")d._autoHor=
e.childNodes[f].getAttribute("hor").split(";"),d._autoVer=e.childNodes[f].getAttribute("ver").split(";"),d._totalCols=e.childNodes[f].getAttribute("cols"),d._totalRows=e.childNodes[f].getAttribute("rows"),d._dimension[0]=d._totalCols*d._colsRatio,d._dimension[1]=d._totalRows*d._rowsRatio;if(e.childNodes[f].tagName=="table"){for(var M=e.childNodes[f].getAttribute("data"),x=String(M).split(";"),t=0;t<x.length;t++){a[t]=[];b[t]=[];for(var E=String(x[t]).split(","),u=0;u<E.length;u++)a[t][u]=E[u],b[t][u]=
E[u],c[E[u]]==null&&(c[E[u]]=[0,0])}for(var F in c){r=!1;for(t=0;t<a.length;t++)for(u=0;u<a[t].length;u++)if(a[t][u]==F&&!r){for(var r=!0,D=0;D<a[t].length;D++)a[t][D]!=F&&c[F][0]++;for(D=0;D<a.length;D++)a[D][u]!=F&&c[F][1]++}}}}b=a=null;d._buildSurface();this.destructor()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.listAutoSizes=function(){var a=this._availAutoSize[this._layoutView+"_hor"],b=this._availAutoSize[this._layoutView+"_ver"],c=this._autoHor.join(";"),d=this._autoVer.join(";");
return[c,d,a,b]};this.setAutoSize=function(a,b){if(a!=null){for(var c=!1,d=this._availAutoSize[this._layoutView+"_hor"],e=0;e<d.length;e++)c=c||d[e]==a;if(c==!0)this._autoHor=a.split(";")}if(b!=null){c=!1;d=this._availAutoSize[this._layoutView+"_ver"];for(e=0;e<d.length;e++)c=c||d[e]==b;if(c==!0)this._autoVer=b.split(";")}};this._buildSurface=function(){for(var a=0;a<this.tpl.childNodes[0].childNodes.length;a++)for(var b=this.tpl.childNodes[0].childNodes[a],c=0;c<b.childNodes.length;c++){var d=b.childNodes[c],
e=this;if(!d._isSep)d._isCell=!0,d.skin=this.skin,d.getId=function(){return this._idd},d.getIndex=function(){return this._ind},d.showHeader=function(){e.showPanel(this._idd)},d.hideHeader=function(){e.hidePanel(this._idd)},d.isHeaderVisible=function(){return e.isPanelVisible(this._idd)},d.setText=function(a){e.setText(this._idd,a)},d.getText=function(){return e.getText(this._idd)},d.expand=function(){e._isCollapsed(this._idd)&&e._expand(this._idd,"hide")},d.collapse=function(){e._isCollapsed(this._idd)||
e._collapse(this._idd,"hide")},d.isCollapsed=function(){return e._isCollapsed(this._idd)},d.dock=function(){e._isCollapsed(this._idd)&&(e._expand(this._idd,"dock"),e.dockWindow(this._idd))},d.undock=function(){e._isCollapsed(this._idd)||(e.unDockWindow(this._idd),e._collapse(this._idd,"dock"))},d.setWidth=function(a){if(Number(a)){var b=this._isBlockedWidth||!1;this._isBlockedWidth=!1;e._setWidth(this._idd,a);this._isBlockedWidth=b}},d.getWidth=function(){return parseInt(this.style.width)},d.setHeight=
function(a){if(Number(a)){var b=this._isBlockedHeight||!1;this._isBlockedHeight=!1;e._setHeight(this._idd,a);this._isBlockedHeight=b}},d.getHeight=function(){return parseInt(this.style.height)},d.fixSize=function(a,b){e._fixSize(this._idd,a,b)},d.progressOn=function(){e._progressControl(this._idd,!0)},d.progressOff=function(){e._progressControl(this._idd,!1)},d._doOnAttachMenu=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:e.skinParams[e.skin].cpanel_height);this.updateNestedObjects()},
d._doOnAttachToolbar=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:e.skinParams[e.skin].cpanel_height);this.updateNestedObjects()},d._doOnAttachStatusBar=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:e.skinParams[e.skin].cpanel_height);this.updateNestedObjects()},d._doOnFrameContentLoaded=function(){e.callEvent("onContentLoaded",[this._idd])},d._doOnResize=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:e.skinParams[e.skin].cpanel_height);
this.updateNestedObjects()},d._redraw=function(){},d.showArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display=""},d.hideArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display="none"},d.isArrowVisible=function(){return this.childNodes[0].childNodes[0].childNodes[4].style.display!="none"};if(d._dir=="ver")d.onselectstart=function(a){a=a||event;a.returnValue=!1},_isIE&&(d.ondblclick=function(){e._doOnDoubleClick(this)}),d[this._isIPad?"ontouchstart":"onmousedown"]=
function(a){a=a||event;if(!_isIE)if(this._lastClick){var b=this._lastClick;this._lastClick=(new Date).getTime();if(b+e._dblClickTM>=this._lastClick&&e._doOnDoubleClick(this)===!0)return}else this._lastClick=(new Date).getTime();var c=e._findDockCellsVer(this);e._resAreaData=[];if(c[0]!=null&&c[1]!=null){String(document.body.className).search("dhxCursorWResize")==-1&&(document.body.className+=" dhxCursorWResize");e._resObj=this;e._anyExpL=c[0];e._anyExpR=c[1];e._collectResAreaData(c);e._resX=e._isIPad?
a.touches[0].clientX:a.clientX;if(e._effects.resize==!1){e._attachSizer(this);e.sizer._leftXStart=parseInt(e.sizer.style.left);var d=e.polyObj[e._anyExpL[0]];e._resXMaxWidthLeft=parseInt(d.style.width)-e._minWidth;var g=e.polyObj[e._anyExpR[0]];e._resXMaxWidthRight=parseInt(g.style.width)-e._minWidth;if(e._alterSizes.length>0)for(var h=0;h<e._alterSizes.length;h++){for(var f=0;f<e._anyExpL.length;f++)if(e._alterSizes[h][0]==e._anyExpL[f]){var i=e._resXMaxWidthLeft=parseInt(d.style.width)-e._alterSizes[h][1];
if(i<e._resXMaxWidthLeft)e._resXMaxWidthLeft=i}for(f=0;f<e._anyExpR.length;f++)if(e._alterSizes[h][0]==e._anyExpR[f]&&(i=parseInt(g.style.width)-e._alterSizes[h][1],i<e._resXMaxWidthRight))e._resXMaxWidthRight=i}e._resXStart=e._resX}e._resFunc=e._resizeVer;e._isIPad&&a.preventDefault()}},d.onmouseup=function(){if(e._effects.resize==!0)e._resizeStop(),e._anyExpL=null,e._anyExpR=null};if(d._dir=="hor")d.onselectstart=function(a){a=a||event;a.returnValue=!1},d[this._isIPad?"ontouchstart":"onmousedown"]=
function(a){a=a||event;if(this._lastClick){var b=this._lastClick;this._lastClick=(new Date).getTime();if(b+e._dblClickTM>=this._lastClick&&e._doOnDoubleClick(this)===!0)return}else this._lastClick=(new Date).getTime();var c=e._findDockCellsHor(this);e._resAreaData=[];if(c[0]!=null&&c[1]!=null){String(document.body.className).search("dhxCursorNResize")==-1&&(document.body.className+=" dhxCursorNResize");e._resObj=this;e._anyExpT=c[0];e._anyExpB=c[1];e._collectResAreaData(c);e._resY=e._isIPad?a.touches[0].clientY:
a.clientY;if(e._effects.resize==!1){e._attachSizer(this);e.sizer._topYStart=parseInt(e.sizer.style.top);var d=e.polyObj[e._anyExpT[0]];e._resYMaxHeightTop=parseInt(d.style.height)-e._minHeight;var g=e.polyObj[e._anyExpB[0]];e._resYMaxHeightBottom=parseInt(g.style.height)-e._minHeight;if(e._alterSizes.length>0)for(var h=0;h<e._alterSizes.length;h++){for(var f=0;f<e._anyExpT.length;f++)if(e._alterSizes[h][0]==e._anyExpT[f]){var i=parseInt(d.style.height)-e._alterSizes[h][2]-(d.childNodes[0].style.display!=
"none"?e.skinParams[e.skin].cpanel_height:0);if(i<e._resYMaxHeightTop)e._resYMaxHeightTop=i}for(f=0;f<e._anyExpB.length;f++)if(e._alterSizes[h][0]==e._anyExpB[f]&&(i=parseInt(g.style.height)-e._alterSizes[h][2]-(g.childNodes[0].style.display!="none"?e.skinParams[e.skin].cpanel_height:0),i<e._resYMaxHeightBottom))e._resYMaxHeightBottom=i}e._resYStart=e._resY}e._resFunc=e._resizeHor;e._isIPad&&a.preventDefault()}},d.onmouseup=function(){if(e._effects.resize==!0)e._resizeStop(),e._anyExpT=null,e._anyExpB=
null}}for(var f in this.polyObj){this.polyObj[f]._collapsed=!1;this.polyObj[f]._idd=f;this.polyObj[f]._ind=this.items.length;this.items[this.items.length]=this.polyObj[f];var j=document.createElement("DIV");j.style.position="relative";j.style.left="0px";j.style.top="0px";j.style.width=this.polyObj[f].style.width;j.style.height=this.polyObj[f].style.height;j.style.overflow="hidden";this.polyObj[f].appendChild(j);var k=document.createElement("DIV");k._dockCell=f;k._resize=this.polyObj[f]._resize;k.className=
"dhtmlxPolyInfoBar";k.innerHTML="<div class='dhtmlxInfoBarLabel'>"+f+"</div><div class='dhtmlxInfoBarButtonsFake'><div class='dhtmlxInfoBarButtonsFake2'></div></div><div class='dhtmlxInfoButtonDock' title='"+this.i18n.dock+"'></div><div class='dhtmlxInfoButtonUnDock' style='display: none;' title='"+this.i18n.undock+"'></div><div class='dhtmlxInfoButtonShowHide_"+k._resize+"' title='"+this.i18n.collapse+"'></div><div class='dhtmlxLineL'></div><div class='dhtmlxLineR'></div>";this.polyObj[f]._initCPanel==
!0?(k._h=this._CPanelHeight,k.style.display=""):(k._h=0,k.style.display="none");this.polyObj[f].childNodes[0].appendChild(k);k.ondblclick=function(){e.callEvent("onDblClick",[this._dockCell])};k.childNodes[4].onclick=function(){var a=this.parentNode._dockCell;e._isCollapsed(a)?e._expand(a,"hide"):e._collapse(a,"hide")};for(a=0;a<k.childNodes.length;a++)k.childNodes[a].onselectstart=function(a){a=a||event;a.returnValue=!1};var m=document.createElement("DIV");m.className="dhxcont_global_content_area";
this.polyObj[f].childNodes[0].appendChild(m);var p=new dhtmlXContainer(this.polyObj[f]);p.setContent(m);this.skin=="dhx_web"&&this.polyObj[f]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web");if(this.skin=="dhx_terrace")this.polyObj[f]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_terrace"),this.polyObj[f].childNodes[0].style.borderRadius="3px",this.polyObj[f].childNodes[0].childNodes[1].style.borderBottomLeftRadius=this.polyObj[f].childNodes[0].childNodes[1].style.borderBottomRightRadius=
"3px";this.polyObj[f].adjustContent(this.polyObj[f].childNodes[0],this.skinParams[this.skin].cpanel_height)}this._fixIcons()};this._anyExpB=this._anyExpT=this._anyExpR=this._anyExpL=this._resFunc=this._resObj=this._resY=this._resX=null;this._expand=function(a,b){this._doExpand(this.polyObj[a]._resize,a,this.polyObj[a]._rowData,b)};this._collapse=function(a,b){if(!this._isCollapsed(a))this.polyObj[a]._savedW=parseInt(this.polyObj[a].style.width),this.polyObj[a]._savedH=parseInt(this.polyObj[a].style.height),
this._doCollapse(this.polyObj[a]._resize,a,this.polyObj[a]._rowData,b)};this._isCollapsed=function(a){return this.polyObj[a]._collapsed};this._checkAlterMinSize=function(a){this._alterSizes=[];for(var b=0;b<a.length;b++)for(var c=0;c<a[b].length;c++)if(this.polyObj[a[b][c]].vs[this.polyObj[a[b][c]].av].layout!=null){var d=this.polyObj[a[b][c]].vs[this.polyObj[a[b][c]].av].layout._defineWindowMinDimension(this.polyObj[a[b][c]],!0);d[0]=a[b][c];this._alterSizes[this._alterSizes.length]=d}};this._findDockCellsVer=
function(a){var b=[null,null];if(a==null)return b;for(var c=null,d=a._left.length-1;d>=0;d--)if(c==null)if(typeof a._left[d]=="object"){for(var e=!1,f=0;f<a._left[d].length;f++)e=e||this.polyObj[a._left[d][f]]._isBlockedWidth||!1;e||(c=a._left[d])}else this.polyObj[a._left[d]]._collapsed==!1&&(this.polyObj[a._left[d]]._isBlockedWidth||(c=a._left[d]));for(var j=null,d=0;d<a._right.length;d++)if(j==null)if(typeof a._right[d]=="object"){e=!1;for(f=0;f<a._right[d].length;f++)e=e||this.polyObj[a._right[d][f]]._isBlockedWidth||
!1;e||(j=a._right[d])}else this.polyObj[a._right[d]]._collapsed==!1&&(this.polyObj[a._right[d]]._isBlockedWidth||(j=a._right[d]));if(c==null||j==null)return b;typeof c=="string"&&(c=Array(c));typeof j=="string"&&(j=Array(j));b[0]=c;b[1]=j;this._checkAlterMinSize(b);this._minWRAlter=this._minWLAlter=0;if(this._alterSizes.length>0&&this._effects.resize==!0){for(var k=[],m=[],d=0;d<c.length;d++)k[d]=this.polyObj[c[d]];for(d=0;d<j.length;d++)m[d]=this.polyObj[j[d]];for(d=0;d<k.length;d++)for(f=0;f<this._alterSizes.length;f++)if(this._alterSizes[f][0]==
k[d]._idd&&this._minWLAlter<this._alterSizes[f][1])this._minWLAlter=this._alterSizes[f][1];for(d=0;d<m.length;d++)for(f=0;f<this._alterSizes.length;f++)if(this._alterSizes[f][0]==m[d]._idd&&this._maxWRAlter<this._alterSizes[f][1])this._minWRAlter=this._alterSizes[f][1]}return b};this._findDockCellsHor=function(a){var b=[null,null];if(a==null)return b;for(var c=null,d=a._top.length-1;d>=0;d--)if(c==null)if(typeof a._top[d]=="object"){for(var e=!1,f=0;f<a._top[d].length;f++)e=e||this.polyObj[a._top[d][f]]._isBlockedHeight||
!1;e||(c=a._top[d])}else this.polyObj[a._top[d]]._collapsed==!1&&(this.polyObj[a._top[d]]._isBlockedHeight||(c=a._top[d]));for(var j=null,d=0;d<a._bottom.length;d++)if(j==null)if(typeof a._bottom[d]=="object"){e=!1;for(f=0;f<a._bottom[d].length;f++)e=e||this.polyObj[a._bottom[d][f]]._isBlockedHeight||!1;e||(j=a._bottom[d])}else this.polyObj[a._bottom[d]]._collapsed==!1&&(this.polyObj[a._bottom[d]]._isBlockedHeight||(j=a._bottom[d]));if(c==null||j==null)return b;typeof c=="string"&&(c=Array(c));typeof j==
"string"&&(j=Array(j));b[0]=c;b[1]=j;this._checkAlterMinSize(b);this._minHBAlter=this._minHTAlter=0;if(this._alterSizes.length>0&&this._effects.resize==!0){for(var k=[],m=[],d=0;d<c.length;d++)k[d]=this.polyObj[c[d]];for(d=0;d<j.length;d++)m[d]=this.polyObj[j[d]];for(d=0;d<k.length;d++)for(f=0;f<this._alterSizes.length;f++)if(this._alterSizes[f][0]==k[d]._idd&&this._minHTAlter<this._alterSizes[f][2])this._minHTAlter=this._alterSizes[f][2];for(d=0;d<m.length;d++)for(f=0;f<this._alterSizes.length;f++)if(this._alterSizes[f][0]==
m[d]._idd&&this._minHBAlter<this._alterSizes[f][2])this._minHBAlter=this._alterSizes[f][2]}return b};this._resizeVer=function(a){this._isIPad&&a.preventDefault();if(!(this._resObj==null||this._anyExpL==null||this._anyExpR==null)){this._showCovers();var b=this._isIPad?a.touches[0].clientX:a.clientX;if(this._effects.resize==!1){this._resX=b;var c=b-this._resXStart;if(-c>this._resXMaxWidthLeft&&c<0)c=-this._resXMaxWidthLeft,this._resX=c+this._resXStart;if(c>this._resXMaxWidthRight&&c>0)c=this._resXMaxWidthRight,
this._resX=c+this._resXStart;this.sizer.style.left=this.sizer._leftXStart+c+"px"}else{for(var e=this._anyExpL,f=this._anyExpR,o=b,c=b-d._resX,j=[],k=[],m=0;m<e.length;m++)j[m]=this.polyObj[e[m]];for(m=0;m<f.length;m++)k[m]=this.polyObj[f[m]];var p=parseInt(j[0].style.width),s=parseInt(k[0].style.width);if(c<0){var q=p+c;if(q>j[0]._minW&&q>this._minWLAlter){for(var r=s+p-q,m=0;m<j.length;m++)this._setW(j[m],q);for(m=0;m<k.length;m++)this._setW(k[m],r);this._resX=o}}else if(c>0&&(r=s-c,r>k[0]._minW&&
r>this._minWRAlter)){q=p+s-r;for(m=0;m<j.length;m++)this._setW(j[m],q);for(m=0;m<k.length;m++)this._setW(k[m],r);this._resX=o}}}};this._resizeHor=function(a){if(!(this._resObj==null||this._anyExpT==null||this._anyExpB==null)){this._showCovers();var b=this._isIPad?a.touches[0].clientY:a.clientY;if(this._effects.resize==!1){this._resY=b;var c=b-this._resYStart;if(-c>this._resYMaxHeightTop&&c<0)c=-this._resYMaxHeightTop,this._resY=c+this._resYStart;if(c>this._resYMaxHeightBottom&&c>0)c=this._resYMaxHeightBottom,
this._resY=c+this._resYStart;this.sizer.style.top=this.sizer._topYStart+c+"px"}else{for(var e=this._anyExpT,f=this._anyExpB,o=b,c=b-d._resY,j=[],k=[],m=0;m<e.length;m++)j[m]=this.polyObj[e[m]];for(m=0;m<f.length;m++)k[m]=this.polyObj[f[m]];var p=parseInt(j[0].style.height),s=parseInt(k[0].style.height);if(c<0){var q=p+c;if(q>j[0]._minH+this._minHTAlter){for(var r=s+p-q,m=0;m<j.length;m++)this._setH(j[m],q);for(m=0;m<k.length;m++)this._setH(k[m],r);this._resY=o}}else if(c>0&&(r=s-c,r>k[0]._minH+this._minHBAlter)){q=
p+s-r;for(m=0;m<j.length;m++)this._setH(j[m],q);for(m=0;m<k.length;m++)this._setH(k[m],r);this._resY=o}}}};this._resizeStop=function(){var a=document.body.className;if(a.search("dhxCursorWResize")!==-1||a.search("dhxCursorNResize")!==-1)document.body.className=String(document.body.className).replace(/dhxCursorWResize/g,"").replace(/dhxCursorNResize/g,"");if(this._resObj!=null)if(this._effects.resize==!1){this.sizer.style.display="none";if(this._resObj._dir=="hor"){var b=typeof this._anyExpT[0]=="object"?
this._anyExpT[0][0]:this._anyExpT[0],c=this._resY-this._resYStart,d=parseInt(this.polyObj[b].style.height)+c;this._setHeight(b,d)}else{var e=typeof this._anyExpL[0]=="object"?this._anyExpL[0][0]:this._anyExpL[0],f=this._resX-this._resXStart,j=parseInt(this.polyObj[e].style.width)+f;this._setWidth(e,j)}var k={},m=function(a){if(a!=null)for(var b=0;b<a.length;b++)typeof a[b]=="object"&&m(a[b]),k[a[b]]=!0};m(this._anyExpT);m(this._anyExpB);m(this._anyExpL);m(this._anyExpR);var p=[],s;for(s in k)p[p.length]=
s;if(typeof this._anyExpT=="object"&&this._anyExpT!=null)this.updateNestedObjectsArray(this._anyExpT),this._anyExpT=null;if(typeof this._anyExpB=="object"&&this._anyExpB!=null)this.updateNestedObjectsArray(this._anyExpB),this._anyExpB=null;if(typeof this._anyExpL=="object"&&this._anyExpL!=null)this.updateNestedObjectsArray(this._anyExpL),this._anyExpL=null;if(typeof this._anyExpR=="object"&&this._anyExpR!=null)this.updateNestedObjectsArray(this._anyExpR),this._anyExpR=null;this._resFunc=this._resObj=
null;this._hideCovers();this._fixToolbars();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[p])}else{var q=[];if(this._resObj._left!=null)for(var r=0;r<this._resObj._left.length;r++)q[q.length]=this._resObj._left[r];if(this._resObj._right!=null)for(r=0;r<this._resObj._right.length;r++)q[q.length]=this._resObj._right[r];if(this._resObj._top!=null)for(r=0;r<this._resObj._top.length;r++)q[q.length]=this._resObj._top[r];if(this._resObj._bottom!=null)for(r=0;r<this._resObj._bottom.length;r++)q[q.length]=
this._resObj._bottom[r];this._resObj=this._resFunc=null;this._hideCovers();for(var w=[],r=0;r<q.length;r++)if(typeof q[r]=="object")for(var t=0;t<q[r].length;t++)w[w.length]=this.polyObj[q[r][t]];else w[w.length]=this.polyObj[q[r]];for(r=0;r<w.length;r++)w[r].updateNestedObjects();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[])}};this._showCovers=function(){if(!this._cv){for(var a in this.polyObj)this._effects.highlight&&this._isResizable(a)&&this.polyObj[a].showCoverBlocker();this._fixToolbars();
this._cv=!0}};this._hideCovers=function(){if(this._cv){for(var a in this.polyObj)this.polyObj[a].hideCoverBlocker();this._fixToolbars();this._cv=!1}};this._isResizable=function(a){for(var b=!1,c=0;c<this._resAreaData.length;c++)b=b||this._resAreaData[c]==a;return b};this._collectResAreaData=function(a){for(var b=0;b<a.length;b++)typeof a[b]=="string"?this._resAreaData[this._resAreaData.length]=a[b]:typeof a[b]=="object"&&this._collectResAreaData(a[b])};this._doOnDoubleClick=function(a){if(a._dblClick!=
null&&this.polyObj[a._dblClick]!=null&&!this.polyObj[a._dblClick]._noHeader){var b=this.polyObj[a._dblClick];if(b.childNodes[0].style.display!="none")return b._collapsed==!0?this._doExpand(b._resize,a._dblClick,b._rowData,"hide"):(b._savedW=parseInt(b.style.width),b._savedH=parseInt(b.style.height),this._doCollapse(b._resize,a._dblClick,b._rowData,"hide")),!0}};this._doOnSelectStart=function(a){a=a||event;if(d._resObj!=null)a.returnValue=!1};this._doOnMouseMove=function(a){a=a||event;d._resObj!=null&&
d._resFunc!=null&&d._resFunc(a)};this._doOnMouseUp=function(){d._resizeStop()};this._isIPad?(document.addEventListener("touchmove",d._doOnMouseMove,!1),document.addEventListener("touchend",d._doOnMouseUp,!1)):_isIE?(document.body.attachEvent("onselectstart",d._doOnSelectStart),document.body.attachEvent("onmousemove",d._doOnMouseMove),document.body.attachEvent("onmouseup",d._doOnMouseUp)):(document.body.addEventListener("mousemove",d._doOnMouseMove,!1),document.body.addEventListener("mouseup",d._doOnMouseUp,
!1));this._doExpand=function(a,b,c,d){if(!(c.length<=1)){for(var e=-1,f=0;f<c.length;f++)c[f]==b&&(e=f);if(e!=-1){for(var j=null,f=e+1;f<c.length;f++)j==null&&(typeof c[f]=="string"?this.polyObj[c[f]]._collapsed==!1&&(j=c[f]):j=c[f]);if(j==null)for(f=e-1;f>=0;f--)j==null&&(typeof c[f]=="string"?this.polyObj[c[f]]._collapsed==!1&&(j=c[f]):j=c[f]);if(j!=null){typeof j!="object"&&(j=Array(j));if(a=="hor"){for(var k=65536,f=0;f<j.length;f++){var m=this.polyObj[j[f]].vs[this.polyObj[j[f]].av].layout!=
null?this.polyObj[j[f]].vs[this.polyObj[j[f]].av].layout._defineWindowMinDimension(this.polyObj[j[f]],!0):[0,0],p=parseInt(this.polyObj[j[f]].style.width)-this._minWidth-m[1];p<k&&(k=p)}var s=this.polyObj[b]._savedW;s>k&&(s=k);if(s<this._minWidth)return;var q=Math.round(s/3)}else{k=65536;for(f=0;f<j.length;f++)m=this.polyObj[j[f]].vs[this.polyObj[j[f]].av].layout!=null?this.polyObj[j[f]].vs[this.polyObj[j[f]].av].layout._defineWindowMinDimension(this.polyObj[j[f]],!0):[0,0,0],p=parseInt(this.polyObj[j[f]].style.height)-
this._minHeight-m[2],p<k&&(k=p);s=this.polyObj[b]._savedH;s>k&&(s=k);if(s<this._minHeight)return;q=Math.round(s/3)}this.polyObj[b].childNodes[0].childNodes[1].style.display="";this.polyObj[b].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar";this.polyObj[b].childNodes[0].childNodes[0].childNodes[1].style.display="";this.polyObj[b].childNodes[0].childNodes[0].childNodes[2].style.display="";this.polyObj[b].childNodes[0].childNodes[0].childNodes[4].style.display="";for(var r=[],f=0;f<j.length;f++)r[f]=
this.polyObj[j[f]];if(this.polyObj[b].className=="dhtmlxLayoutSinglePolyTabbarCollapsed")this.polyObj[b].className="dhtmlxLayoutSinglePolyTabbar";this._expandEffect(this.polyObj[b],r,s,d,this._effects.collapse==!0?q:1E6,a)}}}};this._doCollapse=function(a,b,c,d){if(!(c.length<=1)){for(var e=-1,f=0;f<c.length;f++)c[f]==b&&(e=f);if(e!=-1){for(var j=null,f=e+1;f<c.length;f++)j==null&&(typeof c[f]=="string"?this.polyObj[c[f]]._collapsed==!1&&(j=c[f]):j=c[f]);if(j==null)for(f=e-1;f>=0;f--)j==null&&(typeof c[f]==
"string"?this.polyObj[c[f]]._collapsed==!1&&(j=c[f]):j=c[f]);j==null&&c[e+1]!=null&&(j=c[e+1]);j==null&&e-1>=0&&c[e-1]!=null&&(j=c[e-1]);if(j!=null){if(typeof j!="object"){if(this.polyObj[j]._collapsed==!0){this.polyObj[j].childNodes[0].childNodes[1].style.display="";this.polyObj[j]._collapsed=!1;this.polyObj[j].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar";this.polyObj[j].childNodes[0].childNodes[0].childNodes[1].style.display="";this.polyObj[j].childNodes[0].childNodes[0].childNodes[4].title=
this.i18n.collapse;this.polyObj[j].childNodes[0].childNodes[0].childNodes[2].style.display="";this.polyObj[j].childNodes[0].childNodes[0].childNodes[3].style.display="none";this.polyObj[j].childNodes[0].childNodes[0].childNodes[4].style.display="";this.polyObj[j]._isUnDocked===!0&&this.dockWindow(j);if(this.polyObj[j].className=="dhtmlxLayoutSinglePolyTabbarCollapsed")this.polyObj[j].className="dhtmlxLayoutSinglePolyTabbar";this._fixSplitters();this._fixIcons();this.polyObj[j].removeAttribute("title");
this._fixToolbars();this._fixCollapsedText();this.callEvent("onExpand",[j])}j=Array(j)}for(var k=[],f=0;f<j.length;f++)k[f]=this.polyObj[j[f]];var m=a=="hor"?Math.round(Math.max(this.polyObj[b].offsetWidth,this.polyObj[j[0]].offsetWidth)/3):Math.round(Math.max(this.polyObj[b].offsetHeight,this.polyObj[j[0]].offsetHeight)/3);this.polyObj[b].childNodes[0].childNodes[1].style.display="none";this._collapseEffect(this.polyObj[b],k,d,this._effects.collapse==!0?m:1E6,a)}}}};this.setEffect=function(a,b){this._effects[a]!=
null&&typeof b=="boolean"&&(this._effects[a]=b)};this.getEffect=function(a){return this._effects[a]!=null?this._effects[a]:null};this._expandEffect=function(a,b,c,e,f,o){if(o=="hor")var j=parseInt(a.style.width),k=parseInt(b[0].style.width);else j=parseInt(a.style.height),k=parseInt(b[0].style.height);var m=j+f;m>c&&(m=c);o=="hor"?(a.style.width=m+"px",a.childNodes[0].style.width=a.style.width):(a.style.height=m+"px",a.childNodes[0].style.height=a.style.height);a.adjustContent(a.childNodes[0],a._noHeader?
0:this.skinParams[this.skin].cpanel_height);for(var p=0;p<b.length;p++)o=="hor"?(b[p].style.width=k+j-m+"px",b[p].childNodes[0].style.width=b[p].style.width):(b[p].style.height=k+j-m+"px",b[p].childNodes[0].style.height=b[p].style.height),b[p].adjustContent(b[p].childNodes[0],b[p]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(m!=c)window.setTimeout(function(){d._expandEffect(a,b,c,e,f,o)},4);else{a._collapsed=!1;for(p=0;p<b.length;p++)b[p].updateNestedObjects();this.polyObj[a._idd].updateNestedObjects();
this.polyObj[a._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse;this._fixSplitters();this._fixIcons();a.removeAttribute("title");this._fixToolbars();this._fixCollapsedText();this.callEvent("onExpand",[a._idd])}};this._collapseEffect=function(a,b,c,e,f){if(f=="hor")var o=parseInt(a.style.width),j=parseInt(b[0].style.width);else o=parseInt(a.style.height),j=parseInt(b[0].style.height);var k=o-e;if(f=="hor"){if(k<this._collapsedW)k=this._collapsedW;a.style.width=k+"px";a.childNodes[0].style.width=
a.style.width}else{if(k<this._collapsedH)k=this._collapsedH;a.style.height=k+"px";a.childNodes[0].style.height=a.style.height}for(var m=0;m<b.length;m++)f=="hor"?(b[m].style.width=j+(o-k)+"px",b[m].childNodes[0].style.width=b[m].style.width):(b[m].style.height=j+(o-k)+"px",b[m].childNodes[0].style.height=b[m].style.height),b[m].adjustContent(b[m].childNodes[0],b[m]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(k>this._collapsedW&&f=="hor"||k>this._collapsedH&&f=="ver")window.setTimeout(function(){d._collapseEffect(a,
b,c,e,f)},4);else{for(m=0;m<b.length;m++)f=="hor"?(b[m].style.width=j+(o-k)+"px",b[m].childNodes[0].style.width=b[m].style.width):(b[m].style.height=j+(o-k)+"px",b[m].childNodes[0].style.height=b[m].style.height),b[m].adjustContent(b[m].childNodes[0],b[m]._noHeader?0:this.skinParams[this.skin].cpanel_height);a._collapsed=!0;a.childNodes[0].childNodes[0].className=f=="hor"?"dhtmlxPolyInfoBarCollapsedVer":"dhtmlxPolyInfoBarCollapsedHor";for(m=0;m<b.length;m++)b[m].updateNestedObjects();c=="hide"?(a.childNodes[0].childNodes[0].childNodes[1].style.display=
"",a.childNodes[0].childNodes[0].childNodes[2].style.display="none",a.childNodes[0].childNodes[0].childNodes[3].style.display="none",a.childNodes[0].childNodes[0].childNodes[4].style.display=""):(a.childNodes[0].childNodes[0].childNodes[1].style.display="",a.childNodes[0].childNodes[0].childNodes[2].style.display="",a.childNodes[0].childNodes[0].childNodes[3].style.display="none",a.childNodes[0].childNodes[0].childNodes[4].style.display="none");if(a.className=="dhtmlxLayoutSinglePolyTabbar")a.className=
"dhtmlxLayoutSinglePolyTabbarCollapsed";this.polyObj[a._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.expand;this._fixSplitters();this._fixIcons();a.title=this.getTextTooltip(a._idd);this._fixToolbars();this._fixCollapsedText();this.callEvent("onCollapse",[a._idd])}};this._setW=function(a,b){a.style.width=b+"px";a.childNodes[0].style.width=a.style.width;a.adjustContent(a.childNodes[0],a._noHeader?0:this.skinParams[this.skin].cpanel_height)};this._setH=function(a,b){a.style.height=
b+"px";a.childNodes[0].style.height=a.style.height;a.adjustContent(a.childNodes[0],a._noHeader?0:this.skinParams[this.skin].cpanel_height)};this._setWidth=function(a,b){if(this.polyObj[a]!=null&&Number(b)){for(var c=null,d=0;d<this.sepVer.length;d++){var e=this.sepVer[d]._left;if(e[e.length-1]==a)c=[this.sepVer[d],"left"];else if(typeof e[e.length-1]=="object")for(var f=e[e.length-1],j=0;j<f.length;j++)f[j]==a&&(c=[this.sepVer[d],"left"]);e=this.sepVer[d]._right;if(e[0]==a)c=[this.sepVer[d],"right"];
else if(typeof e[0]=="object"){f=e[0];for(j=0;j<f.length;j++)f[j]==a&&(c=[this.sepVer[d],"right"])}}if(c!=null){var k=this._findDockCellsVer(c[0]),m=k[0],p=k[1];if(!(m==null||p==null)){var s=parseInt(this.polyObj[m[0]].style.width)+parseInt(this.polyObj[p[0]].style.width);b<this._minWidth?b=this._minWidth:b>s-this._minWidth&&(b=s-this._minWidth);for(var q=s-b,d=0;d<m.length;d++)this._setW(this.polyObj[m[d]],c[1]=="left"?b:q),this.polyObj[m[d]].updateNestedObjects();for(d=0;d<p.length;d++)this._setW(this.polyObj[p[d]],
c[1]=="right"?b:q),this.polyObj[p[d]].updateNestedObjects()}}}};this._setHeight=function(a,b){if(this.polyObj[a]!=null&&Number(b)){for(var c=null,d=0;d<this.sepHor.length;d++){var e=this.sepHor[d]._top;if(e[e.length-1]==a)c=[this.sepHor[d],"top"];else if(typeof e[e.length-1]=="object")for(var f=e[e.length-1],j=0;j<f.length;j++)f[j]==a&&(c=[this.sepHor[d],"top"]);e=this.sepHor[d]._bottom;if(e[0]==a)c=[this.sepHor[d],"bottom"];else if(typeof e[0]=="object"){f=e[0];for(j=0;j<f.length;j++)f[j]==a&&(c=
[this.sepHor[d],"bottom"])}}if(c!=null){var k=this._findDockCellsHor(c[0]),m=k[0],p=k[1];if(!(m==null||p==null)){var s=parseInt(this.polyObj[m[0]].style.height)+parseInt(this.polyObj[p[0]].style.height);b<this._minHeight?b=this._minHeight:b>s-this._minHeight&&(b=s-this._minHeight);for(var q=s-b,d=0;d<m.length;d++)this._setH(this.polyObj[m[d]],c[1]=="top"?b:q),this.polyObj[m[d]].updateNestedObjects();for(d=0;d<p.length;d++)this._setH(this.polyObj[p[d]],c[1]=="bottom"?b:q),this.polyObj[p[d]].updateNestedObjects()}}}};
this.updateNestedObjectsArray=function(a){for(var b=0;b<a.length;b++)typeof a[b]=="object"?this.updateNestedObjectsArray(a[b]):this.polyObj[a[b]].updateNestedObjects()};this.dockWindow=function(a){if(this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+a))this.dhxWins.window(this.dhxWinsIdPrefix+a).close(),this.dhxWins.window(this.dhxWinsIdPrefix+a).moveContentTo(this.polyObj[a]),this.polyObj[a]._isUnDocked=!1,this.callEvent("onDock",[a])};this.unDockWindow=function(a){this._initWindows(a);this.polyObj[a].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+
a));this.polyObj[a]._isUnDocked=!0;this.callEvent("onUnDock",[a])};this._initWindows=function(a){if(window.dhtmlXWindows){if(!this.dhxWins&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",!a))return;var b=this.dhxWinsIdPrefix+a;if(this.dhxWins.window(b))this.dhxWins.window(b).show();else{var c=this,d=this.dhxWins.createWindow(b,20,20,320,200);d.setText(this.polyObj[a].getText());d.button("close").hide();d.attachEvent("onClose",
function(a){a.hide()});d.button("dock").show();d.button("dock").attachEvent("onClick",function(){c.polyObj[a].dock()});d.dockedCell=this.polyObj[a]}}};this.isPanelVisible=function(a){return!this.polyObj[a]._noHeader};this.showPanel=function(a){if(this.polyObj[a]!=null&&this.polyObj[a]._collapsed!=!0){var b=this.polyObj[a].childNodes[0].childNodes[0];b.style.display="";this.polyObj[a]._noHeader=!1;this.skin=="dhx_web"&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web");
this.skin=="dhx_terrace"&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_terrace");this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],this.skinParams[this.skin].cpanel_height);this.polyObj[a].updateNestedObjects()}};this.hidePanel=function(a){if(this.polyObj[a]!=null&&this.polyObj[a]._collapsed!=!0){var b=this.polyObj[a].childNodes[0].childNodes[0];b.style.display="none";this.polyObj[a]._noHeader=!0;this.skin=="dhx_web"&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_min,
"");this.skin=="dhx_terrace"&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_min,"");this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],0);this.polyObj[a].updateNestedObjects()}};this.setText=function(a,b){this._changeCPanelText(a,b)};this.getText=function(a){return this.polyObj[a].childNodes[0].childNodes[0].childNodes[0].innerHTML};this.getTextTooltip=function(a){var b=this.polyObj[a].childNodes[0].childNodes[0].childNodes[0];return b.innerText||b.textContent};this._changeCPanelText=
function(a,b){var c=d;if(c.polyObj[a]!=null)c.polyObj[a].childNodes[0].childNodes[0].childNodes[0].innerHTML=b,d.dhxWins!=null&&d.dhxWins.window(d.dhxWinsIdPrefix+a)!=null&&d.dhxWins.window(d.dhxWinsIdPrefix+a).setText(b)};this.forEachItem=function(a){for(var b=0;b<this.items.length;b++)a(this.items[b])};this._fixPositionInWin=function(a,b){this.base.style.width=a+"px";this.base.style.height=b+"px"};this.attachMenu=function(){this.base._isWindow?this.menu=this.base._window.attachMenu():(this.cont.obj.skin=
this.skin,this.menu=this.cont.obj.attachMenu(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.menu};this.detachMenu=function(){if(this.menu)this.cont.obj.detachMenu(),this.setSizes(),this.menu=null};this.showMenu=function(){this.menu&&(this.cont.obj.showMenu(),this.setSizes())};this.hideMenu=function(){this.menu&&(this.cont.obj.hideMenu(),this.setSizes())};this.attachToolbar=function(){this.base._isWindow?this.toolbar=this.base._window.attachToolbar():(this.cont.obj.skin=
this.skin,this.toolbar=this.cont.obj.attachToolbar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.toolbar};this.detachToolbar=function(){if(this.toolbar)this.cont.obj.detachToolbar(),this.setSizes(),this.toolbar=null};this.showToolbar=function(){this.toolbar&&(this.cont.obj.showToolbar(),this.setSizes())};this.hideToolbar=function(){this.toolbar&&(this.cont.obj.hideToolbar(),this.setSizes())};this.attachStatusBar=function(){this.base._isWindow?this.statusbar=this.base._window.attachStatusBar():
(this.statusbar=this.cont.obj.attachStatusBar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.statusbar};this.detachStatusBar=function(){if(this.statusbar)this.cont.obj.detachStatusBar(),this.setSizes(),this.statusbar=null};this.showStatusBar=function(){this.statusbar&&(this.cont.obj.showStatusBar(),this.setSizes())};this.hideStatusBar=function(){this.statusbar&&(this.cont.obj.hideStatusBar(),this.setSizes())};this.progressOn=function(){this._progressControlGlobal(!0)};
this.progressOff=function(){this._progressControlGlobal(!1)};this._progressControl=function(a,b){if(this.polyObj[a]!=null){if(this.polyObj[a]._progressCover==null){var c=document.createElement("DIV");c.className="dhtmlxLayoutPolyProgress";this.polyObj[a].childNodes[0].appendChild(c);var d=document.createElement("DIV");d.className="dhtmlxLayoutPolyProgressBGIMG";this.polyObj[a].childNodes[0].appendChild(d);this.polyObj[a]._progressCover=[c,d]}this.polyObj[a]._progressCover[0].style.display=b==!0?"":
"none";this.polyObj[a]._progressCover[1].style.display=this.polyObj[a]._progressCover[0].style.display}};this._progressControlGlobal=function(a){if(this._progressCover==null){var b=document.createElement("DIV");b.className="dhtmlxLayoutPolyProgressGlobal_"+this.skin;this.obj.appendChild(b);var c=document.createElement("DIV");c.className="dhtmlxLayoutPolyProgressBGIMGGlobal_"+this.skin;this.obj.appendChild(c);this._progressCover=[b,c]}this._progressCover[0].style.display=a==!0?"":"none";this._progressCover[1].style.display=
this._progressCover[0].style.display};this._fixSize=function(a,b,c){if(this.polyObj[a]!=null)this.polyObj[a]._isBlockedWidth=b,this.polyObj[a]._isBlockedHeight=c,this._fixSplitters()};this._fixSplitters=function(){for(var a=0;a<this.sepVer.length;a++){var b=this._findDockCellsVer(this.sepVer[a]);if(b[0]==null||b[1]==null){if(this.sepVer[a].className!="dhtmlxLayoutPolySplitterVerInactive")this.sepVer[a].className="dhtmlxLayoutPolySplitterVerInactive"}else if(this.sepVer[a].className!="dhtmlxLayoutPolySplitterVer")this.sepVer[a].className=
"dhtmlxLayoutPolySplitterVer"}for(a=0;a<this.sepHor.length;a++)if(b=this._findDockCellsHor(this.sepHor[a]),b[0]==null||b[1]==null){if(this.sepHor[a].className!="dhtmlxLayoutPolySplitterHorInactive")this.sepHor[a].className="dhtmlxLayoutPolySplitterHorInactive"}else if(this.sepHor[a].className!="dhtmlxLayoutPolySplitterHor")this.sepHor[a].className="dhtmlxLayoutPolySplitterHor"};this._fixIcons=function(){for(var a in this.polyObj){for(var b=this.polyObj[a]._rowData,c=this.polyObj[a]._collapsed,d=-1,
e=0;e<b.length;e++)typeof b[e]!="object"&&b[e]==a&&(d=e);var f=null;if(d!=-1){for(e=d+1;e<b.length;e++)typeof b[e]=="object"?f=this.polyObj[a]._resize=="ver"?c?"b":"t":c?"r":"l":this.polyObj[b[e]]._collapsed==!1&&(f=this.polyObj[a]._resize=="ver"?c?"b":"t":c?"r":"l");if(f==null&&d>=1)for(e=d-1;e>=0;e--)typeof b[e]=="object"?f=this.polyObj[a]._resize=="ver"?c?"t":"b":c?"l":"r":this.polyObj[b[e]]._collapsed==!1&&(f=this.polyObj[a]._resize=="ver"?c?"t":"b":c?"l":"r")}if(f!=null){var j=this.polyObj[a]._resize;
this.polyObj[a].childNodes[0].childNodes[0].childNodes[4].className="dhtmlxInfoButtonShowHide_"+j+" dhxLayoutButton_"+this.skin+"_"+j+(this.polyObj[a]._collapsed?"2":"1")+f}}};this._defineWindowMinDimension=function(a,b){if(b==!0){var c=[];c[0]=parseInt(a.style.width);c[1]=parseInt(a.style.height)}else{c=a.getDimension();if(c[0]=="100%")c[0]=a.offsetWidth;if(c[1]=="100%")c[1]=a.offsetHeight}var e=d._getNearestParents("hor"),f=d._getNearestParents("ver");if(!b){var o=[],j=[],k;for(k in e)o[o.length]=
k;for(k in f)j[j.length]=k;d._checkAlterMinSize([o,j]);for(var m={},p={},s=0;s<d._alterSizes.length;s++){k=d._alterSizes[s][0];var q=d._alterSizes[s][1],r=d._alterSizes[s][2];m[k]==null?m[k]=q:q>m[k]&&(m[k]=q);p[k]==null?p[k]=r:r>p[k]&&(p[k]=r)}for(k in e)m[k]!=null&&(e[k]=e[k]-m[k]+d._minWidth);for(k in f)p[k]!=null&&(f[k]=f[k]-p[k]+d._minHeight-(d.polyObj[k].childNodes[0].style.display!="none"?d.skinParams[d.skin].cpanel_height:0))}var w=65536;for(k in e)e[k]<w&&(w=e[k]);w-=d._minWidth;w=c[0]-w;
w<d._dimension[0]&&!b&&(w=d._dimension[0]);var t=65536;for(k in f)f[k]<t&&(t=f[k]);t-=d._minHeight;t=c[1]-t;t<d._dimension[1]&&!b&&(t=d._dimension[1]);if(b==!0)return["",w,t];a.setMinDimension(w,t)};this._getNearestParents=function(a){for(var b=a=="hor"?this._autoHor:this._autoVer,c={},d=0;d<b.length;d++){var e=b[d];if(this.polyObj[e]._collapsed==!0&&this.polyObj[e]._resize==a){for(var f=this.polyObj[e]._rowData,j=-1,k=0;k<f.length;k++)typeof f[k]=="object"?j=k:f[k]==e&&(j=k);var m=j,e=null;if(j>
0)for(k=j-1;k>=0;k--)typeof f[k]=="object"?e=f[k]:this.polyObj[f[k]]._collapsed==!1&&e==null&&(e=f[k]);if(e==null)for(k=m;k<f.length;k++)typeof f[k]=="object"?e=f[k]:this.polyObj[f[k]]._collapsed==!1&&e==null&&(e=f[k])}if(e!=null){typeof e=="string"&&(e=Array(e));for(k=0;k<e.length;k++)c[e[k]]=parseInt(a=="hor"?this.polyObj[e[k]].style.width:this.polyObj[e[k]].style.height)}}return c};this.setSizes=function(a){var b=this._defineWindowMinDimension(this.base,!0);this.cont.obj.setMinContentSize(b[1],
b[2]);this.cont.obj.adjustContent(this.cont.obj,0);if(this.base.offsetParent){this.cont&&a!==!1&&this.cont.obj.adjustContent(this.cont.obj,this._mTop,null,null,this._mBottom);var c=this.base.offsetParent.offsetWidth-this.base.offsetWidth+(this._baseWFix!=null?this._baseWFix:0),d=this.base.offsetParent.offsetHeight-this.base.offsetHeight+(this._baseHFix!=null?this._baseHFix:0);this.base.style.width=parseInt(this.base.style.width)+c+"px";this.base.style.height=parseInt(this.base.style.height)+d+"px";
var e={},f;for(f in this._getNearestParents("hor"))this.polyObj[f].style.width=Math.max(0,parseInt(this.polyObj[f].style.width)+c)+"px",this.polyObj[f].childNodes[0].style.width=this.polyObj[f].style.width,e[f]=1;for(f in this._getNearestParents("ver"))this.polyObj[f].style.height=Math.max(0,parseInt(this.polyObj[f].style.height)+d)+"px",this.polyObj[f].childNodes[0].style.height=this.polyObj[f].style.height,e[f]=1;for(f in e)this.polyObj[f].adjustContent(this.polyObj[f].childNodes[0],this.polyObj[f]._noHeader?
0:this.skinParams[this.skin].cpanel_height),this.polyObj[f].updateNestedObjects();this._fixCollapsedText();this.callEvent("onResizeFinish",[])}};dhtmlxEventable(this);this._init()}else alert(this.i18n.dhxcontalert)}
dhtmlXLayoutObject.prototype.unload=function(){this._isIPad?(document.removeEventListener("touchmove",this._doOnMouseMove,!1),document.removeEventListener("touchend",this._doOnMouseUp,!1)):_isIE?(document.body.detachEvent("onselectstart",this._doOnSelectStart),document.body.detachEvent("onmousemove",this._doOnMouseMove),document.body.detachEvent("onmouseup",this._doOnMouseUp)):(document.body.removeEventListener("mousemove",this._doOnMouseMove,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,
!1));this._doOnMouseUp=this._doOnMouseMove=this._doOnSelectStart=null;for(var a in this.polyObj){var c=this.polyObj[a];c._isCell=null;c.skin=null;c.getId=null;c.getIndex=null;c.showHeader=null;c.hideHeader=null;c.isHeaderVisible=null;c.setText=null;c.getText=null;c.expand=null;c.collapse=null;c.isCollapsed=null;c.dock=null;c.undock=null;c.setWidth=null;c.getWidth=null;c.setHeight=null;c.getHeight=null;c.fixSize=null;c.progressOn=null;c.progressOff=null;c._doOnAttachMenu=null;c._doOnAttachToolbar=
null;c._doOnAttachStatusBar=null;c._collapsed=null;c._idd=null;c._ind=null;c._rowData=null;c._dir=null;c._initCPanel=null;c._minW=null;c._minH=null;c._resize=null;c._savedH=null;c._savedW=null;c.ondblclick=null;var b=c.childNodes[0].childNodes[0];b.className="";b._dockCell=null;b._resize=null;b._h=null;b.ondblclick=null;b.childNodes[4].onclick=null;for(var d=0;d<b.childNodes.length;d++)b.childNodes[d].onselectstart=null;for(;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);b.parentNode.removeChild(b);
b=null;c._dhxContDestruct();c._dhxContDestruct=null;c.removeChild(c.childNodes[0]);c.parentNode.removeChild(c);c=null}for(a in this.polyObj)this.polyObj[a]=null;for(var e=0;e<this.items.length;e++)this.items[e]=null;this.items=this.polyObj=null;for(var f=this.tpl.childNodes[0];f.childNodes.length>0;){for(;f.childNodes[0].childNodes.length>0;){d=f.childNodes[0].childNodes[0];d._top=null;d._bottom=null;d._left=null;d._right=null;d._dblClick=null;d._isSep=null;d._dir=null;d._lastClick=null;d.ondblclick=
null;d.onmousedown=null;d.onmouseup=null;for(d.onselectstart=null;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);d.parentNode.removeChild(d);d=null}f.removeChild(f.childNodes[0])}f.parentNode.removeChild(f);f=null;this.tpl.parentNode.removeChild(this.tpl);this.tpl=null;for(a in this.sepHor)this.sepHor[a]=null;for(a in this.sepVer)this.sepVer[a]=null;this.sepVer=this.sepHor=null;if(this._ha){this.detachEvent(this._haEv);for(this._haEv=null;this._ha.childNodes.length>0;)this._ha.removeChild(this._ha.childNodes[0]);
this._ha.parentNode.removeChild(this._ha);this._ha=null}if(this._fa){this.detachEvent(this._faEv);for(this._faEv=null;this._fa.childNodes.length>0;)this._fa.removeChild(this._fa.childNodes[0]);this._fa.parentNode.removeChild(this._fa);this._fa=null}this.attachFooter=this.attachHeader=null;this.detachAllEvents();this._CPanelHeight=this._CPanelBtnsWidth=this.tplSizes=this.tplData=this.skinParams=this.skin=this.imagePath=this.h=this.w=this._xmlLoader=this._totalRows=this._totalCols=this._rowsRatio=this._colsRatio=
this._resY=this._resX=this._resObj=this._resFunc=this._minHeight=this._minWidth=this._mTop=this._mBottom=this._layoutView=this._effects=this._dimension=this._availAutoSize=this._autoVer=this._autoHor=null;this.sizer.parentNode&&this.sizer.parentNode.removeChild(this.sizer);this._resYMaxHeightBottom=this._resYMaxHeightTop=this._resXMaxWidthRight=this._resXMaxWidthLeft=this._resYStart=this._resXStart=this._minHTAlter=this._minHBAlter=this._minWRAlter=this._minWLAlter=this._collapsedW=this._collapsedH=
this._dblClickTM=this._doOnDoubleClick=this._autodetectSkin=this.dhx_SeverCatcherPath=this.i18n=this._isIPad=this._effect=this._autosize=this._cells=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.setCollapsedText=this.updateNestedObjectsArray=this.unload=this.unDockWindow=this.showPanel=this.setText=this.setSkin=this.setSizes=this.setImagePath=
this.setEffect=this.setAutoSize=this.progressOn=this.progressOff=this.listViews=this.listAutoSizes=this.isPanelVisible=this.hidePanel=this.getTextTooltip=this.getText=this.getIndexById=this.getIdByIndex=this.getEffect=this.forEachItem=this.eventCatcher=this.dockWindow=this.detachEvent=this.detachAllEvents=this.checkEvent=this.cells=this.callEvent=this.attachToolbar=this.attachStatusBar=this.attachMenu=this.attachEvent=this._xmlParser=this._showCovers=this._setWidth=this._setW=this._setHeight=this._setH=
this._resAreaData=this._resizeVer=this._resizeStop=this._resizeHor=this._progressControlGlobal=this._progressControl=this._isResizable=this._isCollapsed=this._initWindows=this._init=this._hideCovers=this._getNearestParents=this._fixSplitters=this._fixSize=this._fixPositionInWin=this._fixIcons=this._findDockCellsVer=this._findDockCellsHor=this._expandEffect=this._expand=this._doExpand=this._doCollapse=this._defineWindowMinDimension=this._collectResAreaData=this._collapseEffect=this._collapse=this._checkAlterMinSize=
this._changeCPanelText=this._buildSurface=this._attachSizer=this._alterSizes=this.sizer=null;if(this.obj)this.obj.parentNode.removeChild(this.obj),this.obj=null;if(this.base&&this.base!=document.body)this.base.parentNode.removeChild(this.base),this.base=null;if(this.cont)this.cont.obj._dhxContDestruct(),this.cont=null;if(this.dhxWins)this.dhxWins.unload(),this.dhxWinsIdPrefix=this.dhxWins=null;if(this._doOnResizeStart)_isIE?window.detachEvent("onresize",this._doOnResizeStart):window.removeEventListener("resize",
this._doOnResizeStart,!1),this._tmTime=this._doOnResizeEnd=this._doOnResizeStart=null;that=null};
dhtmlXLayoutObject.prototype.tplData={"1C":'<layout><autosize hor="a" ver="a" rows="1" cols="1"/><table data="a"/><row><cell obj="a" wh="1,1" resize="ver" neighbors="a"/></row></layout>',"2E":'<layout><autosize hor="a;b" ver="b" rows="2" cols="1"/><table data="a;b"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a" bottom="b" dblclick="a"/></row><row><cell obj="b" wh="1,2" resize="ver" neighbors="a;b"/></row></layout>',"2U":'<layout><autosize hor="b" ver="a;b" rows="1" cols="2"/><table data="a,b"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,1" resize="hor" neighbors="a;b"/></row></layout>',
"3E":'<layout><autosize hor="a;b;c" ver="c" rows="3" cols="1"/><table data="a;b;c"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a" bottom="b;c" dblclick="a"/></row><row><cell obj="b" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a;b" bottom="c" dblclick="b"/></row><row><cell obj="c" wh="1,3" resize="ver" neighbors="a;b;c"/></row></layout>',"3W":'<layout><autosize hor="c" ver="a;b;c" rows="1" cols="3"/><table data="a,b,c"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,1" resize="hor" neighbors="a;b;c"/></row></layout>',
"3J":'<layout><autosize hor="b" ver="b;c" rows="2" cols="2"/><table data="a,b;c,b"/><row><cell obj="a" wh="2,2" resize="ver" neighbors="a;c"/><cell sep="ver" left="a,c" right="b" dblclick="b" rowspan="3"/><cell obj="b" wh="2,1" resize="hor" neighbors="a,c;b" rowspan="3"/></row><row sep="yes"><cell sep="hor" top="a" bottom="c" dblclick="a"/></row><row><cell obj="c" wh="2,2" resize="ver" neighbors="a;c"/></row></layout>',"3T":'<layout><autosize hor="a;c" ver="b;c" rows="2" cols="2"/><table data="a,a;b,c"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,2" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" right="c" dblclick="b"/><cell obj="c" wh="2,2" resize="hor" neighbors="b;c"/></row></layout>',
"3L":'<layout><autosize hor="b;c" ver="a;c" rows="2" cols="2"/><table data="a,b;a,c"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b,c" rowspan="3"/><cell sep="ver" left="a" right="b,c" dblclick="a" rowspan="3"/><cell obj="b" wh="2,2" resize="ver" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="b,2" resize="ver" neighbors="b;c"/></row></layout>',"3U":'<layout><autosize hor="b;c" ver="c" rows="2" cols="2"/><table data="a,b;c,c"/><row><cell obj="a" wh="2,2" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,2" resize="hor" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a,b" bottom="c" dblclick="c" colspan="3"/></row><row><cell obj="c" wh="1,2" resize="ver" neighbors="a,b;c" colspan="3"/></row></layout>',
"4H":'<layout><autosize hor="d" ver="a;c;d" rows="2" cols="3"/><table data="a,b,d;a,c,d"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/><cell sep="ver" left="a" right="b,c;d" dblclick="a" rowspan="3"/><cell obj="b" wh="3,2" resize="ver" neighbors="b;c"/><cell sep="ver" left="a;b,c" right="d" dblclick="d" rowspan="3"/><cell obj="d" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="3,2" resize="ver" neighbors="b;c"/></row></layout>',
"4I":'<layout><autosize hor="a;c;d" ver="d" rows="3" cols="2"/><table data="a,a;b,c;d,d"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c;d" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,3" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" dblclick="b" right="c"/><cell obj="c" wh="2,3" resize="hor" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="a;b,c" bottom="d" dblclick="d" colspan="3"/></row><row><cell obj="d" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row></layout>',
"4T":'<layout><autosize hor="a;d" ver="b;c;d" rows="2" cols="3"/><table data="a,a,a;b,c,d"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c,d" colspan="5"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,2" resize="hor" neighbors="b;c;d"/></row></layout>',
"4U":'<layout><autosize hor="c;d" ver="d" rows="2" cols="3"/><table data="a,b,c;d,d,d"/><row><cell obj="a" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="a;b;c"/></row><row sep="true"><cell sep="hor" top="a,b,c" bottom="d" dblclick="d" colspan="5"/></row><row><cell obj="d" wh="1,2" resize="ver" neighbors="a,b,c;d" colspan="5"/></row></layout>',
"5H":'<layout><autosize hor="b;c;d" ver="a;c;e" rows="3" cols="3"/><table data="a,b,e;a,c,e;a,d,e"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c,d" rowspan="5"/><cell sep="ver" left="a" right="b,c,d;e" dblclick="a" rowspan="5"/><cell obj="b" wh="3,3" resize="ver" neighbors="b;c;d"/><cell sep="ver" left="a;b,c,d" right="e" dblclick="e" rowspan="5"/><cell obj="e" wh="3,1" resize="hor" neighbors="b,c,d;e" rowspan="5"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c;d"/></row><row><cell obj="c" wh="3,3" resize="ver" neighbors="b;c;d"/></row><row sep="true"><cell sep="hor" top="b;c" dblclick="c" bottom="d"/></row><row><cell obj="d" wh="3,3" resize="ver" neighbors="b;c;d"/></row></layout>',
"5I":'<layout><autosize hor="a;d;e" ver="e" rows="3" cols="3"/><table data="a,a,a;b,c,d;e,e,e"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row><row sep="match"><cell sep="hor" top="a" bottom="b,c,d;e" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,3" resize="hor" neighbors="b;c;d"/></row><row sep="match"><cell sep="hor" top="a;b,c,d" bottom="e" dblclick="e" colspan="5"/></row><row><cell obj="e" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row></layout>',
"6I":'<layout><autosize hor="a;e;f" ver="f" rows="3" cols="4"/><table data="a,a,a,a;b,c,d,e;f,f,f,f"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d,e;f" dblclick="a" colspan="7"/></row><row><cell obj="b" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b" right="c;d;e" dblclick="b"/><cell obj="c" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c" right="d;e" dblclick="c"/><cell obj="d" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c;d" right="e" dblclick="d"/><cell obj="e" wh="4,3" resize="hor" neighbors="b;c;d;e"/></row><row sep="true"><cell sep="hor" top="a;b,c,d,e" bottom="f" dblclick="f" colspan="7"/></row><row><cell obj="f" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row></layout>'};
dhtmlXLayoutObject.prototype._availAutoSize={"1C_hor":["a"],"1C_ver":["a"],"2E_hor":["a;b"],"2E_ver":["a","b"],"2U_hor":["a","b"],"2U_ver":["a;b"],"3E_hor":["a;b;c"],"3E_ver":["a","b","c"],"3W_hor":["a","b","c"],"3W_ver":["a;b;c"],"3J_hor":["a;c","b"],"3J_ver":["a;b","c;b"],"3T_hor":["a;b","a;c"],"3T_ver":["a","b;c"],"3L_hor":["a","b;c"],"3L_ver":["a;b","a;c"],"3U_hor":["a;c","b;c"],"3U_ver":["a;b","c"],"4H_hor":["a","b;c","d"],"4H_ver":["a;b;d","a;c;d"],"4I_hor":["a;b;d","a;c;d"],"4I_ver":["a","b;c",
"d"],"4T_hor":["a;b","a;c","a;d"],"4T_ver":["a","b;c;d"],"4U_hor":["a;d","b;d","c;d"],"4U_ver":["a;b;c","d"],"5H_hor":["a","b;c;d","e"],"5H_ver":["a;b;e","a;c;e","a;d;e"],"5I_hor":["a;b;e","a;c;e","a;d;e"],"5I_ver":["a","b;c;d","e"],"6I_hor":["a;b;f","a;c;f","a;d;f","a;e;f"],"6I_ver":["a","b;c;d;e","f"]};
dhtmlXLayoutObject.prototype.setCollapsedText=function(a,c){if(this.polyObj[a]){var b=this.polyObj[a].childNodes[0].childNodes[0];if(b.childNodes[b.childNodes.length-1]._ct===!0)var d=b.childNodes[b.childNodes.length-1];else d=document.createElement("DIV"),d._ct=!0,d.className="dhtmlxInfoBarLabel_collapsed_"+this.polyObj[a]._resize,b.appendChild(d);d.innerHTML=c;this._fixCollapsedText();b=null}};
dhtmlXLayoutObject.prototype._fixCollapsedText=function(){for(var a in this.polyObj)if(this.polyObj[a]._resize=="hor"){var c=this.polyObj[a].childNodes[0].childNodes[0];if(c.childNodes[c.childNodes.length-1]._ct===!0&&(c.childNodes[c.childNodes.length-1].style.width=Math.max(0,c.offsetHeight-c.childNodes[4].offsetTop-c.childNodes[4].offsetHeight-12)+"px",_isFF||_isOpera||_isChrome))c.childNodes[c.childNodes.length-1].style.bottom="-12px"}};
dhtmlXLayoutObject.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page",collapse:"Collapse",expand:"Expand",dock:"Dock",undock:"UnDock"};
(function(){dhtmlx.extend_api("dhtmlXLayoutObject",{_init:function(a){return[a.parent,a.pattern,a.skin]},image_path:"setImagePath",effect:"_effect",cells:"_cells",autosize:"_autosize"},{_cells:function(a){for(var c=0;c<a.length;c++){var b=a[c],d=this.cells(b.id);d&&(b.height&&d.setHeight(b.height),b.width&&d.setWidth(b.width),b.text&&d.setText(b.text),b.collapse&&d.collapse(),b.fix_size&&d.fixSize(b.fix_size[0],b.fix_size[1]),b.header===!1&&d.hideHeader())}},_autosize:function(a){this.setAutoSize(a[0],
a[1])},_effect:function(a){a.collapse&&this.setEffect("collapse",a.collapse);a.resize&&this.setEffect("resize",a.resize);a.highlight&&this.setEffect("highlight",a.highlight)}})})();
dhtmlXLayoutObject.prototype.attachHeader=function(a){if(!this._ha){typeof a!="object"&&(a=document.getElementById(a));var c=a.offsetHeight+(this.skin=="dhx_web"?9:2)+2;this.cont.obj._offsetTop=c;this.cont.obj._offsetHeight=-c;this.setSizes();this._ha=document.createElement("DIV");this._ha.style.position="absolute";this._ha.style.top="2px";this._ha.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._ha.style.height=
a.offsetHeight+"px";document.body.appendChild(this._ha);this._ha.appendChild(a);this._haEv=this.attachEvent("onResizeFinish",function(){this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}};
dhtmlXLayoutObject.prototype.attachFooter=function(a){if(!this._fa){typeof a!="object"&&(a=document.getElementById(a));var c=a.offsetHeight+(this.skin=="dhx_web"?9:2)-2;this.cont.obj._offsetHeight-=c;this.setSizes();this._fa=document.createElement("DIV");this._fa.style.position="absolute";this._fa.style.bottom="2px";this._fa.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._fa.style.height=a.offsetHeight+
"px";document.body.appendChild(this._fa);this._fa.appendChild(a);this._faEv=this.attachEvent("onResizeFinish",function(){this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}};dhtmlXLayoutObject.prototype._fixToolbars=function(){if(_isIE)for(var a in this.polyObj)this.polyObj[a].vs[this.polyObj[a].av].toolbar!=null&&this.polyObj[a].vs[this.polyObj[a].av].toolbar._fixSpacer()};
dhtmlXLayoutObject.prototype._hideBorders=function(){if(this.skin=="dhx_terrace"){this._cpm_old=this.skinParams[this.skin].cell_pading_max;this.skinParams[this.skin].cell_pading_max=[1,0,0,0];for(var a in this.polyObj)this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_"+this.skin),this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],this.skinParams[this.skin].cpanel_height)}};
function dhtmlXMenuObject(a,c){var b=this;this.addBaseIdAsContextZone=null;this.isDhtmlxMenuObject=!0;this.skin=c!=null?c:typeof dhtmlx!="undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:"dhx_skyblue";this.imagePath="";this._isIE6=!1;if(_isIE)this._isIE6=window.XMLHttpRequest==null?!0:!1;if(a==null)this.base=document.body;else{var d=typeof a=="string"?document.getElementById(a):a;if(d!=null){this.base=d;if(!this.base.id)this.base.id=(new Date).valueOf();for(;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);
this.base.className+=" dhtmlxMenu_"+this.skin+"_Middle dir_left";this.base._autoSkinUpdate=!0;if(this.base.oncontextmenu)this.base._oldContextMenuHandler=this.base.oncontextmenu;this.addBaseIdAsContextZone=this.base.id;this.base.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.base.oncontextmenu=function(a){a=a||event;return a.returnValue=!1}}else this.base=document.body}this.topId="dhxWebMenuTopId";if(!this.extendedModule){for(var e=function(){alert(this.i18n.dhxmenuextalert)},
f="setItemEnabled,setItemDisabled,isItemEnabled,_changeItemState,getItemText,setItemText,loadFromHTML,hideItem,showItem,isItemHidden,_changeItemVisible,setUserData,getUserData,setOpenMode,setWebModeTimeout,enableDynamicLoading,_updateLoaderIcon,getItemImage,setItemImage,clearItemImage,setAutoShowMode,setAutoHideMode,setContextMenuHideAllMode,getContextMenuHideAllMode,setVisibleArea,setTooltip,getTooltip,setHotKey,getHotKey,setItemSelected,setTopText,setRTL,setAlign,setHref,clearHref,getCircuit,_clearAllSelectedSubItemsInPolygon,_checkArrowsState,_addUpArrow,_addDownArrow,_removeUpArrow,_removeDownArrow,_isArrowExists,_doScrollUp,_doScrollDown,_countPolygonItems,setOverflowHeight,_getRadioImgObj,_setRadioState,_radioOnClickHandler,getRadioChecked,setRadioChecked,addRadioButton,_getCheckboxState,_setCheckboxState,_readLevel,_updateCheckboxImage,_checkboxOnClickHandler,setCheckboxState,getCheckboxState,addCheckbox,serialize".split(","),
g=0;g<f.length;g++)this[f[g]]||(this[f[g]]=e);f=null}this.fixedPosition=!1;this.menuLastClicked=this.menuSelected=-1;this.idPrefix="";this.itemTagName="item";this.itemTextTagName="itemtext";this.userDataTagName="userdata";this.itemTipTagName="tooltip";this.itemHotKeyTagName="hotkey";this.itemHrefTagName="href";this.dirTopLevel="bottom";this.dirSubLevel="right";this.menuY2=this.menuY1=this.menuX2=this.menuX1=null;this.menuMode="web";this.menuTimeoutMsec=400;this.menuTimeoutHandler=null;this.autoOverflow=
!1;this.idPull={};this.itemPull={};this.userData={};this.radio={};this._rtl=!1;this._align="left";this.menuTouched=!1;this.zInd=this.zIndInit=1200;this.zIndStep=50;this.menuModeTopLevelTimeout=!0;this.menuModeTopLevelTimeoutTime=200;this._topLevelBottomMargin=1;this._topLevelRightMargin=0;this._topLevelOffsetLeft=1;this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4;this.setSkin=function(a){var b=this.skin;this.skin=a;switch(this.skin){case "dhx_black":case "dhx_blue":case "dhx_skyblue":case "dhx_web":this._topLevelBottomMargin=
2;this._topLevelOffsetLeft=this._topLevelRightMargin=1;this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4;break;case "dhx_web":this._arrowFFFix=0;break;case "dhx_terrace":this._topLevelOffsetLeft=this._topLevelRightMargin=this._topLevelBottomMargin=0,this._arrowFFFix=_isIE?document.compatMode=="BackCompat"?0:-4:-4}if(this.base._autoSkinUpdate)this.base.className=this.base.className.replace("dhtmlxMenu_"+b+"_Middle","")+" dhtmlxMenu_"+this.skin+"_Middle";for(var c in this.idPull)this.idPull[c].className=
String(this.idPull[c].className).replace(b,this.skin)};this.setSkin(this.skin);this.dLoad=!1;this.dLoadUrl="";this.dLoadSign="?";this.loaderIcon=!1;this.limit=0;this._scrollUpTM=null;this._scrollUpTMTime=20;this._scrollUpTMStep=3;this._scrollDownTM=null;this._scrollDownTMTime=20;this._scrollDownTMStep=3;this.context=!1;this.contextZones={};this.contextMenuZoneId=!1;this.contextHideAllMode=this.contextAutoHide=this.contextAutoShow=!0;this._selectedSubItems=[];this._openedPolygons=[];this._addSubItemToSelected=
function(a,b){for(var c=!0,d=0;d<this._selectedSubItems.length;d++)this._selectedSubItems[d][0]==a&&this._selectedSubItems[d][1]==b&&(c=!1);c==!0&&this._selectedSubItems.push([a,b]);return c};this._removeSubItemFromSelected=function(a,b){for(var c=[],d=!1,e=0;e<this._selectedSubItems.length;e++)this._selectedSubItems[e][0]==a&&this._selectedSubItems[e][1]==b?d=!0:c[c.length]=this._selectedSubItems[e];if(d==!0)this._selectedSubItems=c;return d};this._getSubItemToDeselectByPolygon=function(a){for(var b=
[],c=0;c<this._selectedSubItems.length;c++)if(this._selectedSubItems[c][1]==a){b[b.length]=this._selectedSubItems[c][0];for(var b=b.concat(this._getSubItemToDeselectByPolygon(this._selectedSubItems[c][0])),d=!0,e=0;e<this._openedPolygons.length;e++)this._openedPolygons[e]==this._selectedSubItems[c][0]&&(d=!1);d==!0&&(this._openedPolygons[this._openedPolygons.length]=this._selectedSubItems[c][0]);this._selectedSubItems[c][0]=-1;this._selectedSubItems[c][1]=-1}return b};this._hidePolygon=function(a){if(this.idPull["polygon_"+
a]!=null){if(typeof this._menuEffect!="undefined"&&this._menuEffect!==!1)this._hidePolygonEffect("polygon_"+a);else{if(this.idPull["polygon_"+a].style.display=="none")return;this.idPull["polygon_"+a].style.display="none";if(this.idPull["arrowup_"+a]!=null)this.idPull["arrowup_"+a].style.display="none";if(this.idPull["arrowdown_"+a]!=null)this.idPull["arrowdown_"+a].style.display="none";this._updateItemComplexState(a,!0,!1);if(this._isIE6&&this.idPull["polygon_"+a+"_ie6cover"]!=null)this.idPull["polygon_"+
a+"_ie6cover"].style.display="none"}a=String(a).replace(this.idPrefix,"");a==this.topId&&(a=null);this.callEvent("onHide",[a]);a!=null&&this.skin=="dhx_terrace"&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+a,!0)}};this._showPolygon=function(a,b){var c=this._countVisiblePolygonItems(a);if(c!=0){var d="polygon_"+a;if(this.idPull[d]!=null&&this.idPull[a]!=null&&(!this.menuModeTopLevelTimeout||this.menuMode!="web"||this.context||this.idPull[a]._mouseOver||
b!=this.dirTopLevel)){this.fixedPosition||this._autoDetectVisibleArea();var e=0,f=0,g=null,m=null;this.idPull[d].style.visibility="hidden";this.idPull[d].style.left="0px";this.idPull[d].style.top="0px";this.idPull[d].style.display="";this.idPull[d].style.zIndex=this.zInd;if(this.autoOverflow)if(this.idPull[d].firstChild.offsetHeight>this.menuY1+this.menuY2){var p=Math.floor((this.menuY2-this.menuY1-35)/24);this.limit=p}else this.limit=0,this.idPull["arrowup_"+a]!=null&&this._removeUpArrow(String(a).replace(this.idPrefix,
"")),this.idPull["arrowdown_"+a]!=null&&this._removeDownArrow(String(a).replace(this.idPrefix,""));if(this.limit>0&&this.limit<c)this.idPull["arrowup_"+a]==null&&this._addUpArrow(String(a).replace(this.idPrefix,"")),this.idPull["arrowdown_"+a]==null&&this._addDownArrow(String(a).replace(this.idPrefix,"")),g=this.idPull["arrowup_"+a],g.style.visibility="hidden",g.style.display="",g.style.zIndex=this.zInd,e=g.offsetHeight,m=this.idPull["arrowdown_"+a],m.style.visibility="hidden",m.style.display="",
m.style.zIndex=this.zInd,f=m.offsetHeight;if(this.limit>0)this.limit<c?(this.idPull[d].style.height=24*this.limit+"px",this.idPull[d].scrollTop=0):this.idPull[d].style.height="";this.zInd+=this.zIndStep;if(this.itemPull[a]!=null)var s="polygon_"+this.itemPull[a].parent;else this.context&&(s=this.idPull[this.idPrefix+this.topId]);var q=this.idPull[a].tagName!=null?getAbsoluteLeft(this.idPull[a]):this.idPull[a][0],r=this.idPull[a].tagName!=null?getAbsoluteTop(this.idPull[a]):this.idPull[a][1],w=this.idPull[a].tagName!=
null?this.idPull[a].offsetWidth:0,t=this.idPull[a].tagName!=null?this.idPull[a].offsetHeight:0,u=0,z=0,x=this.idPull[d].offsetWidth,A=this.idPull[d].offsetHeight+e+f;b=="bottom"&&(u=this._rtl?q+(w!=null?w:0)-x:this._align=="right"?q+w-x:q-1+(b==this.dirTopLevel?this._topLevelRightMargin:0),z=r-1+t+this._topLevelBottomMargin);b=="right"&&(u=q+w-1,z=r+2);b=="left"&&(u=q-this.idPull[d].offsetWidth+2,z=r+2);b=="top"&&(u=q-1,z=r-A+2);if(this.fixedPosition)var C=65536,B=65536;else if(C=this.menuX2!=null?
this.menuX2:0,B=this.menuY2!=null?this.menuY2:0,C==0)window.innerWidth?(C=window.innerWidth,B=window.innerHeight):(C=document.body.offsetWidth,B=document.body.scrollHeight);u+x>C&&!this._rtl&&(u=q-x+2);u<this.menuX1&&this._rtl&&(u=q+w-2);u<0&&(u=0);z+A>B&&this.menuY2!=null&&(z=Math.max(r+t-A+2,this._isVisibleArea?this.menuY1+2:2),this.context&&this.idPrefix+this.topId==a&&m!=null&&(z-=2),this.itemPull[a]!=null&&!this.context&&this.itemPull[a].parent==this.idPrefix+this.topId&&(z-=this.base.offsetHeight));
this.idPull[d].style.left=u+"px";this.idPull[d].style.top=z+e+"px";if(typeof this._menuEffect!="undefined"&&this._menuEffect!==!1)this._showPolygonEffect(d);else{this.idPull[d].style.visibility="";if(this.limit>0&&this.limit<c)g.style.left=u+"px",g.style.top=z+"px",g.style.width=x+this._arrowFFFix+"px",g.style.visibility="",m.style.left=u+"px",m.style.top=z+A-f+"px",m.style.width=x+this._arrowFFFix+"px",m.style.visibility="",this._checkArrowsState(a);if(this._isIE6){var v=d+"_ie6cover";if(this.idPull[v]==
null){var y=document.createElement("IFRAME");y.className="dhtmlxMenu_IE6CoverFix_"+this.skin;y.frameBorder=0;y.setAttribute("src","javascript:false;");document.body.insertBefore(y,document.body.firstChild);this.idPull[v]=y}this.idPull[v].style.left=u+"px";this.idPull[v].style.top=z+"px";this.idPull[v].style.width=x+"px";this.idPull[v].style.height=A+"px";this.idPull[v].style.zIndex=this.idPull[d].style.zIndex-1;this.idPull[v].style.display=""}}a=String(a).replace(this.idPrefix,"");a==this.topId&&
(a=null);this.callEvent("onShow",[a]);a!=null&&this.skin=="dhx_terrace"&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+a,!1)}}};this._redistribSubLevelSelection=function(a,b){for(;this._openedPolygons.length>0;)this._openedPolygons.pop();var c=this._getSubItemToDeselectByPolygon(b);this._removeSubItemFromSelected(-1,-1);for(var d=0;d<c.length;d++)if(this.idPull[c[d]]!=null&&c[d]!=a&&this.itemPull[c[d]].state=="enabled")this.idPull[c[d]].className=
"sub_item";for(d=0;d<this._openedPolygons.length;d++)this._openedPolygons[d]!=b&&this._hidePolygon(this._openedPolygons[d]);if(this.itemPull[a].state=="enabled"){this.idPull[a].className="sub_item_selected";if(this.itemPull[a].complex&&this.dLoad&&this.itemPull[a].loaded=="no"){this.loaderIcon==!0&&this._updateLoaderIcon(a,!0);var e=new dtmlXMLLoaderObject(this._xmlParser,window);this.itemPull[a].loaded="get";this.callEvent("onXLS",[]);e.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&parentId="+
a.replace(this.idPrefix,"")+"&etc="+(new Date).getTime())}if((this.itemPull[a].complex||this.dLoad&&this.itemPull[a].loaded=="yes")&&this.itemPull[a].complex&&this.idPull["polygon_"+a]!=null)this._updateItemComplexState(a,!0,!0),this._showPolygon(a,this.dirSubLevel);this._addSubItemToSelected(a,b);this.menuSelected=a}};this._doOnClick=function(a,b,c){this.menuLastClicked=a;if(this.itemPull[this.idPrefix+a].href_link!=null&&this.itemPull[this.idPrefix+a].state=="enabled"){var d=document.createElement("FORM"),
e=String(this.itemPull[this.idPrefix+a].href_link).split("?");d.action=e[0];if(e[1]!=null)for(var f=String(e[1]).split("&"),g=0;g<f.length;g++){var m=String(f[g]).split("="),p=document.createElement("INPUT");p.type="hidden";p.name=m[0]||"";p.value=m[1]||"";d.appendChild(p)}if(this.itemPull[this.idPrefix+a].href_target!=null)d.target=this.itemPull[this.idPrefix+a].href_target;d.style.display="none";document.body.appendChild(d);d.submit();d!=null&&(document.body.removeChild(d),d=null)}else if(b.charAt(0)!=
"c"&&b.charAt(1)!="d"&&b.charAt(2)!="s"){if(this.checkEvent("onClick"))this.callEvent("onClick",[a,this.contextMenuZoneId,c]);else if(b.charAt(1)=="d"||this.menuMode=="win"&&b.charAt(2)=="t")return;this.context&&this._isContextMenuVisible()&&this.contextAutoHide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}};this._doOnTouchMenu=function(a){if(this.menuTouched==!1)this.menuTouched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[a])};this._searchMenuNode=function(a,b){for(var c=
[],d=0;d<b.length;d++)if(typeof b[d]=="object"){b[d].length==5&&typeof b[d][0]!="object"&&b[d][0].replace(this.idPrefix,"")==a&&d==0&&(c=b);var e=this._searchMenuNode(a,b[d]);e.length>0&&(c=e)}return c};this._getMenuNodes=function(a){var b=[],c;for(c in this.itemPull)this.itemPull[c].parent==a&&(b[b.length]=c);return b};this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=0;d<a;d++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b};
this.getItemType=function(a){a=this.idPrefix+a;return this.itemPull[a]==null?null:this.itemPull[a].type};this.forEachItem=function(a){for(var b in this.itemPull)a(String(b).replace(this.idPrefix,""))};this._clearAndHide=function(){b.menuSelected=-1;for(b.menuLastClicked=-1;b._openedPolygons.length>0;)b._openedPolygons.pop();for(var a=0;a<b._selectedSubItems.length;a++){var c=b._selectedSubItems[a][0];if(b.idPull[c]!=null&&b.itemPull[c].state=="enabled"){if(b.idPull[c].className=="sub_item_selected")b.idPull[c].className=
"sub_item";if(b.idPull[c].className=="dhtmlxMenu_"+b.skin+"_TopLevel_Item_Selected")b.idPull[c].className=b.itemPull[c].cssNormal!=null?b.itemPull[c].cssNormal:"dhtmlxMenu_"+b.skin+"_TopLevel_Item_Normal"}b._hidePolygon(c)}b.menuTouched=!1;if(b.context)b.contextHideAllMode?(b._hidePolygon(b.idPrefix+b.topId),b.zInd=b.zIndInit):b.zInd=b.zIndInit+b.zIndStep};this._doOnLoad=function(){};this.loadXML=function(a,b){if(b)this._doOnLoad=function(){b()};this.callEvent("onXLS",[]);this._xmlLoader.loadXML(a)};
this.loadXMLString=function(a,b){if(b)this._doOnLoad=function(){b()};this._xmlLoader.loadXMLString(a)};this._buildMenu=function(a,b){for(var c=0,d=0;d<a.childNodes.length;d++)if(a.childNodes[d].tagName==this.itemTagName){var e=a.childNodes[d],f={};f.id=this.idPrefix+(e.getAttribute("id")||this._genStr(24));f.title=e.getAttribute("text")||"";f.imgen=e.getAttribute("img")||"";f.imgdis=e.getAttribute("imgdis")||"";f.tip="";f.hotkey="";e.getAttribute("cssNormal")!=null&&(f.cssNormal=e.getAttribute("cssNormal"));
f.type=e.getAttribute("type")||"item";if(f.type=="checkbox")f.checked=e.getAttribute("checked")!=null,f.imgen="chbx_"+(f.checked?"1":"0"),f.imgdis=f.imgen;if(f.type=="radio")f.checked=e.getAttribute("checked")!=null,f.imgen="rdbt_"+(f.checked?"1":"0"),f.imgdis=f.imgen,f.group=e.getAttribute("group")||this._genStr(24),this.radio[f.group]==null&&(this.radio[f.group]=[]),this.radio[f.group][this.radio[f.group].length]=f.id;f.state=e.getAttribute("enabled")!=null||e.getAttribute("disabled")!=null?e.getAttribute("enabled")==
"false"||e.getAttribute("disabled")=="true"?"disabled":"enabled":"enabled";f.parent=b!=null?b:this.idPrefix+this.topId;f.complex=this.dLoad?e.getAttribute("complex")!=null?!0:!1:this._buildMenu(e,f.id)>0;this.dLoad&&f.complex&&(f.loaded="no");this.itemPull[f.id]=f;for(var g=0;g<e.childNodes.length;g++){var m=e.childNodes[g].tagName;m!=null&&(m=m.toLowerCase());if(m==this.userDataTagName){var p=e.childNodes[g];p.getAttribute("name")!=null&&(this.userData[f.id+"_"+p.getAttribute("name")]=p.firstChild!=
null&&p.firstChild.nodeValue!=null?p.firstChild.nodeValue:"")}if(m==this.itemTextTagName)f.title=e.childNodes[g].firstChild.nodeValue;if(m==this.itemTipTagName)f.tip=e.childNodes[g].firstChild.nodeValue;if(m==this.itemHotKeyTagName)f.hotkey=e.childNodes[g].firstChild.nodeValue;if(m==this.itemHrefTagName&&f.type=="item")f.href_link=e.childNodes[g].firstChild.nodeValue,e.childNodes[g].getAttribute("target")!=null&&(f.href_target=e.childNodes[g].getAttribute("target"))}c++}return c};this._xmlParser=
function(){if(b.dLoad){var a=this.getXMLTopNode("menu");parentId=a.getAttribute("parentId")!=null?a.getAttribute("parentId"):null;if(parentId==null)b._buildMenu(a,null),b._initTopLevelMenu();else{b._buildMenu(a,b.idPrefix+parentId);b._addSubMenuPolygon(b.idPrefix+parentId,b.idPrefix+parentId);if(b.menuSelected==b.idPrefix+parentId){var c=b.idPrefix+parentId,d=b.itemPull[b.idPrefix+parentId].parent==b.idPrefix+b.topId,e=d&&!b.context?b.dirTopLevel:b.dirSubLevel,f=!1;if(d&&b.menuModeTopLevelTimeout&&
b.menuMode=="web"&&!b.context){var g=b.idPull[b.idPrefix+parentId];if(g._mouseOver==!0){var k=b.menuModeTopLevelTimeoutTime-((new Date).getTime()-g._dynLoadTM);if(k>1)g._menuOpenTM=window.setTimeout(function(){b._showPolygon(c,e)},k),f=!0}}f||b._showPolygon(c,e)}b.itemPull[b.idPrefix+parentId].loaded="yes";b.loaderIcon==!0&&b._updateLoaderIcon(b.idPrefix+parentId,!1)}this.destructor();b.callEvent("onXLE",[])}else a=this.getXMLTopNode("menu"),b._buildMenu(a,null),b.init(),b.callEvent("onXLE",[]),b._doOnLoad()};
this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._showSubLevelItem=function(a,b){if(document.getElementById("arrow_"+this.idPrefix+a)!=null)document.getElementById("arrow_"+this.idPrefix+a).style.display=b?"none":"";if(document.getElementById("image_"+this.idPrefix+a)!=null)document.getElementById("image_"+this.idPrefix+a).style.display=b?"none":"";if(document.getElementById(this.idPrefix+a)!=null)document.getElementById(this.idPrefix+a).style.display=b?"":"none"};this._hideSubLevelItem=
function(a){this._showSubLevelItem(a,!0)};this.idPrefix=this._genStr(12);this._bodyClick=function(a){a=a||event;a.button==2||_isOpera&&a.ctrlKey==!0||(b.context?b.contextAutoHide&&(!_isOpera||b._isContextMenuVisible()&&_isOpera)&&b._hideContextMenu():b._clearAndHide&&b._clearAndHide())};this._bodyContext=function(a){var a=a||event,c=String((a.srcElement||a.target).className);if(!(c.search("dhtmlxMenu")!=-1&&c.search("SubLevelArea")!=-1)){for(var d=!0,e=a.target||a.srcElement;e!=null;)e.id!=null&&
b.isContextZone(e.id)&&(d=!1),e==document.body&&(d=!1),e=e.parentNode;d&&b.hideContextMenu()}};_isIE?(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)):(window.addEventListener("click",this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1));this._UID=this._genStr(32);dhtmlxMenuObjectLiveInstances[this._UID]=this;dhtmlxEventable(this);return this}
dhtmlXMenuObject.prototype.init=function(){if(this._isInited!=!0)this.dLoad?(this.callEvent("onXLS",[]),this._xmlLoader.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&etc="+(new Date).getTime())):(this._initTopLevelMenu(),this._isInited=!0)};
dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(a){var c=0,b;for(b in this.itemPull){var d=this.itemPull[b].parent,e=this.itemPull[b].type;this.idPull[b]!=null&&d==a&&(e=="item"||e=="radio"||e=="checkbox")&&this.idPull[b].style.display!="none"&&c++}return c};
dhtmlXMenuObject.prototype._redefineComplexState=function(a){if(this.idPrefix+this.topId!=a&&this.idPull["polygon_"+a]!=null&&this.idPull[a]!=null){var c=this._countVisiblePolygonItems(a);c>0&&!this.itemPull[a].complex&&this._updateItemComplexState(a,!0,!1);c==0&&this.itemPull[a].complex&&this._updateItemComplexState(a,!1,!1)}};
dhtmlXMenuObject.prototype._updateItemComplexState=function(a,c){if(!this.context&&this._getItemLevelType(a.replace(this.idPrefix,""))=="TopLevel")this.itemPull[a].complex=c;else if(!(this.idPull[a]==null||this.itemPull[a]==null))if(this.itemPull[a].complex=c,a!=this.idPrefix+this.topId){var b=null,d=this.idPull[a].childNodes[this._rtl?0:2];d.childNodes[0]&&String(d.childNodes[0].className).search("complex_arrow")===0&&(b=d.childNodes[0]);if(this.itemPull[a].complex){if(b==null){b=document.createElement("DIV");
b.className="complex_arrow";for(b.id="arrow_"+a;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);d.appendChild(b)}if(this.dLoad&&this.itemPull[a].loaded=="get"&&this.loaderIcon){if(b.className!="complex_arrow_loading")b.className="complex_arrow_loading"}else b.className="complex_arrow"}else!this.itemPull[a].complex&&b!=null&&(d.removeChild(b),this.itemPull[a].hotkey_backup!=null&&this.setHotKey&&this.setHotKey(a.replace(this.idPrefix,""),this.itemPull[a].hotkey_backup))}};
dhtmlXMenuObject.prototype._getItemLevelType=function(a){return this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"};
dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(a){var c=this._getSubItemToDeselectByPolygon("parent");this._removeSubItemFromSelected(-1,-1);for(var b=0;b<c.length;b++)if(c[b]!=a&&this._hidePolygon(c[b]),this.idPull[c[b]]!=null&&c[b]!=a)this.idPull[c[b]].className=this.idPull[c[b]].className.replace(/Selected/g,"Normal");if(this.itemPull[this.idPrefix+a].state=="enabled")this.idPull[this.idPrefix+a].className="dhtmlxMenu_"+this.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+
a,"parent"),this.menuSelected=this.menuMode=="win"?this.menuSelected!=-1?a:this.menuSelected:a,this.itemPull[this.idPrefix+a].complex&&this.menuSelected!=-1&&this._showPolygon(this.idPrefix+a,this.dirTopLevel)};
dhtmlXMenuObject.prototype._initTopLevelMenu=function(){this.dirTopLevel="bottom";this.dirSubLevel=this._rtl?"left":"right";if(this.context)this.idPull[this.idPrefix+this.topId]=[0,0],this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(var a=this._getMenuNodes(this.idPrefix+this.topId),c=0;c<a.length;c++)this.itemPull[a[c]].type=="item"&&this._renderToplevelItem(a[c],null),this.itemPull[a[c]].type=="separator"&&this._renderSeparator(a[c],null)};
dhtmlXMenuObject.prototype._renderToplevelItem=function(a,c){var b=this,d=document.createElement("DIV");d.id=a;d.className=this.itemPull[a].state=="enabled"&&this.itemPull[a].cssNormal!=null?this.itemPull[a].cssNormal:"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+(this.itemPull[a].state=="enabled"?"Normal":"Disabled");if(this.itemPull[a].title!=""){var e=document.createElement("DIV");e.className="top_level_text";e.innerHTML=this.itemPull[a].title;d.appendChild(e)}if(this.itemPull[a].tip.length>0)d.title=
this.itemPull[a].tip;if(this.itemPull[a].imgen!=""||this.itemPull[a].imgdis!=""){var f=this.itemPull[a][this.itemPull[a].state=="enabled"?"imgen":"imgdis"];if(f){var g=document.createElement("IMG");g.border="0";g.id="image_"+a;g.src=this.imagePath+f;g.className="dhtmlxMenu_TopLevel_Item_Icon";d.childNodes.length>0&&!this._rtl?d.insertBefore(g,d.childNodes[0]):d.appendChild(g)}}d.onselectstart=function(a){a=a||event;return a.returnValue=!1};d.oncontextmenu=function(a){a=a||event;return a.returnValue=
!1};if(!this.cont)this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className=this._align=="right"?"align_right":"align_left",this.base.appendChild(this.cont);c!=null&&(c++,c<0&&(c=0),c>this.cont.childNodes.length-1&&(c=null));c!=null?this.cont.insertBefore(d,this.cont.childNodes[c]):this.cont.appendChild(d);this.idPull[d.id]=d;this.itemPull[a].complex&&!this.dLoad&&this._addSubMenuPolygon(this.itemPull[a].id,this.itemPull[a].id);d.onmouseover=function(){b.menuMode=="web"&&window.clearTimeout(b.menuTimeoutHandler);
var a=b._getSubItemToDeselectByPolygon("parent");b._removeSubItemFromSelected(-1,-1);for(var c=0;c<a.length;c++)if(a[c]!=this.id&&b._hidePolygon(a[c]),b.idPull[a[c]]!=null&&a[c]!=this.id)if(b.itemPull[a[c]].cssNormal!=null)b.idPull[a[c]].className=b.itemPull[a[c]].cssNormal;else{if(b.idPull[a[c]].className=="sub_item_selected")b.idPull[a[c]].className="sub_item";b.idPull[a[c]].className=b.idPull[a[c]].className.replace(/Selected/g,"Normal")}if(b.itemPull[this.id].state=="enabled"){this.className=
"dhtmlxMenu_"+b.skin+"_TopLevel_Item_Selected";b._addSubItemToSelected(this.id,"parent");b.menuSelected=b.menuMode=="win"?b.menuSelected!=-1?this.id:b.menuSelected:this.id;if(b.dLoad&&b.itemPull[this.id].loaded=="no"){if(b.menuModeTopLevelTimeout&&b.menuMode=="web"&&!b.context)this._mouseOver=!0,this._dynLoadTM=(new Date).getTime();var d=new dtmlXMLLoaderObject(b._xmlParser,window);b.itemPull[this.id].loaded="get";b.callEvent("onXLS",[]);d.loadXML(b.dLoadUrl+b.dLoadSign+"action=loadMenu&parentId="+
this.id.replace(b.idPrefix,"")+"&etc="+(new Date).getTime())}if((!b.dLoad||b.dLoad&&(!b.itemPull[this.id].loaded||b.itemPull[this.id].loaded=="yes"))&&b.itemPull[this.id].complex&&b.menuSelected!=-1)if(b.menuModeTopLevelTimeout&&b.menuMode=="web"&&!b.context){this._mouseOver=!0;var e=this.id;this._menuOpenTM=window.setTimeout(function(){b._showPolygon(e,b.dirTopLevel)},b.menuModeTopLevelTimeoutTime)}else b._showPolygon(this.id,b.dirTopLevel)}b._doOnTouchMenu(this.id.replace(b.idPrefix,""))};d.onmouseout=
function(){if(!(b.itemPull[this.id].complex&&b.menuSelected!=-1)&&b.itemPull[this.id].state=="enabled")d.className=b.itemPull[this.id].cssNormal!=null?b.itemPull[this.id].cssNormal:"dhtmlxMenu_"+b.skin+"_TopLevel_Item_Normal";if(b.menuMode=="web")window.clearTimeout(b.menuTimeoutHandler),b.menuTimeoutHandler=window.setTimeout(function(){b._clearAndHide()},b.menuTimeoutMsec,"JavaScript");if(b.menuModeTopLevelTimeout&&b.menuMode=="web"&&!b.context)this._mouseOver=!1,window.clearTimeout(this._menuOpenTM)};
d.onclick=function(a){b.menuMode=="web"&&window.clearTimeout(b.menuTimeoutHandler);if(!(b.menuMode!="web"&&b.itemPull[this.id].state=="disabled")){a=a||event;a.cancelBubble=!0;a.returnValue=!1;if(b.menuMode=="win"&&b.itemPull[this.id].complex){if(b.menuSelected==this.id){b.menuSelected=-1;var c=!1}else b.menuSelected=this.id,c=!0;c?b._showPolygon(this.id,b.dirTopLevel):b._hidePolygon(this.id)}var d=b.itemPull[this.id].complex?"c":"-",e=b.itemPull[this.id].state!="enabled"?"d":"-",f={ctrl:a.ctrlKey,
alt:a.altKey,shift:a.shiftKey};b._doOnClick(this.id.replace(b.idPrefix,""),d+e+"t",f);return!1}};this.skin=="dhx_terrace"&&this._improveTerraceSkin()};dhtmlXMenuObject.prototype.setImagePath=function(){};dhtmlXMenuObject.prototype.setIconsPath=function(a){this.imagePath=a};dhtmlXMenuObject.prototype.setIconPath=dhtmlXMenuObject.prototype.setIconsPath;
dhtmlXMenuObject.prototype._updateItemImage=function(a){var a=this.idPrefix+a,c=this.itemPull[a].parent==this.idPrefix+this.topId&&!this.context,b=null;if(c)for(var d=0;d<this.idPull[a].childNodes.length;d++)try{this.idPull[a].childNodes[d].className=="dhtmlxMenu_TopLevel_Item_Icon"&&(b=this.idPull[a].childNodes[d])}catch(e){}else try{b=this.idPull[a].childNodes[this._rtl?2:0].childNodes[0]}catch(f){}var g=this.itemPull[a].type=="radio"?this.itemPull[a][this.itemPull[a].state=="enabled"?"imgen":"imgdis"]:
this.itemPull[a][this.itemPull[a].state=="enabled"?"imgen":"imgdis"];if(g.length>0)if(b!=null)b.src=this.imagePath+g;else if(c)b=document.createElement("IMG"),b.className="dhtmlxMenu_TopLevel_Item_Icon",b.src=this.imagePath+g,b.border="0",b.id="image_"+a,!this._rtl&&this.idPull[a].childNodes.length>0?this.idPull[a].insertBefore(b,this.idPull[a].childNodes[0]):this.idPull[a].appendChild(b);else{b=document.createElement("IMG");b.className="sub_icon";b.src=this.imagePath+g;b.border="0";b.id="image_"+
a;for(var h=this.idPull[a].childNodes[this._rtl?2:0];h.childNodes.length>0;)h.removeChild(h.childNodes[0]);h.appendChild(b)}else b!=null&&b.parentNode.removeChild(b)};
dhtmlXMenuObject.prototype.removeItem=function(a,c,b){c||(a=this.idPrefix+a);var d=null;if(a!=this.idPrefix+this.topId){if(this.itemPull[a]==null)return;this.idPull["polygon_"+a]&&this.idPull["polygon_"+a]._tmShow&&window.clearTimeout(this.idPull["polygon_"+a]._tmShow);var e=this.itemPull[a].type;if(e=="separator"){var f=this.idPull["separator_"+a];this.itemPull[a].parent==this.idPrefix+this.topId?(f.onclick=null,f.onselectstart=null,f.id=null):(f.childNodes[0].childNodes[0].onclick=null,f.childNodes[0].childNodes[0].onselectstart=
null,f.childNodes[0].childNodes[0].id=null,f.childNodes[0].removeChild(f.childNodes[0].childNodes[0]),f.removeChild(f.childNodes[0]));f.parentNode.removeChild(f);this.idPull["separator_"+a]=null;this.itemPull[a]=null;delete this.idPull["separator_"+a]}else{d=this.itemPull[a].parent;f=this.idPull[a];f.onclick=null;f.oncontextmenu=null;f.onmouseover=null;f.onmouseout=null;f.onselectstart=null;for(f.id=null;f.childNodes.length>0;)f.removeChild(f.childNodes[0]);f.parentNode.removeChild(f);this.idPull[a]=
null;this.itemPull[a]=null;delete this.idPull[a]}delete this.itemPull[a];e=f=null}for(var g in this.itemPull)this.itemPull[g].parent==a&&this.removeItem(g,!0,!0);var h=Array(a);d!=null&&!b&&this.idPull["polygon_"+d]!=null&&this.idPull["polygon_"+d].tbd.childNodes.length==0&&(h.push(d),this._updateItemComplexState(d,!1,!1));for(var i=0;i<h.length;i++)if(this.idPull["polygon_"+h[i]]){var l=this.idPull["polygon_"+h[i]];l.onclick=null;l.oncontextmenu=null;l.tbl.removeChild(l.tbd);l.tbd=null;l.removeChild(l.tbl);
l.tbl=null;l.id=null;l.parentNode.removeChild(l);l=null;if(this._isIE6){var n="polygon_"+h[i]+"_ie6cover";this.idPull[n]!=null&&(document.body.removeChild(this.idPull[n]),delete this.idPull[n])}this.idPull["arrowup_"+a]!=null&&this._removeArrow&&this._removeArrow("arrowup_"+a);this.idPull["arrowdown_"+a]!=null&&this._removeArrow&&this._removeArrow("arrowdown_"+a);this.idPull["polygon_"+h[i]]=null;delete this.idPull["polygon_"+h[i]]}h=null;this.skin=="dhx_terrace"&&arguments.length==1&&this._improveTerraceSkin()};
dhtmlXMenuObject.prototype._getAllParents=function(a){var c=[],b;for(b in this.itemPull)if(this.itemPull[b].parent==a&&(c[c.length]=this.itemPull[b].id,this.itemPull[b].complex))for(var d=this._getAllParents(this.itemPull[b].id),e=0;e<d.length;e++)c[c.length]=d[e];return c};
dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.context=!0;if(this.base._autoSkinUpdate==!0)this.base.className=this.base.className.replace("dhtmlxMenu_"+this.skin+"_Middle",""),this.base._autoSkinUpdate=!1;this.addBaseIdAsContextZone!=null&&this.addContextZone(this.addBaseIdAsContextZone)};
dhtmlXMenuObject.prototype.addContextZone=function(a){if(a==document.body)var a="document.body."+this.idPrefix,c=document.body;else c=document.getElementById(a);var b=!1,d;for(d in this.contextZones)b=b||d==a||this.contextZones[d]==c;if(b==!0)return!1;this.contextZones[a]=c;var e=this;if(_isOpera)this.operaContext=function(a){e._doOnContextMenuOpera(a,e)},c.addEventListener("mouseup",this.operaContext,!1);else{if(c.oncontextmenu!=null&&!c._oldContextMenuHandler)c._oldContextMenuHandler=c.oncontextmenu;
c.oncontextmenu=function(a){for(var b in dhtmlxMenuObjectLiveInstances)b!=e._UID&&dhtmlxMenuObjectLiveInstances[b].context&&dhtmlxMenuObjectLiveInstances[b]._hideContextMenu();a=a||event;a.cancelBubble=!0;a.returnValue=!1;e._doOnContextBeforeCall(a,this);return!1}}};
dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(a,c){for(var b in dhtmlxMenuObjectLiveInstances)b!=c._UID&&dhtmlxMenuObjectLiveInstances[b].context&&dhtmlxMenuObjectLiveInstances[b]._hideContextMenu();a.cancelBubble=!0;a.returnValue=!1;a.button==0&&a.ctrlKey==!0&&c._doOnContextBeforeCall(a,this);return!1};
dhtmlXMenuObject.prototype.removeContextZone=function(a){if(!this.isContextZone(a))return!1;a==document.body&&(a="document.body."+this.idPrefix);var c=this.contextZones[a];_isOpera?c.removeEventListener("mouseup",this.operaContext,!1):(c.oncontextmenu=c._oldContextMenuHandler!=null?c._oldContextMenuHandler:null,c._oldContextMenuHandler=null);try{this.contextZones[a]=null,delete this.contextZones[a]}catch(b){}return!0};
dhtmlXMenuObject.prototype.isContextZone=function(a){if(a==document.body&&this.contextZones["document.body."+this.idPrefix]!=null)return!0;var c=!1;this.contextZones[a]!=null&&this.contextZones[a]==document.getElementById(a)&&(c=!0);return c};dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return this.idPull["polygon_"+this.idPrefix+this.topId]==null?!1:this.idPull["polygon_"+this.idPrefix+this.topId].style.display==""};
dhtmlXMenuObject.prototype._showContextMenu=function(a,c,b){this._clearAndHide();if(this.idPull["polygon_"+this.idPrefix+this.topId]==null)return!1;window.clearTimeout(this.menuTimeoutHandler);this.idPull[this.idPrefix+this.topId]=[a,c];this._showPolygon(this.idPrefix+this.topId,"bottom");this.callEvent("onContextMenu",[b])};
dhtmlXMenuObject.prototype._hideContextMenu=function(){if(this.idPull["polygon_"+this.idPrefix+this.topId]==null)return!1;this._clearAndHide();this._hidePolygon(this.idPrefix+this.topId);this.zInd=this.zIndInit};
dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(a,c){this.contextMenuZoneId=c.id;this._clearAndHide();this._hideContextMenu();var b=a.srcElement||a.target,d=_isIE||_isOpera||_KHTMLrv?a.offsetX:a.layerX,e=_isIE||_isOpera||_KHTMLrv?a.offsetY:a.layerY,f=getAbsoluteLeft(b)+d,g=getAbsoluteTop(b)+e;this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[c.id,a])&&this.contextAutoShow&&(this._showContextMenu(f,g,c.id),this.callEvent("onAfterContextMenu",[c.id,a])):this.contextAutoShow&&
(this._showContextMenu(f,g,c.id),this.callEvent("onAfterContextMenu",[c.id]))};dhtmlXMenuObject.prototype.showContextMenu=function(a,c){this._showContextMenu(a,c,!1)};dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()};
dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){if(!this._isVisibleArea)this.menuX1=document.body.scrollLeft,this.menuX2=this.menuX1+(window.innerWidth||document.body.clientWidth),this.menuY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),this.menuY2=this.menuY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)};
dhtmlXMenuObject.prototype.getItemPosition=function(a){var a=this.idPrefix+a,c=-1;if(this.itemPull[a]==null)return c;for(var b=this.itemPull[a].parent,d=this.idPull["polygon_"+b]!=null?this.idPull["polygon_"+b].tbd:this.cont,e=0;e<d.childNodes.length;e++)if(d.childNodes[e]==this.idPull["separator_"+a]||d.childNodes[e]==this.idPull[a])c=e;return c};
dhtmlXMenuObject.prototype.setItemPosition=function(a,c){a=this.idPrefix+a;if(this.idPull[a]!=null){var b=this.itemPull[a].parent==this.idPrefix+this.topId,d=this.idPull[a],e=this.getItemPosition(a.replace(this.idPrefix,"")),f=this.itemPull[a].parent,g=this.idPull["polygon_"+f]!=null?this.idPull["polygon_"+f].tbd:this.cont;g.removeChild(g.childNodes[e]);c<0&&(c=0);b&&c<1&&(c=1);c<g.childNodes.length?g.insertBefore(d,g.childNodes[c]):g.appendChild(d)}};
dhtmlXMenuObject.prototype.getParentId=function(a){a=this.idPrefix+a;return this.itemPull[a]==null?null:(this.itemPull[a].parent!=null?this.itemPull[a].parent:this.topId).replace(this.idPrefix,"")};
dhtmlXMenuObject.prototype.addNewSibling=function(a,c,b,d,e,f){var g=this.idPrefix+(c!=null?c:this._genStr(24)),h=this.idPrefix+(a!=null?this.getParentId(a):this.topId);this._addItemIntoGlobalStrorage(g,h,b,"item",d,e,f);h==this.idPrefix+this.topId&&!this.context?this._renderToplevelItem(g,this.getItemPosition(a)):this._renderSublevelItem(g,this.getItemPosition(a))};
dhtmlXMenuObject.prototype.addNewChild=function(a,c,b,d,e,f,g){if(a==null)if(this.context)a=this.topId;else{this.addNewSibling(a,b,d,e,f,g);c!=null&&this.setItemPosition(b,c);return}b=this.idPrefix+(b!=null?b:this._genStr(24));this.setHotKey&&this.setHotKey(a,"");a=this.idPrefix+a;this._addItemIntoGlobalStrorage(b,a,d,"item",e,f,g);this.idPull["polygon_"+a]==null&&this._renderSublevelPolygon(a,a);this._renderSublevelItem(b,c-1);this._redefineComplexState(a)};
dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(a,c,b,d,e,f,g){var h={id:a,title:b,imgen:f!=null?f:"",imgdis:g!=null?g:"",type:d,state:e==!0?"disabled":"enabled",parent:c,complex:!1,hotkey:"",tip:""};this.itemPull[h.id]=h};
dhtmlXMenuObject.prototype._addSubMenuPolygon=function(a,c){for(var b=this._renderSublevelPolygon(a,c),d=this._getMenuNodes(c),e=0;e<d.length;e++)this.itemPull[d[e]].type=="separator"?this._renderSeparator(d[e],null):this._renderSublevelItem(d[e],null);for(var f=a==c?"topLevel":"subLevel",e=0;e<d.length;e++)this.itemPull[d[e]].complex&&this._addSubMenuPolygon(a,this.itemPull[d[e]].id)};
dhtmlXMenuObject.prototype._renderSublevelPolygon=function(a,c){var b=document.createElement("DIV");b.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Polygon "+(this._rtl?"dir_right":"");b.dir="ltr";b.oncontextmenu=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};b.id="polygon_"+c;b.onclick=function(a){a=a||event;a.cancelBubble=!0};b.style.display="none";document.body.insertBefore(b,document.body.firstChild);var d=document.createElement("TABLE");d.className="dhtmlxMebu_SubLevelArea_Tbl";
d.cellSpacing=0;d.cellPadding=0;d.border=0;var e=document.createElement("TBODY");d.appendChild(e);b.appendChild(d);b.tbl=d;b.tbd=e;this.idPull[b.id]=b;this.sxDacProc!=null&&(this.idPull["sxDac_"+c]=new this.sxDacProc(b,b.className),_isIE?(this.idPull["sxDac_"+c]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+c]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+c]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+c]._setCustomCycle(this.dacCycles)));return b};
dhtmlXMenuObject.prototype._renderSublevelItem=function(a,c){var b=this,d=document.createElement("TR");d.className=this.itemPull[a].state=="enabled"?"sub_item":"sub_item_dis";var e=document.createElement("TD");e.className="sub_item_icon";var f=this.itemPull[a][this.itemPull[a].state=="enabled"?"imgen":"imgdis"];if(f!=""){var g=this.itemPull[a].type;if(g=="checkbox"||g=="radio"){var h=document.createElement("DIV");h.id="image_"+this.itemPull[a].id;h.className="sub_icon "+f;e.appendChild(h)}if(!(g==
"checkbox"||g=="radio"))h=document.createElement("IMG"),h.id="image_"+this.itemPull[a].id,h.className="sub_icon",h.src=this.imagePath+f,e.appendChild(h)}var i=document.createElement("TD");i.className="sub_item_text";if(this.itemPull[a].title!=""){var l=document.createElement("DIV");l.className="sub_item_text";l.innerHTML=this.itemPull[a].title;i.appendChild(l)}else i.innerHTML="&nbsp;";var n=document.createElement("TD");n.className="sub_item_hk";if(this.itemPull[a].complex){var o=document.createElement("DIV");
o.className="complex_arrow";o.id="arrow_"+this.itemPull[a].id;n.appendChild(o)}else if(this.itemPull[a].hotkey.length>0&&!this.itemPull[a].complex){var j=document.createElement("DIV");j.className="sub_item_hk";j.innerHTML=this.itemPull[a].hotkey;n.appendChild(j)}else n.innerHTML="&nbsp;";d.appendChild(this._rtl?n:e);d.appendChild(i);d.appendChild(this._rtl?e:n);d.id=this.itemPull[a].id;d.parent=this.itemPull[a].parent;if(this.itemPull[a].tip.length>0)d.title=this.itemPull[a].tip;if(!this._hideTMData)this._hideTMData=
{};d.onselectstart=function(a){a=a||event;return a.returnValue=!1};d.onmouseover=function(){b._hideTMData[this.id]&&window.clearTimeout(b._hideTMData[this.id]);b.menuMode=="web"&&window.clearTimeout(b.menuTimeoutHandler);this._visible||b._redistribSubLevelSelection(this.id,this.parent);this._visible=!0};d.onmouseout=function(){if(b.menuMode=="web")b.menuTimeoutHandler&&window.clearTimeout(b.menuTimeoutHandler),b.menuTimeoutHandler=window.setTimeout(function(){b&&b._clearAndHide&&b._clearAndHide()},
b.menuTimeoutMsec,"JavaScript");var a=this;b._hideTMData[this.id]&&window.clearTimeout(b._hideTMData[this.id]);b._hideTMData[this.id]=window.setTimeout(function(){a._visible=!1},50)};d.onclick=function(a){if(b.checkEvent("onClick")||!b.itemPull[this.id].complex){a=a||event;a.cancelBubble=!0;a.returnValue=!1;tc=b.itemPull[this.id].complex?"c":"-";td=b.itemPull[this.id].state=="enabled"?"-":"d";var c={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};switch(b.itemPull[this.id].type){case "checkbox":b._checkboxOnClickHandler(this.id.replace(b.idPrefix,
""),tc+td+"n",c);break;case "radio":b._radioOnClickHandler(this.id.replace(b.idPrefix,""),tc+td+"n",c);break;case "item":b._doOnClick(this.id.replace(b.idPrefix,""),tc+td+"n",c)}return!1}};var k=this.idPull["polygon_"+this.itemPull[a].parent];c!=null&&(c++,c<0&&(c=0),c>k.tbd.childNodes.length-1&&(c=null));c!=null&&k.tbd.childNodes[c]!=null?k.tbd.insertBefore(d,k.tbd.childNodes[c]):k.tbd.appendChild(d);this.idPull[d.id]=d};
dhtmlXMenuObject.prototype._renderSeparator=function(a,c){var b=this.context?"SubLevelArea":this.itemPull[a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea";if(!(b=="TopLevel"&&this.context)){var d=this;if(b!="TopLevel"){var e=document.createElement("TR");e.className="sub_sep";var f=document.createElement("TD");f.colSpan="3";e.appendChild(f)}var g=document.createElement("DIV");g.id="separator_"+a;g.className=b=="TopLevel"?"top_sep":"sub_sep";g.onselectstart=function(a){a=a||event;a.returnValue=
!1};g.onclick=function(a){a=a||event;a.cancelBubble=!0;var b={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};d._doOnClick(this.id.replace("separator_"+d.idPrefix,""),"--s",b)};if(b=="TopLevel"){if(c!=null)c++,c<0&&(c=0),this.cont.childNodes[c]!=null?this.cont.insertBefore(g,this.cont.childNodes[c]):this.cont.appendChild(g);else{var h=this.cont.childNodes[this.cont.childNodes.length-1];String(h).search("TopLevel_Text")==-1?this.cont.appendChild(g):this.cont.insertBefore(g,h)}this.idPull[g.id]=g}else{var i=
this.idPull["polygon_"+this.itemPull[a].parent];c!=null&&(c++,c<0&&(c=0),c>i.tbd.childNodes.length-1&&(c=null));c!=null&&i.tbd.childNodes[c]!=null?i.tbd.insertBefore(e,i.tbd.childNodes[c]):i.tbd.appendChild(e);f.appendChild(g);this.idPull[g.id]=e}}};dhtmlXMenuObject.prototype.addNewSeparator=function(a,c){var c=this.idPrefix+(c!=null?c:this._genStr(24)),b=this.idPrefix+this.getParentId(a);this._addItemIntoGlobalStrorage(c,b,"","separator",!1,"","");this._renderSeparator(c,this.getItemPosition(a))};
dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()};dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0);this._isInited=!1;this.idPrefix=this._genStr(12);this.itemPull={}};
dhtmlXMenuObject.prototype.unload=function(){_isIE?(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)):(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1));this._bodyContext=this._bodyClick=null;this.removeItem(this.idPrefix+this.topId,!0);this.idPull=this.itemPull=null;if(this.context)for(var a in this.contextZones)this.removeContextZone(a);if(this.cont!=null)this.cont.className=
"",this.cont.parentNode.removeChild(this.cont),this.cont=null;if(this.base!=null){this.base.className="";if(!this.context)this.base.oncontextmenu=this.base._oldContextMenuHandler||null;this.base=this.base.onselectstart=null}this.setSkin=null;this.detachAllEvents();if(this._xmlLoader)this._xmlLoader.destructor(),this._xmlLoader=null;this.extendedModule=this.serialize=this.addCheckbox=this.getCheckboxState=this.setCheckboxState=this.addRadioButton=this.setRadioChecked=this.getRadioChecked=this.userData=
this.setOverflowHeight=this.contextZones=this.getCircuit=this.clearHref=this.setHref=this.setAlign=this.setRTL=this.setTopText=this.setItemSelected=this.getHotKey=this.setHotKey=this.getTooltip=this.setTooltip=this.setVisibleArea=this.getContextMenuHideAllMode=this.setContextMenuHideAllMode=this.setAutoHideMode=this.setAutoShowMode=this.clearItemImage=this.setItemImage=this.getItemImage=this.enableDynamicLoading=this.setWebModeTimeout=this.setOpenMode=this.getUserData=this.setUserData=this.isItemHidden=
this.showItem=this.hideItem=this.loadFromHTML=this.setItemText=this.getItemText=this.isItemEnabled=this.setItemDisabled=this.setItemEnabled=this._removeArrow=this._checkboxOnClickHandler=this._updateCheckboxImage=this._readLevel=this._setCheckboxState=this._getCheckboxState=this._radioOnClickHandler=this._setRadioState=this._getRadioImgObj=this._countPolygonItems=this._doScrollDown=this._doScrollUp=this._isArrowExists=this._removeDownArrow=this._removeUpArrow=this._addDownArrow=this._addUpArrow=this._checkArrowsState=
this._clearAllSelectedSubItemsInPolygon=this._updateLoaderIcon=this._changeItemVisible=this._changeItemState=this.hideContextMenu=this.showContextMenu=this.hide=this.detachAllEvents=this.radio=this.items=this.unload=this.dhx_Event=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.addNewSeparator=this.addNewChild=this.addNewSibling=this.getParentId=this.setItemPosition=this.getItemPosition=this.clearAll=this._hideContextMenu=this._renderSeparator=this._renderSublevelItem=
this._renderSublevelPolygon=this._addSubMenuPolygon=this._addItemIntoGlobalStrorage=this._autoDetectVisibleArea=this._doOnContextBeforeCall=this._showContextMenu=this._isContextMenuVisible=this.isContextZone=this.removeContextZone=this.addContextZone=this.renderAsContextMenu=this._getAllParents=this.removeItem=this._updateItemImage=this.setIconPath=this.setIconsPath=this.setImagePath=this._renderToplevelItem=this._initTopLevelMenu=this._redistribTopLevelSelection=this._getItemLevelType=this._updateItemComplexState=
this._redefineComplexState=this._countVisiblePolygonItems=this._hideSubLevelItem=this._showSubLevelItem=this._xmlParser=this._buildMenu=this.loadXMLString=this.loadXML=this.init=this.forEachItem=this.getItemType=this._doOnLoad=this._clearAndHide=this._genStr=this._getMenuNodes=this._searchMenuNode=this._doOnTouchMenu=this._doOnClick=this._redistribSubLevelSelection=this._showPolygon=this._hidePolygon=this._getSubItemToDeselectByPolygon=this._removeSubItemFromSelected=this._addSubItemToSelected=this._openedPolygons=
this._selectedSubItems=this._enableDacSupport=this.zIndStep=this.zIndInit=this.zInd=this.dacSpeedIE=this.dacSpeed=this.dacCyclesIE=this.dacCycles=this.topId=this.skin=this.userDataTagName=this.itemTipTagName=this.itemTextTagName=this.itemTagName=this.itemHrefTagName=this.itemHotKeyTagName=this.isDhtmlxMenuObject=this.menuTouched=this.menuTimeoutMsec=this.menuTimeoutHandler=this.menuModeTopLevelTimeoutTime=this.menuModeTopLevelTimeout=this.menuMode=this.imagePath=this.idPrefix=this.menuLastClicked=
this.menuSelected=this.limit=this.dirTopLevel=this.dirSubLevel=this.fixedPosition=this.loaderIcon=this.dLoadUrl=this.dLoadSign=this.dLoad=this.contextMenuZoneId=this.contextHideAllMode=this.contextAutoShow=this.contextAutoHide=this.context=this.addBaseIdAsContextZone=this._topLevelRightMargin=this._topLevelBottomMargin=this._topLevelOffsetLeft=this._topLevelBottomMargin=this._scrollUpTMTime=this._scrollUpTMStep=this._scrollDownTMTime=this._scrollDownTMStep=this._rtl=this._isInited=this._isIE6=this._arrowFFFix=
this._align=null;dhtmlxMenuObjectLiveInstances[this._UID]=null;try{delete dhtmlxMenuObjectLiveInstances[this._UID]}catch(c){}this._UID=null};var dhtmlxMenuObjectLiveInstances={};dhtmlXMenuObject.prototype.i18n={dhxmenuextalert:"dhtmlxmenu_ext.js required"};
(function(){dhtmlx.extend_api("dhtmlXMenuObject",{_init:function(a){return[a.parent,a.skin]},align:"setAlign",top_text:"setTopText",context:"renderAsContextMenu",icon_path:"setIconsPath",open_mode:"setOpenMode",rtl:"setRTL",skin:"setSkin",dynamic:"enableDynamicLoading",xml:"loadXML",items:"items",overflow:"setOverflowHeight"},{items:function(a,c){for(var b=1E5,d=null,e=0;e<a.length;e++){var f=a[e];f.type=="separator"?(this.addNewSeparator(d,b,f.id),d=f.id):(this.addNewChild(c,b,f.id,f.text,f.disabled,
f.img,f.img_disabled),d=f.id,f.items&&this.items(f.items,f.id))}}})})();
dhtmlXMenuObject.prototype._improveTerraceSkin=function(){for(var a in this.itemPull)if(this.itemPull[a].parent==this.idPrefix+this.topId&&this.idPull[a]!=null){var c=!1,b=!1;this.idPull[a].parentNode.firstChild==this.idPull[a]&&(c=!0);this.idPull[a].parentNode.lastChild==this.idPull[a]&&(b=!0);for(var d in this.itemPull)this.itemPull[d].type=="separator"&&this.itemPull[d].parent==this.idPrefix+this.topId&&(this.idPull[a].nextSibling==this.idPull["separator_"+d]&&(b=!0),this.idPull[a].previousSibling==
this.idPull["separator_"+d]&&(c=!0));this.idPull[a].style.borderLeft=c?"1px solid #cecece":"0px solid white";this.idPull[a].style.borderTopLeftRadius=this.idPull[a].style.borderBottomLeftRadius=c?"5px":"0px";this.idPull[a].style.borderTopRightRadius=this.idPull[a].style.borderBottomRightRadius=b?"5px":"0px";this.idPull[a]._bl=c;this.idPull[a]._br=b}};
dhtmlXMenuObject.prototype._improveTerraceButton=function(a,c){c?(this.idPull[a].style.borderBottomLeftRadius=this.idPull[a]._bl?"5px":"0px",this.idPull[a].style.borderBottomRightRadius=this.idPull[a]._br?"5px":"0px"):(this.idPull[a].style.borderBottomLeftRadius="0px",this.idPull[a].style.borderBottomRightRadius="0px")};dhtmlXMenuObject.prototype.extendedModule="DHXMENUEXT";dhtmlXMenuObject.prototype.setItemEnabled=function(a){this._changeItemState(a,"enabled",this._getItemLevelType(a))};
dhtmlXMenuObject.prototype.setItemDisabled=function(a){this._changeItemState(a,"disabled",this._getItemLevelType(a))};dhtmlXMenuObject.prototype.isItemEnabled=function(a){return this.itemPull[this.idPrefix+a]!=null?this.itemPull[this.idPrefix+a].state=="enabled":!1};
dhtmlXMenuObject.prototype._changeItemState=function(a,c,b){var d=!1,e=this.idPrefix+a;if(this.itemPull[e]!=null&&this.idPull[e]!=null&&this.itemPull[e].state!=c)this.itemPull[e].state=c,this.idPull[e].className=this.itemPull[e].parent==this.idPrefix+this.topId&&!this.context?"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+(this.itemPull[e].state=="enabled"?"Normal":"Disabled"):"sub_item"+(this.itemPull[e].state=="enabled"?"":"_dis"),this._updateItemComplexState(this.idPrefix+a,this.itemPull[this.idPrefix+
a].complex,!1),this._updateItemImage(a,b),this.idPrefix+this.menuLastClicked==e&&b!="TopLevel"&&this._redistribSubLevelSelection(e,this.itemPull[e].parent);return d};dhtmlXMenuObject.prototype.getItemText=function(a){return this.itemPull[this.idPrefix+a]!=null?this.itemPull[this.idPrefix+a].title:""};
dhtmlXMenuObject.prototype.setItemText=function(a,c){a=this.idPrefix+a;if(this.itemPull[a]!=null&&this.idPull[a]!=null)if(this._clearAndHide(),this.itemPull[a].title=c,this.itemPull[a].parent==this.idPrefix+this.topId&&!this.context){for(var b=null,d=0;d<this.idPull[a].childNodes.length;d++)try{this.idPull[a].childNodes[d].className=="top_level_text"&&(b=this.idPull[a].childNodes[d])}catch(e){}if(String(this.itemPull[a].title).length==""||this.itemPull[a].title==null)b!=null&&b.parentNode.removeChild(b);
else{if(!b)b=document.createElement("DIV"),b.className="top_level_text",this._rtl&&this.idPull[a].childNodes.length>0?this.idPull[a].insertBefore(b,this.idPull[a].childNodes[0]):this.idPull[a].appendChild(b);b.innerHTML=this.itemPull[a].title}}else{b=null;for(d=0;d<this.idPull[a].childNodes[1].childNodes.length;d++)if(String(this.idPull[a].childNodes[1].childNodes[d].className||"")=="sub_item_text")b=this.idPull[a].childNodes[1].childNodes[d];if(String(this.itemPull[a].title).length==""||this.itemPull[a].title==
null){if(b)b.parentNode.removeChild(b),b=null,this.idPull[a].childNodes[1].innerHTML="&nbsp;"}else{if(!b)b=document.createElement("DIV"),b.className="sub_item_text",this.idPull[a].childNodes[1].innerHTML="",this.idPull[a].childNodes[1].appendChild(b);b.innerHTML=this.itemPull[a].title}}};dhtmlXMenuObject.prototype.loadFromHTML=function(a,c,b){this.itemTagName="DIV";typeof a=="string"&&(a=document.getElementById(a));this._buildMenu(a,null);this.init();c&&a.parentNode.removeChild(a);b!=null&&b()};
dhtmlXMenuObject.prototype.hideItem=function(a){this._changeItemVisible(a,!1)};dhtmlXMenuObject.prototype.showItem=function(a){this._changeItemVisible(a,!0)};dhtmlXMenuObject.prototype.isItemHidden=function(a){var c=null;this.idPull[this.idPrefix+a]!=null&&(c=this.idPull[this.idPrefix+a].style.display=="none");return c};
dhtmlXMenuObject.prototype._changeItemVisible=function(a,c){var b=this.idPrefix+a;if(this.itemPull[b]!=null&&(this.itemPull[b].type=="separator"&&(b="separator_"+b),this.idPull[b]!=null))this.idPull[b].style.display=c?"":"none",this._redefineComplexState(this.itemPull[this.idPrefix+a].parent)};dhtmlXMenuObject.prototype.setUserData=function(a,c,b){this.userData[this.idPrefix+a+"_"+c]=b};
dhtmlXMenuObject.prototype.getUserData=function(a,c){return this.userData[this.idPrefix+a+"_"+c]!=null?this.userData[this.idPrefix+a+"_"+c]:null};dhtmlXMenuObject.prototype.setOpenMode=function(a){if(a=="win"||a=="web")this.menuMode=a};dhtmlXMenuObject.prototype.setWebModeTimeout=function(a){this.menuTimeoutMsec=!isNaN(a)?a:400};
dhtmlXMenuObject.prototype.enableDynamicLoading=function(a,c){this.dLoad=!0;this.dLoadUrl=a;this.dLoadSign=String(this.dLoadUrl).search(/\?/)==-1?"?":"&";this.loaderIcon=c;this.init()};
dhtmlXMenuObject.prototype._updateLoaderIcon=function(a,c){if(this.idPull[a]!=null&&!(String(this.idPull[a].className).search("TopLevel_Item")>=0)){var b=this._rtl?0:2;if(this.idPull[a].childNodes[b]&&this.idPull[a].childNodes[b].childNodes[0]){var d=this.idPull[a].childNodes[b].childNodes[0];if(String(d.className).search("complex_arrow")===0)d.className="complex_arrow"+(c?"_loading":"")}}};
dhtmlXMenuObject.prototype.getItemImage=function(a){var c=[null,null],a=this.idPrefix+a;if(this.itemPull[a].type=="item")c[0]=this.itemPull[a].imgen,c[1]=this.itemPull[a].imgdis;return c};dhtmlXMenuObject.prototype.setItemImage=function(a,c,b){if(this.itemPull[this.idPrefix+a].type=="item")this.itemPull[this.idPrefix+a].imgen=c,this.itemPull[this.idPrefix+a].imgdis=b,this._updateItemImage(a,this._getItemLevelType(a))};dhtmlXMenuObject.prototype.clearItemImage=function(a){this.setItemImage(a,"","")};
dhtmlXMenuObject.prototype.setAutoShowMode=function(a){this.contextAutoShow=a==!0?!0:!1};dhtmlXMenuObject.prototype.setAutoHideMode=function(a){this.contextAutoHide=a==!0?!0:!1};dhtmlXMenuObject.prototype.setContextMenuHideAllMode=function(a){this.contextHideAllMode=a==!0?!0:!1};dhtmlXMenuObject.prototype.getContextMenuHideAllMode=function(){return this.contextHideAllMode};
dhtmlXMenuObject.prototype.setVisibleArea=function(a,c,b,d){this._isVisibleArea=!0;this.menuX1=a;this.menuX2=c;this.menuY1=b;this.menuY2=d};dhtmlXMenuObject.prototype.setTooltip=function(a,c){a=this.idPrefix+a;if(this.itemPull[a]!=null&&this.idPull[a]!=null)this.idPull[a].title=c.length>0?c:null,this.itemPull[a].tip=c};dhtmlXMenuObject.prototype.getTooltip=function(a){return this.itemPull[this.idPrefix+a]==null?null:this.itemPull[this.idPrefix+a].tip};
dhtmlXMenuObject.prototype.setHotKey=function(a,c){a=this.idPrefix+a;if(this.itemPull[a]!=null&&this.idPull[a]!=null&&(this.itemPull[a].parent!=this.idPrefix+this.topId||this.context)&&!this.itemPull[a].complex){var b=this.itemPull[a].type;if(b=="item"||b=="checkbox"||b=="radio"){var d=null;try{if(this.idPull[a].childNodes[this._rtl?0:2].childNodes[0].className=="sub_item_hk")d=this.idPull[a].childNodes[this._rtl?0:2].childNodes[0]}catch(e){}if(c.length==0)this.itemPull[a].hotkey_backup=this.itemPull[a].hotkey,
this.itemPull[a].hotkey="",d!=null&&d.parentNode.removeChild(d);else{this.itemPull[a].hotkey=c;this.itemPull[a].hotkey_backup=null;if(d==null){d=document.createElement("DIV");d.className="sub_item_hk";for(var f=this.idPull[a].childNodes[this._rtl?0:2];f.childNodes.length>0;)f.removeChild(f.childNodes[0]);f.appendChild(d)}d.innerHTML=c}}}};dhtmlXMenuObject.prototype.getHotKey=function(a){return this.itemPull[this.idPrefix+a]==null?null:this.itemPull[this.idPrefix+a].hotkey};
dhtmlXMenuObject.prototype.setItemSelected=function(a){if(this.itemPull[this.idPrefix+a]==null)return null};dhtmlXMenuObject.prototype.setTopText=function(a){if(!this.context){if(this._topText==null)this._topText=document.createElement("DIV"),this._topText.className="dhtmlxMenu_TopLevel_Text_"+(this._rtl?"left":this._align=="left"?"right":"left"),this.base.appendChild(this._topText);this._topText.innerHTML=a}};
dhtmlXMenuObject.prototype.setAlign=function(a){if(this._align!=a&&(a=="left"||a=="right")){this._align=a;if(this.cont)this.cont.className=this._align=="right"?"align_right":"align_left";if(this._topText!=null)this._topText.className="dhtmlxMenu_TopLevel_Text_"+(this._align=="left"?"right":"left")}};dhtmlXMenuObject.prototype.setHref=function(a,c,b){if(this.itemPull[this.idPrefix+a]!=null)this.itemPull[this.idPrefix+a].href_link=c,b!=null&&(this.itemPull[this.idPrefix+a].href_target=b)};
dhtmlXMenuObject.prototype.clearHref=function(a){this.itemPull[this.idPrefix+a]!=null&&(delete this.itemPull[this.idPrefix+a].href_link,delete this.itemPull[this.idPrefix+a].href_target)};dhtmlXMenuObject.prototype.getCircuit=function(a){for(var c=Array(a);this.getParentId(a)!=this.topId;)a=this.getParentId(a),c[c.length]=a;return c.reverse()};
dhtmlXMenuObject.prototype._clearAllSelectedSubItemsInPolygon=function(a){for(var c=this._getSubItemToDeselectByPolygon(a),b=0;b<this._openedPolygons.length;b++)this._openedPolygons[b]!=a&&this._hidePolygon(this._openedPolygons[b]);for(b=0;b<c.length;b++)if(this.idPull[c[b]]!=null&&this.itemPull[c[b]].state=="enabled")this.idPull[c[b]].className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Item_Normal"};
dhtmlXMenuObject.prototype._checkArrowsState=function(a){var c=this.idPull["polygon_"+a],b=this.idPull["arrowup_"+a],d=this.idPull["arrowdown_"+a];b.className=c.scrollTop==0?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp_Disabled":"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp"+(b.over?"_Over":"");d.className=c.scrollTop+c.offsetHeight<c.scrollHeight?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown"+(d.over?"_Over":""):"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown_Disabled"};
dhtmlXMenuObject.prototype._addUpArrow=function(a){var c=this,b=document.createElement("DIV");b.pId=this.idPrefix+a;b.id="arrowup_"+this.idPrefix+a;b.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp";b.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>";b.style.display="none";b.over=!1;b.onselectstart=function(a){a=a||event;return a.returnValue=!1};b.oncontextmenu=function(a){a=a||event;return a.returnValue=!1};
b.onmouseover=function(){c.menuMode=="web"&&window.clearTimeout(c.menuTimeoutHandler);c._clearAllSelectedSubItemsInPolygon(this.pId);if(this.className!="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowUp_Disabled")this.className="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowUp_Over",this.over=!0,c._canScrollUp=!0,c._doScrollUp(this.pId,!0)};b.onmouseout=function(){if(c.menuMode=="web")window.clearTimeout(c.menuTimeoutHandler),c.menuTimeoutHandler=window.setTimeout(function(){c._clearAndHide()},c.menuTimeoutMsec,
"JavaScript");this.over=!1;c._canScrollUp=!1;if(this.className!="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowUp_Disabled")this.className="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowUp",window.clearTimeout(c._scrollUpTM)};b.onclick=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};document.body.insertBefore(b,document.body.firstChild);this.idPull[b.id]=b};
dhtmlXMenuObject.prototype._addDownArrow=function(a){var c=this,b=document.createElement("DIV");b.pId=this.idPrefix+a;b.id="arrowdown_"+this.idPrefix+a;b.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown";b.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>";b.style.display="none";b.over=!1;b.onselectstart=function(a){a=a||event;return a.returnValue=!1};b.oncontextmenu=function(a){a=a||event;return a.returnValue=
!1};b.onmouseover=function(){c.menuMode=="web"&&window.clearTimeout(c.menuTimeoutHandler);c._clearAllSelectedSubItemsInPolygon(this.pId);if(this.className!="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowDown_Disabled")this.className="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowDown_Over",this.over=!0,c._canScrollDown=!0,c._doScrollDown(this.pId,!0)};b.onmouseout=function(){if(c.menuMode=="web")window.clearTimeout(c.menuTimeoutHandler),c.menuTimeoutHandler=window.setTimeout(function(){c._clearAndHide()},c.menuTimeoutMsec,
"JavaScript");this.over=!1;c._canScrollDown=!1;if(this.className!="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowDown_Disabled")this.className="dhtmlxMenu_"+c.skin+"_SubLevelArea_ArrowDown",window.clearTimeout(c._scrollDownTM)};b.onclick=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};document.body.insertBefore(b,document.body.firstChild);this.idPull[b.id]=b};dhtmlXMenuObject.prototype._removeUpArrow=function(a){var c="arrowup_"+this.idPrefix+a;this._removeArrow(c)};
dhtmlXMenuObject.prototype._removeDownArrow=function(a){var c="arrowdown_"+this.idPrefix+a;this._removeArrow(c)};dhtmlXMenuObject.prototype._removeArrow=function(a){var c=this.idPull[a];c.onselectstart=null;c.oncontextmenu=null;c.onmouseover=null;c.onmouseout=null;c.onclick=null;c.parentNode&&c.parentNode.removeChild(c);c=null;this.idPull[a]=null;try{delete this.idPull[a]}catch(b){}};
dhtmlXMenuObject.prototype._isArrowExists=function(a){return this.idPull["arrowup_"+a]!=null&&this.idPull["arrowdown_"+a]!=null?!0:!1};dhtmlXMenuObject.prototype._doScrollUp=function(a,c){var b=this.idPull["polygon_"+a];if(this._canScrollUp&&b.scrollTop>0){var d=!1,e=b.scrollTop-this._scrollUpTMStep;e<0&&(d=!0,e=0);b.scrollTop=e;if(!d){var f=this;this._scrollUpTM=window.setTimeout(function(){f._doScrollUp(a,!1)},this._scrollUpTMTime)}}else this._canScrollUp=!1,this._checkArrowsState(a);c&&this._checkArrowsState(a)};
dhtmlXMenuObject.prototype._doScrollDown=function(a,c){var b=this.idPull["polygon_"+a];if(this._canScrollDown&&b.scrollTop+b.offsetHeight<=b.scrollHeight){var d=!1,e=b.scrollTop+this._scrollDownTMStep;e+b.offsetHeight>b.scollHeight&&(d=!0,e=b.scollHeight-b.offsetHeight);b.scrollTop=e;if(!d){var f=this;this._scrollDownTM=window.setTimeout(function(){f._doScrollDown(a,!1)},this._scrollDownTMTime)}}else this._checkArrowsState(a);c&&this._checkArrowsState(a)};
dhtmlXMenuObject.prototype._countPolygonItems=function(a){var c=0,b;for(b in this.itemPull){var d=this.itemPull[b].parent,e=this.itemPull[b].type;d==this.idPrefix+a&&(e=="item"||e=="radio"||e=="checkbox")&&c++}return c};
dhtmlXMenuObject.prototype.setOverflowHeight=function(a){if(a==="auto")this.limit=0,this.autoOverflow=!0;else if(!(this.limit==0&&a<=0))if(this._clearAndHide(),this.limit>=0&&a>0)this.limit=a;else if(this.limit>0&&a<=0){for(var c in this.itemPull)if(this._isArrowExists(c)){var b=String(c).replace(this.idPrefix,"");this._removeUpArrow(b);this._removeDownArrow(b);this.idPull["polygon_"+c].style.height=""}this.limit=0}};
dhtmlXMenuObject.prototype._getRadioImgObj=function(a){try{var c=this.idPull[this.idPrefix+a].childNodes[this._rtl?2:0].childNodes[0]}catch(b){c=null}return c};dhtmlXMenuObject.prototype._setRadioState=function(a,c){var b=this._getRadioImgObj(a);if(b!=null){var d=this.itemPull[this.idPrefix+a];d.checked=c;d.imgen="rdbt_"+(d.checked?"1":"0");d.imgdis=d.imgen;b.className="sub_icon "+d.imgen}};
dhtmlXMenuObject.prototype._radioOnClickHandler=function(a,c,b){if(!(c.charAt(1)=="d"||this.itemPull[this.idPrefix+a].group==null)){var d=this.itemPull[this.idPrefix+a].group;this.checkEvent("onRadioClick")?this.callEvent("onRadioClick",[d,this.getRadioChecked(d),a,this.contextMenuZoneId,b])&&this.setRadioChecked(d,a):this.setRadioChecked(d,a);this.checkEvent("onClick")&&this.callEvent("onClick",[a])}};
dhtmlXMenuObject.prototype.getRadioChecked=function(a){for(var c=null,b=0;b<this.radio[a].length;b++){var d=this.radio[a][b].replace(this.idPrefix,""),e=this._getRadioImgObj(d);if(e!=null){var f=e.className.match(/rdbt_1$/gi);f!=null&&(c=d)}}return c};dhtmlXMenuObject.prototype.setRadioChecked=function(a,c){if(this.radio[a]!=null)for(var b=0;b<this.radio[a].length;b++){var d=this.radio[a][b].replace(this.idPrefix,"");this._setRadioState(d,d==c)}};
dhtmlXMenuObject.prototype.addRadioButton=function(a,c,b,d,e,f,g,h){if(!(this.context&&c==this.topId)){if(this.itemPull[this.idPrefix+c]==null)return;if(a=="child"&&this.itemPull[this.idPrefix+c].type!="item")return}var i=this.idPrefix+(d!=null?d:this._genStr(24)),l="rdbt_"+(g?"1":"0"),n=l;if(a=="sibling"){var o=this.idPrefix+this.getParentId(c);this._addItemIntoGlobalStrorage(i,o,e,"radio",h,l,n);this._renderSublevelItem(i,this.getItemPosition(c))}else o=this.idPrefix+c,this._addItemIntoGlobalStrorage(i,
o,e,"radio",h,l,n),this.idPull["polygon_"+o]==null&&this._renderSublevelPolygon(o,o),this._renderSublevelItem(i,b-1),this._redefineComplexState(o);var j=f!=null?f:this._genStr(24);this.itemPull[i].group=j;this.radio[j]==null&&(this.radio[j]=[]);this.radio[j][this.radio[j].length]=i;g==!0&&this.setRadioChecked(j,String(i).replace(this.idPrefix,""))};dhtmlXMenuObject.prototype._getCheckboxState=function(a){return this.itemPull[this.idPrefix+a]==null?null:this.itemPull[this.idPrefix+a].checked};
dhtmlXMenuObject.prototype._setCheckboxState=function(a,c){this.itemPull[this.idPrefix+a]!=null&&(this.itemPull[this.idPrefix+a].checked=c)};
dhtmlXMenuObject.prototype._updateCheckboxImage=function(a){if(this.idPull[this.idPrefix+a]!=null){this.itemPull[this.idPrefix+a].imgen="chbx_"+(this._getCheckboxState(a)?"1":"0");this.itemPull[this.idPrefix+a].imgdis=this.itemPull[this.idPrefix+a].imgen;try{this.idPull[this.idPrefix+a].childNodes[this._rtl?2:0].childNodes[0].className="sub_icon "+this.itemPull[this.idPrefix+a].imgen}catch(c){}}};
dhtmlXMenuObject.prototype._checkboxOnClickHandler=function(a,c,b){if(c.charAt(1)!="d"&&this.itemPull[this.idPrefix+a]!=null){var d=this._getCheckboxState(a);this.checkEvent("onCheckboxClick")?this.callEvent("onCheckboxClick",[a,d,this.contextMenuZoneId,b])&&this.setCheckboxState(a,!d):this.setCheckboxState(a,!d);this.checkEvent("onClick")&&this.callEvent("onClick",[a])}};dhtmlXMenuObject.prototype.setCheckboxState=function(a,c){this._setCheckboxState(a,c);this._updateCheckboxImage(a)};
dhtmlXMenuObject.prototype.getCheckboxState=function(a){return this._getCheckboxState(a)};
dhtmlXMenuObject.prototype.addCheckbox=function(a,c,b,d,e,f,g){if(!(this.context&&c==this.topId)){if(this.itemPull[this.idPrefix+c]==null)return;if(a=="child"&&this.itemPull[this.idPrefix+c].type!="item")return}var h="chbx_"+(f?"1":"0"),i=h;if(a=="sibling"){var l=this.idPrefix+(d!=null?d:this._genStr(24)),n=this.idPrefix+this.getParentId(c);this._addItemIntoGlobalStrorage(l,n,e,"checkbox",g,h,i);this.itemPull[l].checked=f;this._renderSublevelItem(l,this.getItemPosition(c))}else l=this.idPrefix+(d!=
null?d:this._genStr(24)),n=this.idPrefix+c,this._addItemIntoGlobalStrorage(l,n,e,"checkbox",g,h,i),this.itemPull[l].checked=f,this.idPull["polygon_"+n]==null&&this._renderSublevelPolygon(n,n),this._renderSublevelItem(l,b-1),this._redefineComplexState(n)};
dhtmlXMenuObject.prototype._readLevel=function(a){var c="",b;for(b in this.itemPull)if(this.itemPull[b].parent==a){var d="",e="",f="",g=String(this.itemPull[b].id).replace(this.idPrefix,""),h="",i=this.itemPull[b].title!=""?' text="'+this.itemPull[b].title+'"':"",l="";this.itemPull[b].type=="item"&&(this.itemPull[b].imgen!=""&&(d=' img="'+this.itemPull[b].imgen+'"'),this.itemPull[b].imgdis!=""&&(e=' imgdis="'+this.itemPull[b].imgdis+'"'),this.itemPull[b].hotkey!=""&&(f="<hotkey>"+this.itemPull[b].hotkey+
"</hotkey>"));this.itemPull[b].type=="separator"?h=' type="separator"':this.itemPull[b].state=="disabled"&&(l=' enabled="false"');this.itemPull[b].type=="checkbox"&&(h=' type="checkbox"'+(this.itemPull[b].checked?' checked="true"':""));this.itemPull[b].type=="radio"&&(h=' type="radio" group="'+this.itemPull[b].group+'" '+(this.itemPull[b].checked?' checked="true"':""));c+="<item id='"+g+"'"+i+h+d+e+l+">";c+=f;this.itemPull[b].complex&&(c+=this._readLevel(b));c+="</item>"}return c};
dhtmlXMenuObject.prototype.serialize=function(){var a="<menu>"+this._readLevel(this.idPrefix+this.topId)+"</menu>";return a};
function dhtmlXToolbarObject(a,c){var b=this;for(this.cont=typeof a!="object"?document.getElementById(a):a;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.dir="ltr";this.cont.innerHTML+="<div class='dhxtoolbar_hdrline_ll'></div><div class='dhxtoolbar_hdrline_rr'></div><div class='dhxtoolbar_hdrline_l'></div><div class='dhxtoolbar_hdrline_r'></div>";this.base=document.createElement("DIV");this.base.className="float_left";this.cont.appendChild(this.base);this.align=
"left";this.setAlign=function(a){this.align=a=="right"?"right":"left";this.base.className=a=="right"?"float_right":"float_left";if(this._spacer)this._spacer.className="dhxtoolbar_spacer "+(a=="right"?" float_left":" float_right")};this._isIE6=!1;if(_isIE)this._isIE6=window.XMLHttpRequest==null?!0:!1;if(this._isIPad=navigator.userAgent.search(/iPad/gi)>=0)this.cont.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.iconSize=18;this.setIconSize=function(a){this.iconSize=
{18:!0,24:!0,32:!0,48:!0}[a]?a:18;this.setSkin(this.skin,!0);this.callEvent("_onIconSizeChange",[this.iconSize])};this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=0;this._improveTerraceSkin=function(){var a=[],b={buttonInput:!0,separator:!0,text:!0},c=[this.base];this._spacer!=null&&c.push(this._spacer);for(var g=0;g<c.length;g++){a[g]=[];for(var h=0;h<c[g].childNodes.length;h++)if(c[g].childNodes[h].idd!=null&&c[g].childNodes[h].style.display!="none"){var i=this.idPrefix+c[g].childNodes[h].idd;
this.objPull[i]!=null&&this.objPull[i].obj==c[g].childNodes[h]&&a[g].push({a:i,type:this.objPull[i].type,node:this.objPull[i][this.objPull[i].type=="buttonSelect"?"arw":"obj"]})}c[g]=null}for(g=0;g<a.length;g++)for(h=0;h<a[g].length;h++){var l=a[g][h];if(l.type=="buttonInput")l.node.className=l.node.className.replace(/dhx_toolbar_btn/,"dhx_toolbar_inp");var n=!1,o=!1;if(!b[l.type]){if(h==a[g].length-1||a[g][h+1]!=null&&b[a[g][h+1].type])n=!0;if(h==0||h-1>=0&&a[g][h-1]!=null&&b[a[g][h-1].type])o=!0}l.node.style.borderRight=
n?"1px solid #cecece":"0px solid white";l.node.style.borderTopRightRadius=l.node.style.borderBottomRightRadius=n?"5px":"0px";l.type=="buttonSelect"?(l.node.previousSibling.style.borderTopLeftRadius=l.node.previousSibling.style.borderBottomLeftRadius=o?"5px":"0px",l.node.previousSibling._br=n,l.node.previousSibling._bl=o):l.node.style.borderTopLeftRadius=l.node.style.borderBottomLeftRadius=o?"5px":"0px";l.node._br=n;l.node._bl=o}for(g=0;g<a.length;g++){for(h=0;h<a[g].length;h++){for(i in a[g][h])a[g][h][i]=
null;a[g][h]=null}a[g]=null}a=c=null};this._improveTerraceButtonSelect=function(a,b){var c=this.objPull[a];b==!0?(c.obj.style.borderBottomLeftRadius=c.obj._bl?"5px":"0px",c.arw.style.borderBottomRightRadius=c.obj._br?"5px":"0px"):(c.obj.style.borderBottomLeftRadius="0px",c.arw.style.borderBottomRightRadius="0px");c=null};this.setSkin=function(a,b){if(b===!0)this.cont.className=this.cont.className.replace(/dhx_toolbar_base_\d{1,}_/,"dhx_toolbar_base_"+this.iconSize+"_");else{this.skin=a;if(this.skin==
"dhx_skyblue")this.selectPolygonOffsetTop=1;if(this.skin=="dhx_web")this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=1;if(this.skin=="dhx_terrace")this.selectPolygonOffsetTop=-1,this.selectPolygonOffsetLeft=0;this.cont.className="dhx_toolbar_base_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":"")}for(var c in this.objPull){var g=this.objPull[c];if(g.type=="slider")g.pen._detectLimits(),g.pen._definePos(),g.label.className="dhx_toolbar_slider_label_"+this.skin+(this.rtl?" rtl":"");if(g.type==
"buttonSelect")g.polygon.className="dhx_toolbar_poly_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":"")}a=="dhx_terrace"&&this._improveTerraceSkin()};this.setSkin(c!=null?c:typeof dhtmlx!="undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:"dhx_skyblue");this.objPull={};this.anyUsed="none";this.imagePath="";this.setIconPath=this.setIconsPath=function(a){this.imagePath=a};this._doOnLoad=function(){};this.loadXML=function(a,b){if(b!=null)this._doOnLoad=function(){b()};this.callEvent("onXLS",[]);this._xmlLoader=
new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXML(a)};this.loadXMLString=function(a,b){if(b!=null)this._doOnLoad=function(){b()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXMLString(a)};this._xmlParser=function(){for(var a=this.getXMLTopNode("toolbar"),c="id,type,hidden,title,text,enabled,img,imgdis,action,openAll,renderSelect,mode,maxOpen,width,value,selected,length,textMin,textMax,toolTip,valueMin,valueMax,valueNow".split(","),f="id,type,enabled,disabled,action,selected,img,text".split(","),
g=0;g<a.childNodes.length;g++)if(a.childNodes[g].tagName=="item"){for(var h={},i=0;i<c.length;i++)h[c[i]]=a.childNodes[g].getAttribute(c[i]);h.items=[];h.userdata=[];for(var l=0;l<a.childNodes[g].childNodes.length;l++){if(a.childNodes[g].childNodes[l].tagName=="item"&&h.type=="buttonSelect"){for(var n={},i=0;i<f.length;i++)n[f[i]]=a.childNodes[g].childNodes[l].getAttribute(f[i]);var o=a.childNodes[g].childNodes[l].getElementsByTagName("itemText");if(o!=null&&o[0]!=null)n.itemText=o[0].firstChild.nodeValue;
for(var j=a.childNodes[g].childNodes[l].getElementsByTagName("userdata"),i=0;i<j.length;i++){if(!n.userdata)n.userdata={};var k={};try{k.name=j[i].getAttribute("name")}catch(m){k.name=""}try{k.value=j[i].firstChild.nodeValue}catch(p){k.value=""}if(k.name!="")n.userdata[k.name]=k.value}h.items[h.items.length]=n}if(a.childNodes[g].childNodes[l].tagName=="userdata"){n={};try{n.name=a.childNodes[g].childNodes[l].getAttribute("name")}catch(s){n.name=""}try{n.value=a.childNodes[g].childNodes[l].firstChild.nodeValue}catch(q){n.value=
""}h.userdata[h.userdata.length]=n}}b._addItemToStorage(h)}b.skin=="dhx_terrace"&&b._improveTerraceSkin();b.callEvent("onXLE",[]);b._doOnLoad();this.destructor()};this._addItemToStorage=function(a,b){var c=a.id||this._genStr(24),g=a.type||"";if(g!=""&&this["_"+g+"Object"]!=null){if((typeof a.openAll=="undefined"||a.openAll==null)&&this.skin=="dhx_terrace")a.openAll=!0;this.objPull[this.idPrefix+c]=new this["_"+g+"Object"](this,c,a);this.objPull[this.idPrefix+c].type=g;this.setPosition(c,b)}if(a.userdata)for(var h=
0;h<a.userdata.length;h++)this.setUserData(c,a.userdata[h].name,a.userdata[h].value)};this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=0;g<a;g++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b};this.rootTypes="button,buttonSelect,buttonTwoState,separator,label,slider,text,buttonInput".split(",");this.idPrefix=this._genStr(12);dhtmlxEventable(this);this._getObj=function(a,b){for(var c=null,g=0;g<a.childNodes.length;g++)a.childNodes[g].tagName!=
null&&String(a.childNodes[g].tagName).toLowerCase()==String(b).toLowerCase()&&(c=a.childNodes[g]);return c};this._addImgObj=function(a){var b=document.createElement("IMG");a.childNodes.length>0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b);return b};this._setItemImage=function(a,b,c){c==!0?a.imgEn=b:a.imgDis=b;if(!(!a.state&&c==!0||a.state&&c==!1)){var g=this._getObj(a.obj,"img");g==null&&(g=this._addImgObj(a.obj));g.src=this.imagePath+b}};this._clearItemImage=function(a,b){b==!0?a.imgEn="":
a.imgDis="";if(!(!a.state&&b==!0||a.state&&b==!1)){var c=this._getObj(a.obj,"img");c!=null&&c.parentNode.removeChild(c)}};this._setItemText=function(a,b){var c=this._getObj(a.obj,"div");b==null||b.length==0?c!=null&&c.parentNode.removeChild(c):(c==null&&(c=document.createElement("DIV"),a.obj.appendChild(c)),c.innerHTML=b)};this._getItemText=function(a){var b=this._getObj(a.obj,"div");return b!=null?b.innerHTML:""};this._enableItem=function(a){if(!a.state){a.state=!0;this.objPull[a.id].type=="buttonTwoState"&&
this.objPull[a.id].obj.pressed==!0?(a.obj.className="dhx_toolbar_btn pres",a.obj.renderAs="dhx_toolbar_btn over"):(a.obj.className="dhx_toolbar_btn def",a.obj.renderAs=a.obj.className);if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,"img");a.imgEn!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgEn):b!=null&&b.parentNode.removeChild(b)}};this._disableItem=function(a){if(a.state){a.state=!1;a.obj.className="dhx_toolbar_btn "+(this.objPull[a.id].type==
"buttonTwoState"&&a.obj.pressed?"pres_":"")+"dis";a.obj.renderAs="dhx_toolbar_btn def";if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,"img");a.imgDis!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgDis):b!=null&&b.parentNode.removeChild(b);if(a.polygon!=null&&a.polygon.style.display!="none"){a.polygon.style.display="none";if(a.polygon._ie6cover)a.polygon._ie6cover.style.display="none";this.skin=="dhx_terrace"&&this._improveTerraceButtonSelect(a.id,
!0)}this.anyUsed="none"}};this.clearAll=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""))};this._isWebToolbar=!0;this._doOnClick=function(){b&&b.forEachItem&&b.forEachItem(function(a){if(b.objPull[b.idPrefix+a].type=="buttonSelect"){var c=b.objPull[b.idPrefix+a];if(c.arw._skip===!0)c.arw._skip=!1;else if(c.polygon.style.display!="none"){c.obj.renderAs="dhx_toolbar_btn def";c.obj.className=c.obj.renderAs;c.arw.className=String(c.obj.renderAs).replace("btn",
"arw");b.anyUsed="none";c.polygon.style.display="none";if(c.polygon._ie6cover)c.polygon._ie6cover.style.display="none";b.skin=="dhx_terrace"&&b._improveTerraceButtonSelect(c.id,!0)}}})};this._isIPad?document.addEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.attachEvent("onmousedown",this._doOnClick):window.addEventListener("mousedown",this._doOnClick,!1);return this}
dhtmlXToolbarObject.prototype.addSpacer=function(a){var c=this.idPrefix+a;if(this._spacer!=null){if(this._spacer.idd==a)return;if(this._spacer==this.objPull[c].obj.parentNode){for(var b=!0;b;){var d=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]);if(d==a||this._spacer.childNodes.length==0)this.objPull[c].arw!=null&&this.base.appendChild(this.objPull[c].arw),b=!1}this._spacer.idd=a;this._fixSpacer();return}if(this.base==this.objPull[c].obj.parentNode){for(var b=!0,
e=this.objPull[c].arw!=null;b;){var f=this.base.childNodes.length-1;e==!0&&this.base.childNodes[f]==this.objPull[c].arw&&(b=!1);this.base.childNodes[f].idd==a&&(b=!1);b&&(this._spacer.childNodes.length>0?this._spacer.insertBefore(this.base.childNodes[f],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[f]))}this._spacer.idd=a;this._fixSpacer();return}}else{for(var g=null,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f]==this.objPull[this.idPrefix+a].obj&&(g=f,
this.objPull[this.idPrefix+a].arw!=null&&(g=f+1));if(g!=null){this._spacer=document.createElement("DIV");this._spacer.className="dhxtoolbar_spacer "+(this.align=="right"?" float_left":" float_right");this._spacer.dir="ltr";for(this._spacer.idd=a;this.base.childNodes.length>g+1;)this._spacer.appendChild(this.base.childNodes[g+1]);this.cont.appendChild(this._spacer);this._fixSpacer()}}this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;this._spacer.childNodes.length>0;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer);this._spacer=null;this.skin=="dhx_terrace"&&this._improveTerraceSkin()}};
dhtmlXToolbarObject.prototype._fixSpacer=function(){if(_isIE&&this._spacer!=null){this._spacer.style.borderLeft="1px solid #a4bed4";var a=this._spacer;window.setTimeout(function(){a.style.borderLeft="0px solid #a4bed4";a=null},1)}};
dhtmlXToolbarObject.prototype.getType=function(a){var c=this.getParentId(a);if(c!=null){var b=null,d=this.objPull[this.idPrefix+c]._listOptions[a];d!=null&&(b=d.sep!=null?"buttonSelectSeparator":"buttonSelectButton");return b}else return this.objPull[this.idPrefix+a]==null?null:this.objPull[this.idPrefix+a].type};dhtmlXToolbarObject.prototype.getTypeExt=function(a){var c=this.getType(a);return c=="buttonSelectButton"||c=="buttonSelectSeparator"?c=c=="buttonSelectButton"?"button":"separator":null};
dhtmlXToolbarObject.prototype.inArray=function(a,c){for(var b=0;b<a.length;b++)if(a[b]==c)return!0;return!1};dhtmlXToolbarObject.prototype.getParentId=function(a){var c=null,b;for(b in this.objPull)if(this.objPull[b]._listOptions)for(var d in this.objPull[b]._listOptions)d==a&&(c=String(b).replace(this.idPrefix,""));return c};dhtmlXToolbarObject.prototype._addItem=function(a,c){this._addItemToStorage(a,c);this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.addButton=function(a,c,b,d,e){this._addItem({id:a,type:"button",text:b,img:d,imgdis:e},c)};dhtmlXToolbarObject.prototype.addText=function(a,c,b){this._addItem({id:a,type:"text",text:b},c)};
dhtmlXToolbarObject.prototype.addButtonSelect=function(a,c,b,d,e,f,g,h,i,l){for(var n=[],o=0;o<d.length;o++){var j={};d[o].id&&d[o].type?(j.id=d[o].id,j.type=d[o].type=="obj"?"button":"separator",j.text=d[o].text,j.img=d[o].img):(j.id=d[o][0],j.type=d[o][1]=="obj"?"button":"separator",j.text=d[o][2]||null,j.img=d[o][3]||null);n[n.length]=j}this._addItem({id:a,type:"buttonSelect",text:b,img:e,imgdis:f,renderSelect:g,openAll:h,items:n,maxOpen:i,mode:l},c)};
dhtmlXToolbarObject.prototype.addButtonTwoState=function(a,c,b,d,e){this._addItem({id:a,type:"buttonTwoState",img:d,imgdis:e,text:b},c)};dhtmlXToolbarObject.prototype.addSeparator=function(a,c){this._addItem({id:a,type:"separator"},c)};dhtmlXToolbarObject.prototype.addSlider=function(a,c,b,d,e,f,g,h,i){this._addItem({id:a,type:"slider",length:b,valueMin:d,valueMax:e,valueNow:f,textMin:g,textMax:h,toolTip:i},c)};
dhtmlXToolbarObject.prototype.addInput=function(a,c,b,d){this._addItem({id:a,type:"buttonInput",value:b,width:d},c)};dhtmlXToolbarObject.prototype.forEachItem=function(a){for(var c in this.objPull)this.inArray(this.rootTypes,this.objPull[c].type)&&a(this.objPull[c].id.replace(this.idPrefix,""))};
(function(){for(var a="isVisible,enableItem,disableItem,isEnabled,setItemText,getItemText,setItemToolTip,getItemToolTip,getInput,setItemImage,setItemImageDis,clearItemImage,clearItemImageDis,setItemState,getItemState,setItemToolTipTemplate,getItemToolTipTemplate,setValue,getValue,setMinValue,getMinValue,setMaxValue,getMaxValue,setWidth,getWidth,setMaxOpen".split(","),c=[!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],b=function(a,b){return function(c,
d,e){c=this.idPrefix+c;return this.objPull[c][a]!=null?this.objPull[c][a].call(this.objPull[c],d,e):b}},d=0;d<a.length;d++){var e=a[d],f=c[d];dhtmlXToolbarObject.prototype[e]=b(e,f)}})();dhtmlXToolbarObject.prototype.showItem=function(a){a=this.idPrefix+a;this.objPull[a]!=null&&this.objPull[a].showItem!=null&&(this.objPull[a].showItem(),this.skin=="dhx_terrace"&&this._improveTerraceSkin())};
dhtmlXToolbarObject.prototype.hideItem=function(a){a=this.idPrefix+a;this.objPull[a]!=null&&this.objPull[a].hideItem!=null&&(this.objPull[a].hideItem(),this.skin=="dhx_terrace"&&this._improveTerraceSkin())};dhtmlXToolbarObject.prototype.getPosition=function(a){return this._getPosition(a)};
dhtmlXToolbarObject.prototype._getPosition=function(a){if(this.objPull[this.idPrefix+a]==null)return null;for(var c=null,b=0,d=0;d<this.base.childNodes.length;d++)this.base.childNodes[d].idd!=null&&(this.base.childNodes[d].idd==a&&(c=b),b++);if(!c&&this._spacer!=null)for(d=0;d<this._spacer.childNodes.length;d++)this._spacer.childNodes[d].idd!=null&&(this._spacer.childNodes[d].idd==a&&(c=b),b++);return c};dhtmlXToolbarObject.prototype.setPosition=function(a,c){this._setPosition(a,c)};
dhtmlXToolbarObject.prototype._setPosition=function(a,c){if(this.objPull[this.idPrefix+a]!=null){if(isNaN(c))c=this.base.childNodes.length;c<0&&(c=0);var b=null;if(this._spacer)b=this._spacer.idd,this.removeSpacer();var d=this.objPull[this.idPrefix+a];this.base.removeChild(d.obj);d.arw&&this.base.removeChild(d.arw);var e=this._getIdByPosition(c,!0);e[0]==null?(this.base.appendChild(d.obj),d.arw&&this.base.appendChild(d.arw)):(this.base.insertBefore(d.obj,this.base.childNodes[e[1]]),d.arw&&this.base.insertBefore(d.arw,
this.base.childNodes[e[1]+1]));b!=null&&this.addSpacer(b)}};dhtmlXToolbarObject.prototype._getIdByPosition=function(a,c){for(var b=null,d=0,e=0,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f].idd!=null&&b==null&&d++==a&&(b=this.base.childNodes[f].idd),b==null&&e++;e=b==null?null:e;return c==!0?[b,e]:b};dhtmlXToolbarObject.prototype.removeItem=function(a){this._removeItem(a);this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype._removeItem=function(a){var c=this.getType(a),a=this.idPrefix+a,b=this.objPull[a];if(c=="button")b.obj._doOnMouseOver=null,b.obj._doOnMouseOut=null,b.obj._doOnMouseUp=null,b.obj._doOnMouseUpOnceAnywhere=null,b.obj.onclick=null,b.obj.onmouseover=null,b.obj.onmouseout=null,b.obj.onmouseup=null,b.obj.onmousedown=null,b.obj.onselectstart=null,b.obj.renderAs=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.state=null,b.img=null,b.imgEn=null,b.imgDis=
null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemText=null,b.getItemText=null,b.setItemImage=null,b.clearItemImage=null,b.setItemImageDis=null,b.clearItemImageDis=null,b.setItemToolTip=null,b.getItemToolTip=null;if(c=="buttonTwoState")b.obj._doOnMouseOver=null,b.obj._doOnMouseOut=null,b.obj.onmouseover=null,b.obj.onmouseout=null,b.obj.onmousedown=null,b.obj.onselectstart=null,b.obj.renderAs=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),
b.obj=null,b.id=null,b.state=null,b.img=null,b.imgEn=null,b.imgDis=null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemText=null,b.getItemText=null,b.setItemImage=null,b.clearItemImage=null,b.setItemImageDis=null,b.clearItemImageDis=null,b.setItemToolTip=null,b.getItemToolTip=null,b.setItemState=null,b.getItemState=null;if(c=="buttonSelect"){for(var d in b._listOptions)this.removeListOption(a,d);b._listOptions=null;if(b.polygon._ie6cover)document.body.removeChild(b.polygon._ie6cover),
b.polygon._ie6cover=null;b.p_tbl.removeChild(b.p_tbody);b.polygon.removeChild(b.p_tbl);b.polygon.onselectstart=null;document.body.removeChild(b.polygon);b.p_tbody=null;b.p_tbl=null;b.polygon=null;b.obj.onclick=null;b.obj.onmouseover=null;b.obj.onmouseout=null;b.obj.onmouseup=null;b.obj.onmousedown=null;b.obj.onselectstart=null;b.obj.idd=null;b.obj.iddPrefix=null;b.obj.parentNode.removeChild(b.obj);b.obj=null;b.arw.onclick=null;b.arw.onmouseover=null;b.arw.onmouseout=null;b.arw.onmouseup=null;b.arw.onmousedown=
null;b.arw.onselectstart=null;b.arw.parentNode.removeChild(b.arw);b.arw=null;b.renderSelect=null;b.state=null;b.type=null;b.id=null;b.img=null;b.imgEn=null;b.imgDis=null;b.openAll=null;b._isListButton=null;b._separatorButtonSelectObject=null;b._buttonButtonSelectObject=null;b.setWidth=null;b.enableItem=null;b.disableItem=null;b.isEnabled=null;b.showItem=null;b.hideItem=null;b.isVisible=null;b.setItemText=null;b.getItemText=null;b.setItemImage=null;b.clearItemImage=null;b.setItemImageDis=null;b.clearItemImageDis=
null;b.setItemToolTip=null;b.getItemToolTip=null;b.addListOption=null;b.removeListOption=null;b.showListOption=null;b.hideListOption=null;b.isListOptionVisible=null;b.enableListOption=null;b.disableListOption=null;b.isListOptionEnabled=null;b.setListOptionPosition=null;b.getListOptionPosition=null;b.setListOptionImage=null;b.getListOptionImage=null;b.clearListOptionImage=null;b.setListOptionText=null;b.getListOptionText=null;b.setListOptionToolTip=null;b.getListOptionToolTip=null;b.forEachListOption=
null;b.getAllListOptions=null;b.setListOptionSelected=null;b.getListOptionSelected=null}if(c=="buttonInput")b.obj.childNodes[0].onkeydown=null,b.obj.removeChild(b.obj.childNodes[0]),b.obj.w=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemToolTip=null,b.getItemToolTip=null,b.setWidth=null,b.getWidth=null,b.setValue=null,b.getValue=null,b.setItemText=
null,b.getItemText=null;if(c=="slider"){this._isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):_isIE?(document.body.detachEvent("onmousemove",b.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",b.pen._doOnMouseMoveEnd)):(window.removeEventListener("mousemove",b.pen._doOnMouseMoveStart,!1),window.removeEventListener("mouseup",b.pen._doOnMouseMoveEnd,!1));b.pen.allowMove=null;b.pen.initXY=null;
b.pen.maxX=null;b.pen.minX=null;b.pen.nowX=null;b.pen.newNowX=null;b.pen.valueMax=null;b.pen.valueMin=null;b.pen.valueNow=null;b.pen._definePos=null;b.pen._detectLimits=null;b.pen._doOnMouseMoveStart=null;b.pen._doOnMouseMoveEnd=null;b.pen.onmousedown=null;b.obj.removeChild(b.pen);b.pen=null;b.label.tip=null;document.body.removeChild(b.label);b.label=null;b.obj.onselectstart=null;for(b.obj.idd=null;b.obj.childNodes.length>0;)b.obj.removeChild(b.obj.childNodes[0]);b.obj.parentNode.removeChild(b.obj);
b.obj=null;b.id=null;b.type=null;b.state=null;b.enableItem=null;b.disableItem=null;b.isEnabled=null;b.setItemToolTipTemplate=null;b.getItemToolTipTemplate=null;b.setMaxValue=null;b.setMinValue=null;b.getMaxValue=null;b.getMinValue=null;b.setValue=null;b.getValue=null;b.showItem=null;b.hideItem=null;b.isVisible=null}if(c=="separator")b.obj.onselectstart=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.showItem=null,b.hideItem=null,b.isVisible=null;if(c=="text")b.obj.onselectstart=
null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setWidth=null,b.setItemText=null,b.getItemText=null;b=c=null;this.objPull[this.idPrefix+a]=null;delete this.objPull[this.idPrefix+a]};
(function(){for(var a="addListOption,removeListOption,showListOption,hideListOption,isListOptionVisible,enableListOption,disableListOption,isListOptionEnabled,setListOptionPosition,getListOptionPosition,setListOptionText,getListOptionText,setListOptionToolTip,getListOptionToolTip,setListOptionImage,getListOptionImage,clearListOptionImage,forEachListOption,getAllListOptions,setListOptionSelected,getListOptionSelected".split(","),c=function(a){return function(b,c,d,i,l,n){b=this.idPrefix+b;if(this.objPull[b]!=
null)return this.objPull[b].type!="buttonSelect"?void 0:this.objPull[b][a].call(this.objPull[b],c,d,i,l,n)}},b=0;b<a.length;b++){var d=a[b];dhtmlXToolbarObject.prototype[d]=c(d)}})();dhtmlXToolbarObject.prototype._rtlParseBtn=function(a,c){return a+c};
dhtmlXToolbarObject.prototype._separatorObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_sep";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.title=b.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(a._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};return this};
dhtmlXToolbarObject.prototype._textObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_text";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.title=b.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(a._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.obj.innerHTML=b.text||"";a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){this.obj.innerHTML=a};this.getItemText=function(){return this.obj.innerHTML};this.setWidth=function(a){this.obj.style.width=a+"px"};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._buttonObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?!1:!0;this.imgEn=b.img||"";this.imgDis=b.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.allowClick=!1;this.obj.extAction=b.action||null;this.obj.renderAs=this.obj.className;this.obj.idd=String(c);
this.obj.title=b.title||"";this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};this.obj._doOnMouseOver=function(){this.allowClick=!0;if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.className="dhx_toolbar_btn over"};
this.obj._doOnMouseOut=function(){this.allowClick=!1;if(d.state!=!1&&a.anyUsed=="none")this.className="dhx_toolbar_btn def",this.renderAs=this.renderAs};this.obj.onclick=function(b){if(d.state!=!1&&this.allowClick!=!1){var b=b||event,c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(g){}a&&a.callEvent&&a.callEvent("onClick",[c])}};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){if(d.state==!1)return b=b||event,b.returnValue=!1,b.cancelBubble=!0,!1;
if(a.anyUsed=="none")return a.anyUsed=this.idd,this.className="dhx_toolbar_btn pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){a.anyUsed="none";this._doOnMouseOut()},!1};this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(){if(d.state!=!1&&!(a.anyUsed!="none"&&a.anyUsed!=this.idd)){var b=a.anyUsed;this._doOnMouseUp();a._isIPad&&b!="none"&&a.callEvent("onClick",[this.idd.replace(a.idPrefix,"")])}};if(a._isIPad)this.obj.ontouchmove=function(){this._doOnMouseUp()};
this.obj._doOnMouseUp=function(){a.anyUsed="none";this.className=this.renderAs;this.pressed=!1};this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp();this.onmouseover=function(){this._doOnMouseOver()};this.onmouseout=function(){this._doOnMouseOut()}};a.base.appendChild(this.obj);this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display=
"none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};
return this};
dhtmlXToolbarObject.prototype._buttonSelectObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?b.enabled=="true"?!0:!1:!0;this.imgEn=b.img||"";this.imgDis=b.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.mode=b.mode||"button";if(this.mode=="select"){if(this.openAll=!0,this.renderSelect=!1,!b.text||b.text.length==0)b.text="&nbsp;"}else this.openAll=b.openAll=="true"||b.openAll==!0||b.openAll==1||b.openAll=="1"||b.openAll=="yes"||b.openAll==
"on",this.renderSelect=b.renderSelect!=null?b.renderSelect=="false"||b.renderSelect=="disabled"?!1:!0:!0;this.maxOpen=!isNaN(b.maxOpen?b.maxOpen:"")?b.maxOpen:null;this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!a._sbw){var b=document.createElement("DIV");b.className="dhxtoolbar_maxopen_test";document.body.appendChild(b);var c=document.createElement("DIV");c.className="dhxtoolbar_maxopen_test2";b.appendChild(c);a._sbw=b.offsetWidth-c.offsetWidth;b.removeChild(c);c=null;document.body.removeChild(b);
b=null}};this._maxOpenTest();this.obj=document.createElement("DIV");this.obj.allowClick=!1;this.obj.extAction=b.action||null;this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(c);this.obj.title=b.title||"";this.callEvent=this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+
"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");a.base.appendChild(this.obj);this.arw=document.createElement("DIV");this.arw.className="dhx_toolbar_arw "+(this.state?"def":"dis");this.arw.style.display=this.obj.style.display;this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>";this.arw.title=this.obj.title;this.arw.onselectstart=function(a){a=a||event;a.returnValue=!1};a.base.appendChild(this.arw);var d=this;this.obj.onmouseover=function(b){b=b||event;if(a.anyUsed=="none"&&d.state)d.obj.renderAs=
"dhx_toolbar_btn over",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw")};this.obj.onmouseout=function(){d.obj.allowClick=!1;if(a.anyUsed=="none"&&d.state)d.obj.renderAs="dhx_toolbar_btn def",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),d.callEvent=!1};this.arw.onmouseover=this.obj.onmouseover;this.arw.onmouseout=this.obj.onmouseout;if(this.openAll!=!0)this.obj.onclick=function(b){b=b||event;if(d.obj.allowClick&&
d.state&&a.anyUsed=="none"){var c=d.obj.idd.replace(a.idPrefix,"");if(d.obj.extAction)try{window[d.obj.extAction](c)}catch(e){}a.callEvent("onClick",[c])}},this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){b=b||event;if(a.anyUsed=="none"&&d.state)d.obj.allowClick=!0,d.obj.className="dhx_toolbar_btn pres",d.arw.className="dhx_toolbar_arw pres",d.callEvent=!0},this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(b){b=b||event;b.cancelBubble=!0;if(a.anyUsed=="none"&&d.state&&(d.obj.className=
d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),a._isIPad&&d.callEvent)){var c=d.obj.idd.replace(a.idPrefix,"");a.callEvent("onClick",[c])}};if(a._isIPad)this.obj.ontouchmove=this.obj.onmouseout;this.arw[a._isIPad?"ontouchstart":"onmousedown"]=function(b){var b=b||event,c=this.className.indexOf("dhx_toolbar_arw")===0?this:this.nextSibling;c._skip?(b=b||event,b.cancelBubble=!0):c._skip=!0;c=null;if(d.state){if(a.anyUsed==d.obj.idd){d.obj.className=d.obj.renderAs;d.arw.className=
String(d.obj.renderAs).replace("btn","arw");a.anyUsed="none";d.polygon.style.display="none";if(d.polygon._ie6cover)d.polygon._ie6cover.style.display="none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!0)}else{if(a.anyUsed!="none"&&a.objPull[a.idPrefix+a.anyUsed].type=="buttonSelect"){var e=a.objPull[a.idPrefix+a.anyUsed];if(e.polygon.style.display!="none"){e.obj.renderAs="dhx_toolbar_btn def";e.obj.className=e.obj.renderAs;e.arw.className=String(d.obj.renderAs).replace("btn","arw");
e.polygon.style.display="none";if(e.polygon._ie6cover)e.polygon._ie6cover.style.display="none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(e.id,!0)}}d.obj.className="dhx_toolbar_btn over";d.arw.className="dhx_toolbar_arw pres";a.anyUsed=d.obj.idd;d.polygon.style.top="0px";d.polygon.style.visibility="hidden";d.polygon.style.display="";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!1);d._fixMaxOpenHeight(d.maxOpen||null);a._autoDetectVisibleArea();var f=getAbsoluteTop(d.obj)+d.obj.offsetHeight+
a.selectPolygonOffsetTop,n=d.polygon.offsetHeight;if(f+n>a.tY2){var o=d.maxOpen!=null?Math.floor((a.tY2-f)/22):0;o>=1?d._fixMaxOpenHeight(o):(f=getAbsoluteTop(d.obj)-n-a.selectPolygonOffsetTop,f<0&&(f=0))}d.polygon.style.top=f+"px";if(a.rtl)d.polygon.style.left=getAbsoluteLeft(d.obj)+d.obj.offsetWidth-d.polygon.offsetWidth+a.selectPolygonOffsetLeft+"px";else{var j=document.body.scrollLeft,k=j+(window.innerWidth||document.body.clientWidth),m=getAbsoluteLeft(d.obj)+a.selectPolygonOffsetLeft;m+d.polygon.offsetWidth>
k&&(m=getAbsoluteLeft(d.arw)+d.arw.offsetWidth-d.polygon.offsetWidth);d.polygon.style.left=m+"px"}d.polygon.style.visibility="visible";if(d.polygon._ie6cover)d.polygon._ie6cover.style.left=d.polygon.style.left,d.polygon._ie6cover.style.top=d.polygon.style.top,d.polygon._ie6cover.style.width=d.polygon.offsetWidth+"px",d.polygon._ie6cover.style.height=d.polygon.offsetHeight+"px",d.polygon._ie6cover.style.display=""}return!1}};this.arw.onclick=function(a){a=a||event;a.cancelBubble=!0};this.arw[a._isIPad?
"ontouchend":"onmouseup"]=function(a){a=a||event;a.cancelBubble=!0};if(this.openAll===!0&&(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,a._isIPad))this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend;this.obj.iddPrefix=a.idPrefix;this._listOptions={};this._fixMaxOpenHeight=function(b){var c="auto",e=!1;if(b!==null){var f=0,n;for(n in this._listOptions)f++;f>b?(this._ph=22*b,c=this._ph+"px"):e=!0}this.polygon.style.width=
"auto";this.polygon.style.height="auto";if(!e&&d.maxOpen!=null)this.polygon.style.width=this.p_tbl.offsetWidth+a._sbw+"px",this.polygon.style.height=c};this._separatorButtonSelectObject=function(a,b,c){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.className="tr_sep";this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td=document.createElement("TD");this.obj.td.colSpan="2";this.obj.td.className="td_btn_sep";this.obj.td.onselectstart=function(a){a=a||
event;return a.returnValue=!1};isNaN(c)?c=d.p_tbody.childNodes.length+1:c<1&&(c=1);c>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[c-1]);this.obj.tr.appendChild(this.obj.td);this.obj.sep=document.createElement("DIV");this.obj.sep.className="btn_sep";this.obj.sep.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td.appendChild(this.obj.sep);d._listOptions[a]=this.obj;return this};this._buttonButtonSelectObject=
function(b,c,e){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.en=c.enabled=="false"?!1:c.disabled=="true"?!1:!0;this.obj.tr.extAction=c.action||null;this.obj.tr._selected=c.selected!=null;this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&d.renderSelect?" tr_btn_selected":"":" tr_btn_disabled");this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.tr.idd=String(b);if(c.userdata)this.obj.userData=c.userdata;isNaN(e)?e=d.p_tbody.childNodes.length+
1:e<1&&(e=1);e>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[e-1]);this.obj.td_a=document.createElement("TD");this.obj.td_a.className="td_btn_img";this.obj.td_a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td_b=document.createElement("TD");this.obj.td_b.className="td_btn_txt";this.obj.td_b.onselectstart=function(a){a=a||event;return a.returnValue=!1};a.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):
(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b));if(c.img!=null)this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+a.imagePath+c.img+"' border='0'>",this.obj.tr._img=c.img;var f=c.text!=null?c.text:c.itemText||"";this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+f+"</div>";this.obj.tr[a._isIPad?"ontouchstart":"onmouseover"]=function(){if(this.en&&(!this._selected||!d.renderSelect))this.className="tr_btn tr_btn_over"};this.obj.tr.onmouseout=function(){if(this.en)if(this._selected&&
d.renderSelect){if(String(this.className).search("tr_btn_selected")==-1)this.className="tr_btn tr_btn_selected"}else this.className="tr_btn"};this.obj.tr[a._isIPad?"ontouchend":"onclick"]=function(b){b=b||event;b.cancelBubble=!0;if(this.en){d.setListOptionSelected(this.idd.replace(a.idPrefix,""));d.obj.renderAs="dhx_toolbar_btn def";d.obj.className=d.obj.renderAs;d.arw.className=String(d.obj.renderAs).replace("btn","arw");d.polygon.style.display="none";if(d.polygon._ie6cover)d.polygon._ie6cover.style.display=
"none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!0);a.anyUsed="none";var c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(e){}a.callEvent("onClick",[c])}};d._listOptions[b]=this.obj;return this};this.polygon=document.createElement("DIV");this.polygon.dir="ltr";this.polygon.style.display="none";this.polygon.style.zIndex=101;this.polygon.className="dhx_toolbar_poly_"+a.iconSize+"_"+a.skin+(a.rtl?" rtl":"");this.polygon.onselectstart=function(a){a=
a||event;a.returnValue=!1};this.polygon.onmousedown=function(a){a=a||event;a.cancelBubble=!0};this.polygon.style.overflowY="auto";if(a._isIPad)this.polygon.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.p_tbl=document.createElement("TABLE");this.p_tbl.className="buttons_cont";this.p_tbl.cellSpacing="0";this.p_tbl.cellPadding="0";this.p_tbl.border="0";this.polygon.appendChild(this.p_tbl);this.p_tbody=document.createElement("TBODY");this.p_tbl.appendChild(this.p_tbody);
if(b.items)for(var e=0;e<b.items.length;e++){var f="_"+(b.items[e].type||"")+"ButtonSelectObject";typeof this[f]=="function"&&new this[f](b.items[e].id||a._genStr(24),b.items[e])}document.body.appendChild(this.polygon);if(a._isIE6)this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter=
"alpha(opacity=100)",this.polygon._ie6cover.style.display="none",this.polygon._ie6cover.setAttribute("src","javascript:false;"),document.body.appendChild(this.polygon._ie6cover);this.setWidth=function(a){this.obj.style.width=a-this.arw.offsetWidth+"px";this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px";this.p_tbl.style.width=this.polygon.style.width};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};
this.showItem=function(){this.obj.style.display="";this.arw.style.display=""};this.hideItem=function(){this.obj.style.display="none";this.arw.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,
b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a;this.arw.title=a};this.getItemToolTip=function(){return this.obj.title};this.addListOption=function(a,b,c,d,e){if(c=="button"||c=="separator"){var f={id:a,type:c,text:d,img:e};new this["_"+c+"ButtonSelectObject"](a,f,b)}};this.removeListOption=function(a){if(this._isListButton(a,!0)){var b=this._listOptions[a];if(b.td_a!=null&&b.td_b!=null){b.td_a.onselectstart=null;for(b.td_b.onselectstart=
null;b.td_a.childNodes.length>0;)b.td_a.removeChild(b.td_a.childNodes[0]);for(;b.td_b.childNodes.length>0;)b.td_b.removeChild(b.td_b.childNodes[0]);b.tr.onselectstart=null;b.tr.onmouseover=null;b.tr.onmouseout=null;for(b.tr.onclick=null;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.td_a=null;b.td_b=null}else{b.sep.onselectstart=null;b.td.onselectstart=null;for(b.tr.onselectstart=null;b.td.childNodes.length>0;)b.td.removeChild(b.td.childNodes[0]);
for(;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.sep=null;b.td=null}b=b.tr=null;this._listOptions[a]=null;try{delete this._listOptions[a]}catch(c){}}};this.showListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display=""};this.hideListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display="none"};this.isListOptionVisible=function(a){return!this._isListButton(a,!0)?void 0:this._listOptions[a].tr.style.display!=
"none"};this.enableListOption=function(b){if(this._isListButton(b))this._listOptions[b].tr.en=!0,this._listOptions[b].tr.className="tr_btn"+(this._listOptions[b].tr._selected&&a.renderSelect?" tr_btn_selected":"")};this.disableListOption=function(a){if(this._isListButton(a))this._listOptions[a].tr.en=!1,this._listOptions[a].tr.className="tr_btn tr_btn_disabled"};this.isListOptionEnabled=function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.en};this.setListOptionPosition=function(a,
b){if(this._listOptions[a]&&!(this.getListOptionPosition(a)==b||isNaN(b))){b<1&&(b=1);var c=this._listOptions[a].tr;this.p_tbody.removeChild(c);b>this.p_tbody.childNodes.length?this.p_tbody.appendChild(c):this.p_tbody.insertBefore(c,this.p_tbody.childNodes[b-1]);c=null}};this.getListOptionPosition=function(a){var b=-1;if(!this._listOptions[a])return b;for(var c=0;c<this.p_tbody.childNodes.length;c++)this.p_tbody.childNodes[c]==this._listOptions[a].tr&&(b=c+1);return b};this.setListOptionImage=function(b,
c){if(this._isListButton(b)){var d=this._listOptions[b].tr.childNodes[a.rtl?1:0];if(d.childNodes.length>0)d.childNodes[0].src=a.imagePath+c;else{var e=document.createElement("IMG");e.className="btn_sel_img";e.src=a.imagePath+c;d.appendChild(e)}d=null}};this.getListOptionImage=function(b){if(this._isListButton(b)){var c=this._listOptions[b].tr.childNodes[a.rtl?1:0],d=null;if(c.childNodes.length>0)d=c.childNodes[0].src;c=null;return d}};this.clearListOptionImage=function(b){if(this._isListButton(b)){for(var c=
this._listOptions[b].tr.childNodes[a.rtl?1:0];c.childNodes.length>0;)c.removeChild(c.childNodes[0]);c=null}};this.setListOptionText=function(b,c){if(this._isListButton(b))this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML=c};this.getListOptionText=function(b){return!this._isListButton(b)?void 0:this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML};this.setListOptionToolTip=function(a,b){if(this._isListButton(a))this._listOptions[a].tr.title=b};this.getListOptionToolTip=
function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.title};this.forEachListOption=function(a){for(var b in this._listOptions)a(b)};this.getAllListOptions=function(){var a=[],b;for(b in this._listOptions)a[a.length]=b;return a};this.setListOptionSelected=function(a){for(var b in this._listOptions){var c=this._listOptions[b];if(c.td_a!=null&&c.td_b!=null&&c.tr.en)b==a?(c.tr._selected=!0,c.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":""),this.mode=="select"&&(c.tr._img?
this.setItemImage(c.tr._img):this.clearItemImage(),this.setItemText(this.getListOptionText(a)))):(c.tr._selected=!1,c.tr.className="tr_btn");c=null}};this.getListOptionSelected=function(){var a=null,b;for(b in this._listOptions)this._listOptions[b].tr._selected==!0&&(a=b);return a};this._isListButton=function(a,b){return this._listOptions[a]==null?!1:!b&&this._listOptions[a].tr.className=="tr_sep"?!1:!0};this.setMaxOpen=function(a){this._ph=null;typeof a=="number"?(this.maxOpen=a,this._maxOpenTest()):
this.maxOpen=null};b.width&&this.setWidth(b.width);this.mode=="select"&&typeof b.selected!="undefined"&&this.setListOptionSelected(b.selected);return this};
dhtmlXToolbarObject.prototype._buttonInputObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn def";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.w=b.width!=null?b.width:100;this.obj.title=b.title!=null?b.title:"";this.obj.innerHTML="<input class='inp' type='text' style='-moz-user-select:text;width:"+this.obj.w+"px;'"+(b.value!=null?" value='"+b.value+"'":"")+">";var d=a,e=this;this.obj.childNodes[0].onkeydown=
function(a){a=a||event;a.keyCode==13&&d.callEvent("onEnter",[e.obj.idd,this.value])};a.base.appendChild(this.obj);this.enableItem=function(){this.obj.childNodes[0].disabled=!1};this.disableItem=function(){this.obj.childNodes[0].disabled=!0};this.isEnabled=function(){return!this.obj.childNodes[0].disabled};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display!="none"};this.setValue=function(a){this.obj.childNodes[0].value=
a};this.getValue=function(){return this.obj.childNodes[0].value};this.setWidth=function(a){this.obj.w=a;this.obj.childNodes[0].style.width=this.obj.w+"px"};this.getWidth=function(){return this.obj.w};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};this.getInput=function(){return this.obj.firstChild};return this};
dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?!1:!0;this.imgEn=b.img!=null?b.img:"";this.imgDis=b.imgdis!=null?b.imgdis:"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.pressed=b.selected!=null;this.obj.extAction=b.action||null;this.obj.className="dhx_toolbar_btn "+(this.obj.pressed?"pres"+(this.state?"":"_dis"):this.state?"def":"dis");this.obj.style.display=
b.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.idd=String(c);this.obj.title=b.title||"";if(this.obj.pressed)this.obj.renderAs="dhx_toolbar_btn over";this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");a.base.appendChild(this.obj);var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};
this.obj._doOnMouseOver=function(){if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.pressed?"dhx_toolbar_btn over":this.className="dhx_toolbar_btn over"};this.obj._doOnMouseOut=function(){if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.pressed?"dhx_toolbar_btn def":this.className="dhx_toolbar_btn def"};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(){if((!a.checkEvent("onBeforeStateChange")||a.callEvent("onBeforeStateChange",[this.idd.replace(a.idPrefix,""),this.pressed]))&&d.state!=
!1&&a.anyUsed=="none"){this.className=(this.pressed=!this.pressed)?"dhx_toolbar_btn pres":this.renderAs;var b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b,this.pressed)}catch(c){}a.callEvent("onStateChange",[b,this.pressed]);return!1}};this.setItemState=function(b,c){if(this.obj.pressed!=b&&(b==!0?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn pres"+(this.state?"":"_dis"),this.obj.renderAs="dhx_toolbar_btn over"):(this.obj.pressed=!1,this.obj.className=
"dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.renderAs=this.obj.className),c==!0)){var d=this.obj.idd.replace(a.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](d,this.obj.pressed)}catch(h){}a.callEvent("onStateChange",[d,this.obj.pressed])}};this.getItemState=function(){return this.obj.pressed};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=
a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._sliderObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?b.enabled=="true"?!0:!1:!0;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(c);this.obj.len=b.length!=null?Number(b.length):50;this.obj.innerHTML="<div>"+(b.textMin||"")+"</div><div class='sl_bg_l'></div><div class='sl_bg_m' style='width:"+
this.obj.len+"px;'></div><div class='sl_bg_r'></div><div>"+(b.textMax||"")+"</div>";a.base.appendChild(this.obj);var d=this;this.pen=document.createElement("DIV");this.pen.className="sl_pen";this.obj.appendChild(this.pen);var e=this.pen;this.label=document.createElement("DIV");this.label.dir="ltr";this.label.className="dhx_toolbar_slider_label_"+a.skin+(a.rtl?"_rtl":"");this.label.style.display="none";this.label.tip=b.toolTip||"%v";document.body.appendChild(this.label);var f=this.label;this.pen.valueMin=
b.valueMin!=null?Number(b.valueMin):0;this.pen.valueMax=b.valueMax!=null?Number(b.valueMax):100;if(this.pen.valueMin>this.pen.valueMax)this.pen.valueMin=this.pen.valueMax;this.pen.valueNow=b.valueNow!=null?Number(b.valueNow):this.pen.valueMax;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;if(this.pen.valueNow<this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits=function(){this.minX=d.obj.childNodes[1].offsetLeft-4;this.maxX=d.obj.childNodes[3].offsetLeft-
this.offsetWidth+1};this.pen._detectLimits();this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX);this.style.left=this.nowX+"px";this.newNowX=this.nowX};this.pen._definePos();this.pen.initXY=0;this.pen.allowMove=!1;this.pen[a._isIPad?"ontouchstart":"onmousedown"]=function(b){if(d.state!=!1&&(b=b||event,this.initXY=a._isIPad?b.touches[0].clientX:b.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className=
"sl_pen over",f.tip!=""))f.style.visibility="hidden",f.style.display="",f.innerHTML=f.tip.replace("%v",this.valueNow),f.style.left=Math.round(getAbsoluteLeft(this)+this.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(this)-f.offsetHeight-3+"px",f.style.visibility=""};this.pen._doOnMouseMoveStart=function(b){b=b||event;if(e.allowMove){var c=a._isIPad?b.touches[0].clientX:b.clientX,d=c-e.initXY;if(!(c<getAbsoluteLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.minX)&&!(c>getAbsoluteLeft(e)+
Math.round(e.offsetWidth/2)&&e.nowX==e.maxX)){e.newNowX=e.nowX+d;if(e.newNowX<e.minX)e.newNowX=e.minX;if(e.newNowX>e.maxX)e.newNowX=e.maxX;e.nowX=e.newNowX;e.style.left=e.nowX+"px";e.initXY=c;e.newValueNow=Math.round((e.valueMax-e.valueMin)*(e.newNowX-e.minX)/(e.maxX-e.minX)+e.valueMin);if(f.tip!="")f.innerHTML=f.tip.replace(/%v/gi,e.newValueNow),f.style.left=Math.round(getAbsoluteLeft(e)+e.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(e)-f.offsetHeight-3+"px";b.cancelBubble=!0;return b.returnValue=
!1}}};this.pen._doOnMouseMoveEnd=function(){if(e.allowMove){e.className="sl_pen";e.allowMove=!1;e.nowX=e.newNowX;e.valueNow=e.newValueNow;if(f.tip!="")f.style.display="none";a.callEvent("onValueChange",[d.obj.idd.replace(a.idPrefix,""),e.valueNow])}};a._isIPad?(document.addEventListener("touchmove",e._doOnMouseMoveStart,!1),document.addEventListener("touchend",e._doOnMouseMoveEnd,!1)):_isIE?(document.body.attachEvent("onmousemove",e._doOnMouseMoveStart),document.body.attachEvent("onmouseup",e._doOnMouseMoveEnd)):
(window.addEventListener("mousemove",e._doOnMouseMoveStart,!1),window.addEventListener("mouseup",e._doOnMouseMoveEnd,!1));this.enableItem=function(){if(!this.state)this.state=!0,this.obj.className="dhx_toolbar_btn def"};this.disableItem=function(){if(this.state)this.state=!1,this.obj.className="dhx_toolbar_btn dis"};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==
""};this.setValue=function(b,c){b=Number(b);if(b<this.pen.valueMin)b=this.pen.valueMin;if(b>this.pen.valueMax)b=this.pen.valueMax;this.pen.valueNow=b;this.pen._definePos();c==!0&&a.callEvent("onValueChange",[this.obj.idd.replace(a.idPrefix,""),this.pen.valueNow])};this.getValue=function(){return this.pen.valueNow};this.setMinValue=function(a,b){a=Number(a);if(!(a>this.pen.valueMax)){this.obj.childNodes[0].innerHTML=b;this.obj.childNodes[0].style.display=b.length>0?"":"none";this.pen.valueMin=a;if(this.pen.valueNow<
this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits();this.pen._definePos()}};this.setMaxValue=function(a,b){a=Number(a);if(!(a<this.pen.valueMin)){this.obj.childNodes[4].innerHTML=b;this.obj.childNodes[4].style.display=b.length>0?"":"none";this.pen.valueMax=a;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;this.pen._detectLimits();this.pen._definePos()}};this.getMinValue=function(){var a=this.obj.childNodes[0].innerHTML,b=this.pen.valueMin;return[b,
a]};this.getMaxValue=function(){var a=this.obj.childNodes[4].innerHTML,b=this.pen.valueMax;return[b,a]};this.setItemToolTipTemplate=function(a){this.label.tip=a};this.getItemToolTipTemplate=function(){return this.label.tip};return this};
dhtmlXToolbarObject.prototype.unload=function(){this._isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.detachEvent("onmousedown",this._doOnClick):window.removeEventListener("mousedown",this._doOnClick,!1);this._doOnClick=null;this.clearAll();this.objPull=null;if(this._xmlLoader)this._xmlLoader.destructor(),this._xmlLoader=null;for(;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.cont.removeChild(this.base);for(this.base=null;this.cont.childNodes.length>
0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="";this.cont=null;this.detachAllEvents();this.items=this.setMaxOpen=this.getUserData=this.setUserData=this.unload=this.getListOptionSelected=this.setListOptionSelected=this.getAllListOptions=this.forEachListOption=this.clearListOptionImage=this.getListOptionImage=this.setListOptionImage=this.getListOptionToolTip=this.setListOptionToolTip=this.getListOptionText=this.setListOptionText=this.getListOptionPosition=this.setListOptionPosition=
this.isListOptionEnabled=this.disableListOption=this.enableListOption=this.isListOptionVisible=this.hideListOption=this.showListOption=this.removeListOption=this.addListOption=this.removeItem=this.setPosition=this.getPosition=this.getWidth=this.setWidth=this.getMaxValue=this.setMaxValue=this.getMinValue=this.setMinValue=this.getValue=this.setValue=this.getItemToolTipTemplate=this.setItemToolTipTemplate=this.getItemState=this.setItemState=this.clearItemImageDis=this.clearItemImage=this.setItemImageDis=
this.setItemImage=this.getItemToolTip=this.setItemToolTip=this.getItemText=this.setItemText=this.isEnabled=this.disableItem=this.enableItem=this.isVisible=this.hideItem=this.showItem=this.forEachItem=this.addInput=this.addSlider=this.addSeparator=this.addButtonTwoState=this.addButtonSelect=this.addText=this.addButton=this.getParentId=this.inArray=this.getTypeExt=this.getType=this.removeSpacer=this.addSpacer=this.clearAll=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=
this.attachEvent=this.loadXMLString=this.loadXML=this.setIconPath=this.setIconsPath=this.setSkin=this.setAlign=this._removeItem=this._autoDetectVisibleArea=this._sliderObject=this._buttonTwoStateObject=this._buttonInputObject=this._buttonSelectObject=this._buttonObject=this._textObject=this._separatorObject=this._getIdByPosition=this._setPosition=this._getPosition=this._addItem=this._genStr=this._addItemToStorage=this._doOnLoad=this._xmlParser=this._disableItem=this._enableItem=this._getItemText=
this._setItemText=this._clearItemImage=this._setItemImage=this._addImgObj=this._getObj=this._sbw=this.setRTL=this._rtlParseBtn=this._rtl=this.skin=this.selectPolygonOffsetTop=this.selectPolygonOffsetLeft=this.rootTypes=this.imagePath=this.idPrefix=this.anyUsed=this.align=this._isWebToolbar=this._isIE6=this.tY2=this.tY1=this.tX2=this.tX1=null};
dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){this.tX1=document.body.scrollLeft;this.tX2=this.tX1+(window.innerWidth||document.body.clientWidth);this.tY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop);this.tY2=this.tY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)};
dhtmlXToolbarObject.prototype.setUserData=function(a,c,b){if(this.objPull[this.idPrefix+a]!=null){var d=this.objPull[this.idPrefix+a];if(d.userData==null)d.userData={};d.userData[c]=b}};dhtmlXToolbarObject.prototype.getUserData=function(a,c){return this.objPull[this.idPrefix+a]==null?null:this.objPull[this.idPrefix+a].userData==null?null:this.objPull[this.idPrefix+a].userData[c]==null?null:this.objPull[this.idPrefix+a].userData[c]};
dhtmlXToolbarObject.prototype._isListOptionExists=function(a,c){if(this.objPull[this.idPrefix+a]==null)return!1;var b=this.objPull[this.idPrefix+a];return b.type!="buttonSelect"?!1:b._listOptions[c]==null?!1:!0};dhtmlXToolbarObject.prototype.setListOptionUserData=function(a,c,b,d){if(this._isListOptionExists(a,c)){var e=this.objPull[this.idPrefix+a]._listOptions[c];if(e.userData==null)e.userData={};e.userData[b]=d}};
dhtmlXToolbarObject.prototype.getListOptionUserData=function(a,c,b){if(!this._isListOptionExists(a,c))return null;var d=this.objPull[this.idPrefix+a]._listOptions[c];return!d.userData?null:d.userData[b]?d.userData[b]:null};
(function(){dhtmlx.extend_api("dhtmlXToolbarObject",{_init:function(a){return[a.parent,a.skin]},icon_path:"setIconsPath",xml:"loadXML",items:"items",align:"setAlign",rtl:"setRTL",skin:"setSkin"},{items:function(a){for(var c=0;c<a.length;c++){var b=a[c];b.type=="button"&&this.addButton(b.id,null,b.text,b.img,b.img_disabled);b.type=="separator"&&this.addSeparator(b.id,null);b.type=="text"&&this.addText(b.id,null,b.text);b.type=="buttonSelect"&&this.addButtonSelect(b.id,null,b.text,b.options,b.img,b.img_disabled,
b.renderSelect,b.openAll,b.maxOpen);b.type=="buttonTwoState"&&this.addButtonTwoState(b.id,null,b.text,b.img,b.img_disabled);b.type=="buttonInput"&&this.addInput(b.id,null,b.text);b.type=="slider"&&this.addSlider(b.id,null,b.length,b.value_min,b.value_max,b.value_now,b.text_min,b.text_max,b.tip_template);b.width&&this.setWidth(b.id,b.width);b.disabled&&this.disableItem(b.id);b.tooltip&&this.setItemToolTip(b.id,b.tooltip);b.pressed===!0&&this.setItemState(b.id,!0)}}})})();
function dhtmlXContainer(a){var c=this;this.obj=a;a=null;this.obj._padding=!0;this.dhxcont=null;this.st=document.createElement("DIV");this.st.style.position="absolute";this.st.style.left="-200px";this.st.style.top="0px";this.st.style.width="100px";this.st.style.height="1px";this.st.style.visibility="hidden";this.st.style.overflow="hidden";document.body.insertBefore(this.st,document.body.childNodes[0]);this.obj._getSt=function(){return c.st};this.obj.dv="def";this.obj.av=this.obj.dv;this.obj.cv=this.obj.av;
this.obj.vs={};this.obj.vs[this.obj.av]={};this.obj.view=function(a){if(!this.vs[a]){this.vs[a]={};this.vs[a].dhxcont=this.vs[this.dv].dhxcont;var b=document.createElement("DIV");b.style.position="relative";b.style.left="0px";b.style.width="200px";b.style.height="200px";b.style.overflow="hidden";b.style.visibility="";c.st.appendChild(b);this.vs[a].dhxcont.mainCont[a]=b;b=null}this.avt=this.av;this.av=a;return this};this.obj.setActive=function(){if(this.vs[this.av])this.cv=this.av,this.vs[this.avt].dhxcont==
this.vs[this.avt].dhxcont.mainCont[this.avt].parentNode&&(c.st.appendChild(this.vs[this.avt].dhxcont.mainCont[this.avt]),this.vs[this.avt].menu&&c.st.appendChild(document.getElementById(this.vs[this.avt].menuId)),this.vs[this.avt].toolbar&&c.st.appendChild(document.getElementById(this.vs[this.avt].toolbarId)),this.vs[this.avt].sb&&c.st.appendChild(document.getElementById(this.vs[this.avt].sbId))),this.vs[this.av].dhxcont!=this.vs[this.av].dhxcont.mainCont[this.av].parentNode&&(this.vs[this.av].dhxcont.insertBefore(this.vs[this.av].dhxcont.mainCont[this.av],
this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]),this.vs[this.av].menu&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].menuId),this.vs[this.av].dhxcont.childNodes[0]),this.vs[this.av].toolbar&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].toolbarId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].menu?1:0]),this.vs[this.av].sb&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].sbId),
this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1])),this._doOnResize&&this._doOnResize(),this._isWindow&&this.updateNestedObjects(),this.avt=null};this.obj._viewRestore=function(){var a=this.av;if(this.avt)this.av=this.avt,this.avt=null;return a};this.setContent=function(a){this.obj.vs[this.obj.av].dhxcont=a;this.obj._init();a=null};this.obj._init=function(){this.vs[this.av].dhxcont.innerHTML="<div ida='dhxMainCont' style='position: relative; left: 0px; top: 0px; overflow: hidden;'></div><div class='dhxcont_content_blocker' style='display: none;'></div>";
this.vs[this.av].dhxcont.mainCont={};this.vs[this.av].dhxcont.mainCont[this.av]=this.vs[this.av].dhxcont.childNodes[0]};this.obj._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=0;g<a;g++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b};this.obj.setMinContentSize=function(a,b){this.vs[this.av]._minDataSizeW=a;this.vs[this.av]._minDataSizeH=b};this.obj._setPadding=function(a,b){typeof a=="object"?(this._offsetTop=a[0],this._offsetLeft=
a[1],this._offsetWidth=a[2],this._offsetHeight=a[3],a=null):(this._offsetLeft=this._offsetTop=a,this._offsetWidth=-a*2,this._offsetHeight=-a*2);this.vs[this.av].dhxcont.className="dhxcont_global_content_area "+(b||"")};this.obj.moveContentTo=function(a){for(var b in this.vs){a.view(b).setActive();var c=null;this.vs[b].grid&&(c="grid");this.vs[b].tree&&(c="tree");this.vs[b].tabbar&&(c="tabbar");this.vs[b].folders&&(c="folders");this.vs[b].layout&&(c="layout");c!=null&&(a.view(b).attachObject(this.vs[b][c+
"Id"],!1,!0,!1),a.vs[b][c]=this.vs[b][c],a.vs[b][c+"Id"]=this.vs[b][c+"Id"],a.vs[b][c+"Obj"]=this.vs[b][c+"Obj"],this.vs[b][c]=null,this.vs[b][c+"Id"]=null,this.vs[b][c+"Obj"]=null);if(this.vs[b]._frame)a.vs[b]._frame=this.vs[b]._frame,this.vs[b]._frame=null;if(this.vs[b].menu!=null){if(a.cv==a.av)a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].menuId),a.vs[a.av].dhxcont.childNodes[0]);else{var g=a._getSt();g.appendChild(document.getElementById(this.vs[b].menuId));g=null}a.vs[b].menu=
this.vs[b].menu;a.vs[b].menuId=this.vs[b].menuId;a.vs[b].menuHeight=this.vs[b].menuHeight;this.vs[b].menu=null;this.vs[b].menuId=null;this.vs[b].menuHeight=null;this.cv==this.av&&this._doOnAttachMenu&&this._doOnAttachMenu("unload");a.cv==a.av&&a._doOnAttachMenu&&a._doOnAttachMenu("move")}if(this.vs[b].toolbar!=null)a.cv==a.av?a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].toolbarId),a.vs[a.av].dhxcont.childNodes[a.vs[a.av].menu!=null?1:0]):(g=a._getSt(),g.appendChild(document.getElementById(this.vs[b].toolbarId)),
g=null),a.vs[b].toolbar=this.vs[b].toolbar,a.vs[b].toolbarId=this.vs[b].toolbarId,a.vs[b].toolbarHeight=this.vs[b].toolbarHeight,this.vs[b].toolbar=null,this.vs[b].toolbarId=null,this.vs[b].toolbarHeight=null,this.cv==this.av&&this._doOnAttachToolbar&&this._doOnAttachToolbar("unload"),a.cv==a.av&&a._doOnAttachToolbar&&a._doOnAttachToolbar("move");if(this.vs[b].sb!=null){if(a.cv==a.av)a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].sbId),a.vs[a.av].dhxcont.childNodes[a.vs[a.av].dhxcont.childNodes.length-
1]);else return g=a._getSt(),g.appendChild(document.getElementById(this.vs[b].sbId)),g;a.vs[b].sb=this.vs[b].sb;a.vs[b].sbId=this.vs[b].sbId;a.vs[b].sbHeight=this.vs[b].sbHeight;this.vs[b].sb=null;this.vs[b].sbId=null;this.vs[b].sbHeight=null;this.cv==this.av&&this._doOnAttachStatusBar&&this._doOnAttachStatusBar("unload");a.cv==a.av&&a._doOnAttachStatusBar&&a._doOnAttachStatusBar("move")}for(var h=this.vs[b].dhxcont.mainCont[b],i=a.vs[b].dhxcont.mainCont[b];h.childNodes.length>0;)i.appendChild(h.childNodes[0])}a.view(this.av).setActive();
a=null};this.obj.adjustContent=function(a,b,c,g,h){var i=this.vs[this.av].dhxcont,l=i.mainCont[this.av];i.style.left=(this._offsetLeft||0)+"px";i.style.top=(this._offsetTop||0)+b+"px";var n=a.clientWidth+(this._offsetWidth||0);if(g!==!0)i.style.width=Math.max(0,n)+"px";if(g!==!0&&i.offsetWidth>n)i.style.width=Math.max(0,n*2-i.offsetWidth)+"px";var o=a.clientHeight+(this._offsetHeight||0);i.style.height=Math.max(0,o-b)+(c!=null?c:0)+"px";if(i.offsetHeight>o-b)i.style.height=Math.max(0,(o-b)*2-i.offsetHeight)+
"px";if(h&&!isNaN(h))i.style.height=Math.max(0,parseInt(i.style.height)-h)+"px";if(this.vs[this.av]._minDataSizeH!=null&&parseInt(i.style.height)<this.vs[this.av]._minDataSizeH)i.style.height=this.vs[this.av]._minDataSizeH+"px";if(this.vs[this.av]._minDataSizeW!=null&&parseInt(i.style.width)<this.vs[this.av]._minDataSizeW)i.style.width=this.vs[this.av]._minDataSizeW+"px";if(g!==!0&&(l.style.width=i.clientWidth+"px",l.offsetWidth>i.clientWidth))l.style.width=Math.max(0,i.clientWidth*2-l.offsetWidth)+
"px";var j=this.vs[this.av].menu!=null?!this.vs[this.av].menuHidden?this.vs[this.av].menuHeight:0:0,k=this.vs[this.av].toolbar!=null?!this.vs[this.av].toolbarHidden?this.vs[this.av].toolbarHeight:0:0,m=this.vs[this.av].sb!=null?!this.vs[this.av].sbHidden?this.vs[this.av].sbHeight:0:0;l.style.height=i.clientHeight+"px";if(l.offsetHeight>i.clientHeight)l.style.height=Math.max(0,i.clientHeight*2-l.offsetHeight)+"px";l.style.height=Math.max(0,parseInt(l.style.height)-j-k-m)+"px";a=i=l=null};this.obj.coverBlocker=
function(){return this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]};this.obj.showCoverBlocker=function(){var a=this.coverBlocker();a.style.display="";a=null};this.obj.hideCoverBlocker=function(){var a=this.coverBlocker();a.style.display="none";a=null};this.obj.updateNestedObjects=function(a){if(this.skin=="dhx_terrace"){var b=this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null;if(this.vs[this.av].grid){var c=b||this._isWindow?14:0,g=this._isWindow?14:0,h=this._isWindow?
14:0;if(a){if(!this._isWindow)this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid.skin_h_correction=-2;this.vs[this.av].grid.dontSetSizes=!0;this.vs[this.av].gridObj.style.position="absolute"}this.vs[this.av].gridObj.style.top=c+"px";this.vs[this.av].gridObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px";this.vs[this.av].gridObj.style.left=h+"px";this.vs[this.av].gridObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-
h*2+"px";this.vs[this.av].grid.setSizes()}if(this.vs[this.av].tree){c=b||this._isWindow?14:0;g=this._isWindow?14:0;h=this._isWindow?14:0;if(a)this.vs[this.av].treeObj.style.position="absolute";this.vs[this.av].treeObj.style.top=c+"px";this.vs[this.av].treeObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px";this.vs[this.av].treeObj.style.left=h+"px";this.vs[this.av].treeObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-h*2+"px"}if(this.vs[this.av].form){c=
b||this._isWindow?14:0;g=this._isWindow?14:0;h=this._isWindow?14:0;if(a)this.vs[this.av].formObj.style.position="absolute";this.vs[this.av].formObj.style.top=c+"px";this.vs[this.av].formObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px";this.vs[this.av].formObj.style.left=h+"px";this.vs[this.av].formObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-h*2+"px";this.vs[this.av].form.setSizes()}if(this.vs[this.av].layout)a&&!this._isWindow&&
!this._isCell&&this.vs[this.av].layout._hideBorders(),c=this._isCell&&this._noHeader&&!b?0:14,g=this._isCell&&this._noHeader?0:14,h=this._isCell&&this._noHeader?0:14,this.vs[this.av].layoutObj.style.top=c+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px",this.vs[this.av].layoutObj.style.left=h+"px",this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-h*2+"px",this.vs[this.av].layout.setSizes();
if(this.vs[this.av].accordion){if(a)this.vs[this.av].accordion._hideBorders=!0;c=this._isCell&&this._noHeader&&!b?0:14;g=this._isCell&&this._noHeader?0:14;h=this._isCell&&this._noHeader?0:14;this.vs[this.av].accordionObj.style.top=c+"px";this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px";this.vs[this.av].accordionObj.style.left=h+"px";this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-
h*2+"px";this.vs[this.av].accordion.setSizes()}if(this.vs[this.av].tabbar!=null)c=!b&&this._isCell&&this._noHeader?0:14,g=this._isCell&&this._noHeader?c:28,h=this._isCell&&this._noHeader?0:14,this.vs[this.av].tabbarObj.style.top=c+"px",this.vs[this.av].tabbarObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-g+"px",this.vs[this.av].tabbarObj.style.left=h+"px",this.vs[this.av].tabbarObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-h*2+
"px",this.vs[this.av].tabbar.adjustOuterSize();if(this.vs[this.av].editor)h=c=14,this.vs[this.av].editorObj.style.top=c+"px",this.vs[this.av].editorObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c*2+"px",this.vs[this.av].editorObj.style.left=h+"px",this.vs[this.av].editorObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-h*2+"px",_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes();this.vs[this.av].sched&&
this.vs[this.av].sched.setSizes();this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects()}else{this.vs[this.av].grid&&this.vs[this.av].grid.setSizes();this.vs[this.av].sched&&this.vs[this.av].sched.setSizes();this.vs[this.av].tabbar&&this.vs[this.av].tabbar.adjustOuterSize();this.vs[this.av].folders&&this.vs[this.av].folders.setSizes();this.vs[this.av].editor&&(_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes());if(this.vs[this.av].layout)(this._isAcc||
this._isTabbarCell)&&this.skin=="dhx_skyblue"?(this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"):(this.vs[this.av].layoutObj.style.width=this.vs[this.av].dhxcont.mainCont[this.av].style.width,this.vs[this.av].layoutObj.style.height=this.vs[this.av].dhxcont.mainCont[this.av].style.height),this.vs[this.av].layout.setSizes();if(this.vs[this.av].accordion!=
null)this.skin=="dhx_web"?(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"):(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"),this.vs[this.av].accordion.setSizes();
this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects();this.vs[this.av].form&&this.vs[this.av].form.setSizes()}};this.obj.attachStatusBar=function(){if(!this.vs[this.av].sb){var a=document.createElement("DIV");a.className=this._isCell?"dhxcont_sb_container_layoutcell":"dhxcont_sb_container";a.id="sbobj_"+this._genStr(12);a.innerHTML="<div class='dhxcont_statusbar'></div>";this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(a,this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-
1]):c.st.appendChild(a);a.setText=function(a){this.childNodes[0].innerHTML=a};a.getText=function(){return this.childNodes[0].innerHTML};a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.vs[this.av].sb=a;this.vs[this.av].sbHeight=this.skin=="dhx_web"?41:this.skin=="dhx_skyblue"?23:a.offsetHeight;this.vs[this.av].sbId=a.id;this._doOnAttachStatusBar&&this._doOnAttachStatusBar("init");this.adjust();return this.vs[this._viewRestore()].sb}};this.obj.detachStatusBar=function(){if(this.vs[this.av].sb)this.vs[this.av].sb.setText=
null,this.vs[this.av].sb.getText=null,this.vs[this.av].sb.onselectstart=null,this.vs[this.av].sb.parentNode.removeChild(this.vs[this.av].sb),this.vs[this.av].sb=null,this.vs[this.av].sbHeight=null,this.vs[this.av].sbId=null,this._viewRestore(),this._doOnAttachStatusBar&&this._doOnAttachStatusBar("unload")};this.obj.getFrame=function(){return this.getView()._frame};this.obj.getView=function(a){return this.vs[a||this.av]};this.obj.attachMenu=function(a){if(!this.vs[this.av].menu){var b=document.createElement("DIV");
b.style.position="relative";b.style.overflow="hidden";b.id="dhxmenu_"+this._genStr(12);this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(b,this.vs[this.av].dhxcont.childNodes[0]):c.st.appendChild(b);typeof a!="object"?this.vs[this.av].menu=new dhtmlXMenuObject(b.id,a||this.skin):(a.parent=b.id,this.vs[this.av].menu=new dhtmlXMenuObject(a));this.vs[this.av].menuHeight=this.skin=="dhx_web"?29:b.offsetHeight;this.vs[this.av].menuId=b.id;this._doOnAttachMenu&&this._doOnAttachMenu("init");this.adjust();
return this.vs[this._viewRestore()].menu}};this.obj.detachMenu=function(){if(this.vs[this.av].menu){var a=document.getElementById(this.vs[this.av].menuId);this.vs[this.av].menu.unload();this.vs[this.av].menu=null;this.vs[this.av].menuId=null;this.vs[this.av].menuHeight=null;a&&a.parentNode.removeChild(a);a=null;this._viewRestore();this._doOnAttachMenu&&this._doOnAttachMenu("unload")}};this.obj.attachToolbar=function(a){if(!this.vs[this.av].toolbar){var b=document.createElement("DIV");b.style.position=
"relative";b.style.overflow="hidden";b.id="dhxtoolbar_"+this._genStr(12);this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(b,this.vs[this.av].dhxcont.childNodes[this.vs[this.av].menu!=null?1:0]):c.st.appendChild(b);typeof a!="object"?this.vs[this.av].toolbar=new dhtmlXToolbarObject(b.id,a||this.skin):(a.parent=b.id,this.vs[this.av].toolbar=new dhtmlXToolbarObject(a));this.vs[this.av].toolbarHeight=b.offsetHeight;this.vs[this.av].toolbarId=b.id;this._doOnAttachToolbar&&this._doOnAttachToolbar("init");
this.adjust();var f=this;this.vs[this.av].toolbar.attachEvent("_onIconSizeChange",function(){f.vs[f.av].toolbarHeight=this.cont.offsetHeight;f.vs[f.av].toolbarId=this.cont.id;f._doOnAttachToolbar&&f._doOnAttachToolbar("iconSizeChange")});this.skin!="dhx_terrace"&&this.vs[this.av].toolbar.callEvent("_onIconSizeChange",[]);return this.vs[this._viewRestore()].toolbar}};this.obj.detachToolbar=function(){if(this.vs[this.av].toolbar){var a=document.getElementById(this.vs[this.av].toolbarId);this.vs[this.av].toolbar.unload();
this.vs[this.av].toolbar=null;this.vs[this.av].toolbarId=null;this.vs[this.av].toolbarHeight=null;a&&a.parentNode.removeChild(a);a=null;this._viewRestore();this._doOnAttachToolbar&&this._doOnAttachToolbar("unload")}};this.obj.attachGrid=function(){if(this._isWindow&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();var a=document.createElement("DIV");a.id="dhxGridObj_"+this._genStr(12);a.style.width="100%";a.style.height="100%";a.cmp=
"grid";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].grid=new dhtmlXGridObject(a.id);this.vs[this.av].grid.setSkin(this.skin);if(this.skin=="dhx_skyblue"||this.skin=="dhx_black"||this.skin=="dhx_blue")this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid._sizeFix=2;this.vs[this.av].gridId=a.id;this.vs[this.av].gridObj=a;this.skin=="dhx_terrace"&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].grid};this.obj.attachScheduler=
function(a,b,c,g){var g=g||window.scheduler,h=0;c&&(l=document.getElementById(c))&&(h=1);if(!h){var i=c||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>',l=document.createElement("DIV");l.id="dhxSchedObj_"+this._genStr(12);l.innerHTML='<div id="'+l.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+
i+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>';document.body.appendChild(l.firstChild)}this.attachObject(l.id,!1,!0,!1);this.vs[this.av].sched=g;this.vs[this.av].schedId=l.id;g.setSizes=g.update_view;g.destructor=function(){};g.init(l.id,a,b);return this.vs[this._viewRestore()].sched};this.obj.attachTree=function(a){if(this._isWindow&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();var b=document.createElement("DIV");
b.id="dhxTreeObj_"+this._genStr(12);b.style.width="100%";b.style.height="100%";b.cmp="tree";document.body.appendChild(b);this.attachObject(b.id,!1,!0,!1);this.vs[this.av].tree=new dhtmlXTreeObject(b.id,"100%","100%",a||0);this.vs[this.av].tree.setSkin(this.skin);this.vs[this.av].tree.allTree.childNodes[0].style.marginTop="2px";this.vs[this.av].tree.allTree.childNodes[0].style.marginBottom="2px";this.vs[this.av].treeId=b.id;this.vs[this.av].treeObj=b;this.skin=="dhx_terrace"&&(this.adjust(),this.updateNestedObjects(!0));
return this.vs[this._viewRestore()].tree};this.obj.attachTabbar=function(a){if(this._isWindow&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.style.border="none",this.setDimension(this.w,this.h);var b=document.createElement("DIV");b.id="dhxTabbarObj_"+this._genStr(12);b.style.width="100%";b.style.height="100%";b.style.overflow="hidden";b.cmp="tabbar";if(!this._isWindow)b._hideBorders=!0;document.body.appendChild(b);this.attachObject(b.id,!1,!0,!1);if(this._isCell)this.hideHeader(),this._padding=
b._hideBorders=!1;this.vs[this.av].tabbar=new dhtmlXTabBar(b.id,a||"top",this.skin=="dhx_terrace"?null:20);if(!this._isWindow&&this.skin!="dhx_terrace")this.vs[this.av].tabbar._s.expand=!0;this.vs[this.av].tabbar.setSkin(this.skin);this.vs[this.av].tabbar.adjustOuterSize();this.vs[this.av].tabbarId=b.id;this.vs[this.av].tabbarObj=b;this.skin=="dhx_terrace"&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].tabbar};this.obj.attachFolders=function(){if(this._isWindow&&
this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();var a=document.createElement("DIV");a.id="dhxFoldersObj_"+this._genStr(12);a.style.width="100%";a.style.height="100%";a.style.overflow="hidden";a.cmp="folders";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].folders=new dhtmlxFolders(a.id);this.vs[this.av].folders.setSizes();this.vs[this.av].foldersId=a.id;this.vs[this.av].foldersObj=a;return this.vs[this._viewRestore()].folders};
this.obj.attachAccordion=function(){if(this._isWindow&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();var a=document.createElement("DIV");a.id="dhxAccordionObj_"+this._genStr(12);this._padding=!0;if(this.skin=="dhx_web")a.style.left="0px",a.style.top="0px",a.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",a.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px";else if(this.skin!=
"dhx_terrace")a.style.left="-1px",a.style.top="-1px",a.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",a.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px";a.style.position="relative";a.cmp="accordion";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].accordion=new dhtmlXAccordion(a.id,this.skin);this.vs[this.av].accordion.setSizes();this.vs[this.av].accordionId=a.id;this.vs[this.av].accordionObj=a;
this.skin=="dhx_terrace"&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].accordion};this.obj.attachLayout=function(a,b){if(this._isCell&&this.skin=="dhx_skyblue")this.hideHeader(),this.vs[this.av].dhxcont.style.border="0px solid white",this.adjustContent(this.childNodes[0],0);this._isCell&&this.skin=="dhx_web"&&this.hideHeader();this._padding=!0;var c=document.createElement("DIV");c.id="dhxLayoutObj_"+this._genStr(12);c.style.overflow="hidden";c.style.position="absolute";
c.style.left="0px";c.style.top="0px";c.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px";c.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px";if((this._isTabbarCell||this._isAcc)&&this.skin=="dhx_skyblue")c.style.left="-1px",c.style.top="-1px",c.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",c.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px";c.dhxContExists=!0;
c.cmp="layout";document.body.appendChild(c);this.attachObject(c.id,!1,!0,!1);this.vs[this.av].layout=new dhtmlXLayoutObject(c,a,b||this.skin);this._isWindow&&this.attachEvent("_onBeforeTryResize",this.vs[this.av].layout._defineWindowMinDimension);this.vs[this.av].layoutId=c.id;this.vs[this.av].layoutObj=c;if(this.skin=="dhx_terrace"){if(this._isCell)this.style.backgroundColor="transparent",this.vs[this.av].dhxcont.style.backgroundColor="transparent",this.hideHeader();this.adjust();this.updateNestedObjects(!0)}return this.vs[this._viewRestore()].layout};
this.obj.attachEditor=function(a){if(this._isWindow&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();var b=document.createElement("DIV");b.id="dhxEditorObj_"+this._genStr(12);b.style.position="relative";b.style.display="none";b.style.overflow="hidden";b.style.width="100%";b.style.height="100%";b.cmp="editor";document.body.appendChild(b);if(this.skin=="dhx_terrace")b._attached=!0;this.attachObject(b.id,!1,!0,!1);this.vs[this.av].editor=
new dhtmlXEditor(b.id,a||this.skin);this.vs[this.av].editorId=b.id;this.vs[this.av].editorObj=b;this.skin=="dhx_terrace"&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].editor};this.obj.attachMap=function(a){var b=document.createElement("DIV");b.id="GMapsObj_"+this._genStr(12);b.style.position="relative";b.style.display="none";b.style.overflow="hidden";b.style.width="100%";b.style.height="100%";b.cmp="gmaps";document.body.appendChild(b);this.attachObject(b.id,!1,
!0,!0);a||(a={center:new google.maps.LatLng(40.719837,-73.992348),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP});this.vs[this.av].gmaps=new google.maps.Map(b,a);return this.vs[this.av].gmaps};this.obj.attachObject=function(a,b,c,g){typeof a=="string"&&(a=document.getElementById(a));if(b){a.style.visibility="hidden";a.style.display="";var h=a.offsetWidth,i=a.offsetHeight}this._attachContent("obj",a);if(b&&this._isWindow)a.style.visibility="",this._adjustToContent(h,i);if(this.skin=="dhx_terrace"&&
(this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null))this.adjust(typeof g=="undefined"||g==!0),this.updateNestedObjects(!0);c||this._viewRestore()};this.obj.detachObject=function(a,b){for(var c=null,g=null,h="tree,grid,layout,tabbar,accordion,folders".split(","),i=0;i<h.length;i++)if(this.vs[this.av][h[i]]){c=this.vs[this.av][h[i]];g=this.vs[this.av][h[i]+"Obj"];if(a){c.unload&&c.unload();for(c.destructor&&c.destructor();g.childNodes.length>0;)g.removeChild(g.childNodes[0]);g.parentNode.removeChild(g);
c=g=null}else document.body.appendChild(g),g.style.display="none";this.vs[this.av][h[i]]=null;this.vs[this.av][h[i]+"Id"]=null;this.vs[this.av][h[i]+"Obj"]=null}if(c!=null&&g!=null)return[c,g];if(a&&this.vs[this.av]._frame)this._detachURLEvents(),this.vs[this.av]._frame=null;for(var l=this.vs[this.av].dhxcont.mainCont[this.av];l.childNodes.length>0;)if(a==!0)l.removeChild(l.childNodes[0]);else{var n=l.childNodes[0];b!=null?(typeof b!="object"&&(b=document.getElementById(b)),b.appendChild(n)):document.body.appendChild(n);
n.style.display="none"}l=b=null};this.obj.appendObject=function(a){typeof a=="string"&&(a=document.getElementById(a));this._attachContent("obj",a,!0)};this.obj.attachHTMLString=function(a){this._attachContent("str",a);for(var b=a.match(/<script[^>]*>[^\f]*?<\/script>/g)||[],c=0;c<b.length;c++){var g=b[c].replace(/<([\/]{0,1})script[^>]*>/g,"");g&&(window.execScript?window.execScript(g):window.eval(g))}};this.obj.attachURL=function(a,b){this._attachContent(b==!0?"urlajax":"url",a,!1);if(this.skin==
"dhx_terrace"&&(this.vs[this.av].menu!=null||this.vs[this.av].toolbar!=null))this.adjust(!0),this.updateNestedObjects(!0);this._viewRestore()};this.obj.adjust=function(a){if(this.skin=="dhx_skyblue"){if(this.vs[this.av].menu){if(this._isWindow||this._isLayout)this.vs[this.av].menu._topLevelOffsetLeft=0,document.getElementById(this.vs[this.av].menuId).style.height="26px",this.vs[this.av].menuHeight=document.getElementById(this.vs[this.av].menuId).offsetHeight,this._doOnAttachMenu&&this._doOnAttachMenu("show");
if(this._isCell)document.getElementById(this.vs[this.av].menuId).className+=" in_layoutcell",this.vs[this.av].menuHeight=25;if(this._isAcc)document.getElementById(this.vs[this.av].menuId).className+=" in_acccell",this.vs[this.av].menuHeight=25;this._doOnAttachMenu&&this._doOnAttachMenu("adjust")}this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout"),
this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell"))}this.skin=="dhx_web"&&this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=
" in_layout"),this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell"));if(this.skin=="dhx_terrace"){var b=0;if(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)b=14;this._isCell&&this._noHeader&&(b=0);var c=0;if(this._isWindow||this._isCell||this._isAcc||
this._isTabbarCell)c=14;this._isCell&&this._noHeader&&(c=0);var g=a==!0&&!this.vs[this.av].toolbar||this._isLayout?14:0,h=a==!0||this._isLayout?14:0,i=!1;if(this.vs[this.av].menu)document.getElementById(this.vs[this.av].menuId).style.marginLeft=b+"px",document.getElementById(this.vs[this.av].menuId).style.marginRight=b+"px",document.getElementById(this.vs[this.av].menuId).style.marginTop=c+"px",document.getElementById(this.vs[this.av].menuId).style.marginBottom=g+"px",this.vs[this.av].menuHeight=
32+c+g,this._doOnAttachMenu&&this._doOnAttachMenu("show"),i=!0;if(this.vs[this.av].toolbar)c==0&&this.vs[this.av].menu!=null&this._isCell&&(c=14),document.getElementById(this.vs[this.av].toolbarId).style.marginLeft=b+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginRight=b+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginTop=c+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginBottom=h+"px",this.vs[this.av].toolbarHeight=32+c+h,this._doOnAttachToolbar&&
this._doOnAttachToolbar("show"),i=!0}};this.obj._attachContent=function(a,b,c){if(c!==!0){if(this.vs[this.av]._frame)this._detachURLEvents(),this.vs[this.av]._frame=null;for(;this.vs[this.av].dhxcont.mainCont[this.av].childNodes.length>0;)this.vs[this.av].dhxcont.mainCont[this.av].removeChild(this.vs[this.av].dhxcont.mainCont[this.av].childNodes[0])}if(a=="url"){if(this._isWindow&&b.cmp==null&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw();
var g=document.createElement("IFRAME");g.frameBorder=0;g.border=0;g.style.width="100%";g.style.height="100%";g.setAttribute("src","javascript:false;");this.vs[this.av].dhxcont.mainCont[this.av].appendChild(g);g.src=b;this.vs[this.av]._frame=g;this._attachURLEvents()}else if(a=="urlajax"){if(this._isWindow&&b.cmp==null&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw();
var h=this,i=String(this.av).valueOf(),l=function(){var a=h.av;h.av=i;h.attachHTMLString(this.xmlDoc.responseText,this);h.av=a;h._doOnFrameContentLoaded&&h._doOnFrameContentLoaded();this.destructor()},n=new dtmlXMLLoaderObject(l,window);n.dhxWindowObject=this;n.loadXML(b)}else if(a=="obj"){if(this._isWindow&&b.cmp==null&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw();
this.vs[this.av].dhxcont._frame=null;this.vs[this.av].dhxcont.mainCont[this.av].appendChild(b);this.vs[this.av].dhxcont.mainCont[this.av].style.overflow=c===!0?"auto":"hidden";b.style.display=""}else if(a=="str"){if(this._isWindow&&b.cmp==null&&this.skin=="dhx_skyblue")this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw();this.vs[this.av].dhxcont._frame=null;this.vs[this.av].dhxcont.mainCont[this.av].innerHTML=
b}};this.obj._attachURLEvents=function(){var a=this,b=this.vs[this.av]._frame;_isIE?b.onreadystatechange=function(){if(b.readyState=="complete"){try{b.contentWindow.document.body.onmousedown=function(){a._doOnFrameMouseDown&&a._doOnFrameMouseDown()}}catch(c){}try{a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(g){}}}:b.onload=function(){try{b.contentWindow.onmousedown=function(){a._doOnFrameMouseDown&&a._doOnFrameMouseDown()}}catch(c){}try{a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(g){}}};
this.obj._detachURLEvents=function(){if(_isIE)try{this.vs[this.av]._frame.onreadystatechange=null,this.vs[this.av]._frame.contentWindow.document.body.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(a){}else try{this.vs[this.av]._frame.contentWindow.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(b){}};this.obj.showMenu=function(){if(this.vs[this.av].menu&&this.vs[this.av].menuId&&document.getElementById(this.vs[this.av].menuId).style.display=="none")this.vs[this.av].menuHidden=
!1,this._doOnAttachMenu&&this._doOnAttachMenu("show"),document.getElementById(this.vs[this.av].menuId).style.display="",this._viewRestore()};this.obj.hideMenu=function(){if(this.vs[this.av].menu&&this.vs[this.av].menuId&&document.getElementById(this.vs[this.av].menuId).style.display!="none")document.getElementById(this.vs[this.av].menuId).style.display="none",this.vs[this.av].menuHidden=!0,this._doOnAttachMenu&&this._doOnAttachMenu("hide"),this._viewRestore()};this.obj.showToolbar=function(){if(this.vs[this.av].toolbar&&
this.vs[this.av].toolbarId&&document.getElementById(this.vs[this.av].toolbarId).style.display=="none")this.vs[this.av].toolbarHidden=!1,this._doOnAttachToolbar&&this._doOnAttachToolbar("show"),document.getElementById(this.vs[this.av].toolbarId).style.display="",this._viewRestore()};this.obj.hideToolbar=function(){if(this.vs[this.av].toolbar&&this.vs[this.av].toolbarId&&document.getElementById(this.vs[this.av].toolbarId).style.display!="none")this.vs[this.av].toolbarHidden=!0,document.getElementById(this.vs[this.av].toolbarId).style.display=
"none",this._doOnAttachToolbar&&this._doOnAttachToolbar("hide"),this._viewRestore()};this.obj.showStatusBar=function(){if(this.vs[this.av].sb&&this.vs[this.av].sbId&&document.getElementById(this.vs[this.av].sbId).style.display=="none")this.vs[this.av].sbHidden=!1,this._doOnAttachStatusBar&&this._doOnAttachStatusBar("show"),document.getElementById(this.vs[this.av].sbId).style.display="",this._viewRestore()};this.obj.hideStatusBar=function(){if(this.vs[this.av].sb&&this.vs[this.av].sbId&&document.getElementById(this.vs[this.av].sbId).style.display!=
"none")this.vs[this.av].sbHidden=!0,document.getElementById(this.vs[this.av].sbId).style.display="none",this._doOnAttachStatusBar&&this._doOnAttachStatusBar("hide"),this._viewRestore()};this.obj._dhxContDestruct=function(){var a=this.av,b;for(b in this.vs)this.av=b,this.detachMenu(),this.detachToolbar(),this.detachStatusBar(),this.detachObject(!0),this.vs[b].dhxcont.mainCont[b]=null;for(b in this.vs)this.vs[b].dhxcont.mainCont=null,this.vs[b].dhxcont.innerHTML="",this.vs[b].dhxcont=null,this.vs[b]=
null;this.setActive=this.getView=this.getFrame=this._getSt=this._dhxContDestruct=this._genStr=this._init=this._setPadding=this._viewRestore=this._detachURLEvents=this._attachURLEvents=this._attachContent=this.updateNestedObjects=this.hideCoverBlocker=this.showCoverBlocker=this.coverBlocker=this.adjustContent=this.moveContentTo=this.setMinContentSize=this.adjust=this.show=this.view=this.attachMap=this.attachURL=this.attachHTMLString=this.appendObject=this.detachObject=this.attachObject=this.attachEditor=
this.attachLayout=this.attachAccordion=this.attachFolders=this.attachTabbar=this.attachTree=this.attachScheduler=this.attachGrid=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.vs=null;c.st.innerHTML="";c.st.parentNode.removeChild(c.st);c.st=null;c.setContent=null;c.dhxcont=null;c=c.obj=null;if(dhtmlx.detaches)for(b in dhtmlx.detaches)dhtmlx.detaches[b](this)};
if(dhtmlx.attaches)for(var b in dhtmlx.attaches)this.obj[b]=dhtmlx.attaches[b];return this}
function dhtmlXTabBar(a,c,b){c=c||"top";dhtmlxEventable(this);this._hrefs={};this._s={};this._c={};this._s.mode=c;this._s.scrolls=!0;this._custom_height=b;this._s.line_height=(parseInt(b)||20)+3;this._s.skin_line=1;this._s.tab_margin=0;this._s.expand=0;this._s.ext_border=2;this._s._bMode=c=="right"||c=="bottom"?1:0;this._s._vMode=c=="right"||c=="left"?1:0;this._dx=this._s._vMode?"height":"width";this._dy=this._s._vMode?"width":"height";switch(c){case "top":this._py="top";this._px="left";this._pxc=
"right";break;case "bottom":this._py="bottom";this._px="left";this._pxc="right";break;case "right":this._py="right";this._px="top";this._pxc="bottom";break;case "left":this._py="left",this._px="top",this._pxc="bottom"}this._active=null;this._tabs={};this._content={};this._href={};this._rows=[];this._s._tabSize=150;this._styles={"default":{left:3,right:3,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},winbiscarf:{left:18,right:18,select_shift:3,select_top:2,
margin:1,offset:5},winscarf:{left:18,right:4,select_shift:3,select_top:2,margin:5,offset:5},modern:{left:5,right:5,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},silver:{left:7,right:7,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dark_blue:{left:2,right:2,select_shift:3,select_top:2,margin:1,offset:5},glassy_blue:{left:2,right:3,select_shift:3,select_top:2,margin:1,offset:5},dhx_terrace:{left:7,right:7,select_shift:0,
select_top:0,margin:-1,offset:0,tab_color:"",data_color:"#ffffff"},dhx_black:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5},dhx_blue:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dhx_skyblue:{left:3,right:3,select_shift:0,select_top:0,margin:-1,offset:5,data_color:"white",hover:!0},dhx_web:{left:3,right:3,select_shift:1,select_top:0,margin:5,offset:15,data_color:"white"}};typeof a!="object"&&(a=document.getElementById(a));this.entBox=
a;this.entBox.className+=" dhx_tabbar_zone_"+this._s.mode;dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path);this.setStyle("default");this.__skin=!1;this._createSelf();_isIE&&this.preventIECashing(!0);return this}
dhtmlXTabBar.prototype={_get_size:function(a,c){var b=this.entBox.getAttribute(a)||this.entBox.style[a]||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)[a]:this.entBox.currentStyle?this.entBox.currentStyle[a]:0);(b||"").indexOf("%")!=-1&&this.enableAutoReSize(!0,!0);if(!b||b.indexOf("%")!=-1||b=="auto")b=c+"px";return b},setStyle:function(a){this.setSkin(a)},_getSkin:function(){return this._a},setSkin:function(a){a=a.toLowerCase();this._styles[a]||(a="default");this._a=this._styles[a];
this.skin=a;if(this._tabAll)this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin;var c=a.indexOf("dhx_sky")==0,b=a.indexOf("dhx_web")==0,d=a.indexOf("dhx_terrace")==0;if(d&&!this._custom_height)this._s.line_height=37,this._setRowSizes();if(c)this._s.skin_line=0;if(b)this._s.line_height=29,this._s.ext_border=-1,this._s.expand=!0;if(c){this._s.line_height=26;this._setRowSizes();if(this._s.expand)this._s.tab_margin=-1;this._s.skin_line_x=!0;this._s.skin_line=-3;var e=this._s._rendered;
if(e)for(var f=0;f<e.length;f++)e[f].parentNode.removeChild(e[f]);var g=document.createElement("DIV");g.className="dhx_tabbar_lineA";this._tabAll.appendChild(g);var h=document.createElement("DIV");h.className="dhx_tabbar_lineB";this._tabAll.appendChild(h);var i=document.createElement("DIV");i.className="dhx_tabbar_lineC";this._tabAll.appendChild(i);var l=document.createElement("DIV");l.className="dhx_tabbar_lineD";this._tabAll.appendChild(l);this._getCoverLine();this._s._rendered=[g,h,i,l];if(this._s.expand){this._conZone.style.borderWidth=
"0px 0px 0px 0px";this._tabZone.firstChild.style.borderWidth="0px 0px 0px 0px";i.style.borderWidth="0px 0px 0px 0px";l.style.left="0px";i.style.right="0px";g.style.borderWidth="0px 0px 0px 0px";if(this._s.mode=="top")this._lineA.style.borderWidth="1px 0px 0px 0px";h.style.left="1px";this._s.ext_border=0}var n=function(){this._lineA.style[this._dx]="1px";var a=_isIE&&document.compatMode=="BackCompat",b=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(a?2:0);this._lastActive&&(b=Math.max(b,
this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]));b<6||(g.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",g.style[this._dx]=b-2+"px",h.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",h.style[this._dx]=b-(a?6:4)+(this._s.expand?2:0)+"px",i.style[this._dy]=parseInt(this._tabZone.style[this._dy])-3+"px",this._lineA.style[this._dx]=b-2+"px")};n.call(this);var o=this._checkScroll;this._checkScroll=function(){n.apply(this,arguments);o.apply(this,arguments)};
var j=this._scrollTo;this._scrollTo=function(){j.apply(this,arguments);n.apply(this,arguments)}}if(this._a.data_color&&this._conZone)this._conZone.style.backgroundColor=this._a.data_color;this.__skin=!0},enableAutoReSize:function(){var a=this;dhtmlxEvent(window,"resize",function(){window.setTimeout(function(){a&&a._setSizes&&a._setSizes()},1)})},_createSelf:function(){this._tabAll=document.createElement("DIV");this._tabZone=document.createElement("DIV");this._conZone=document.createElement("DIV");
this.entBox.appendChild(this._tabAll);this._tabAll.appendChild(this._tabZone);this._tabAll.appendChild(this._conZone);this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin;this._s._vMode&&(this._tabAll.className+="V");this._s._bMode&&(this._tabAll.className+="B");this._tabZone.className="dhx_tablist_zone";this._conZone.className="dhx_tabcontent_zone";if(this.entBox._hideBorders)this._conZone.style.borderLeft=this._conZone.style.borderRight=this._conZone.style.borderBottom="0px solid white";
if(this._a.data_color)this._conZone.style.backgroundColor=this._a.data_color;this._tabZone.onselectstart=function(){return!1};this._tabZone.onclick=this._onClickHandler;this._tabZone.onmouseover=this._onMouseOverHandler;this._tabZone[_isFF?"onmouseout":"onmouseleave"]=this._onMouseOutHandler;this._tabZone.tabbar=this;this._createRow()},_createRow:function(){var a=document.createElement("DIV");a.className="dhx_tabbar_row";a.tabCount=0;this._tabZone.appendChild(a);this._rows[this._rows.length]=a;this._setRowSizes()},
_removeRow:function(a){a.parentNode.removeChild(a);for(var c=[],b=0;b<this._rows.length;b++)this._rows[b]!=a&&(c[c.length]=this._rows[b]);this._rows=c},_setSizes:function(a,c){var b=["clientHeight","clientWidth"];this._dx!="width"&&b.reverse();var d=_isIE&&document.compatMode=="BackCompat",e=this._conZone.offsetWidth-this._conZone.clientWidth,f=c||this.entBox[b[0]]+(d?e:0),d=a||this.entBox[b[1]]+(d?e:0),g=this._rows.length*(this._s.line_height-(this._s.skin_line_x?4:2))+(this._s.skin_line_x?2:0);
this._tabZone.style[this._dy]=g+"px";this._conZone.style[this._dy]=Math.max(0,f-this._s.ext_border-g-(this._s.skin_line_x?3:0)-this._s.tab_margin)+"px";this._conZone.style[this._dx]=Math.max(0,d-(this._s.expand?0:2))+"px";this._tabZone.style[this._py]=this._s.tab_margin+"px";this._conZone.style[this._py]=g+this._s.tab_margin-this._s.skin_line+"px";this._checkScroll();var h=this.getActiveTab();h&&this.cells(h).activate()},_checkScroll:function(){if(this._lineA){this._lineA.style[this._dx]="1px";var a=
_isIE&&document.compatMode=="BackCompat",c=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(a?2:0);this._lastActive&&(c=Math.max(c,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]));c>2&&(this._lineA.style[this._dx]=c-2+"px")}if(!this._s._vMode&&this._s.scrolls)for(var b=0;b<this._rows.length;b++)this._rows[b].scrollWidth-this._rows[b].offsetWidth>2?this._showScroll(b):this._hideScroll(b)},_showScroll:function(a){if(!this._rows[a]._scroll){this.callEvent("onBeforeShowScroll",
[a]);var c=this._rows[a]._scroll=[],b=Math.max(0,this._s.line_height-23);c[0]=document.createElement("DIV");c[0].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_left.gif); width:20px; height:21px;position:absolute;left:0px;z-index:990;top:"+b+"px;";c[0].className="dhx_tab_scroll_left";this._rows[a].appendChild(c[0]);c[1]=document.createElement("DIV");c[1].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_right.gif); width:20px; height:21px;position:absolute;right:0px;z-index:990;top:"+
b+"px;";c[1].className="dhx_tab_scroll_right";this._rows[a].appendChild(c[1])}},_hideScroll:function(a){this._rows[a]._scroll&&this.callEvent("onBeforeHideScroll",[a]);if(this._rows[a]._scroll)this._rows[a].removeChild(this._rows[a]._scroll[0]),this._rows[a].removeChild(this._rows[a]._scroll[1]),this._rows[a]._scroll=null},_setRowSizes:function(){for(var a=0;a<this._rows.length;a++)this._rows[a].style[this._dy]=this._s.line_height+"px",this._rows[a].style[this._py]=a*(this._s.line_height-(this._s.skin_line_x?
4:2))-(_isIE&&!window.postMessage&&this._s._bMode?0:0)+"px",this._rows[a].style.zIndex=10+a;this._setSizes()},_setTabSizes:function(a){for(var c=this._a.offset,b=this._s.align?this._pxc:this._px,d=0;d<a.tabCount;d++){var e=a.childNodes[d];e.style.display!="none"&&(e.style[b]=c-(this._lastActive==e?this._a.select_shift:0)+"px",c+=e._size+this._a.margin)}},addTab:function(a,c,b,d,e){!this.__skin&&dhtmlx.skin&&this.setSkin(dhtmlx.skin);for(var e=e||0,f=this._rows.length;f<=e;f++)this._createRow();var g=
this._rows[e].tabCount;!d&&d!==0&&(d=g);var h=this._createTab(a,c,b=="*"?10:b||this._s._tabSize);this._addTab(this._rows[e],h,b,d);this._tabs[a]=h;this.cells(a).hide();this._checkScroll()},getIndex:function(a){var c=this._tabs[a];if(c)for(var b=c.parentNode,d=0;d<b.childNodes.length;d++)if(b.childNodes[d]==c)return d;return-1},moveTab:function(a,c){var b=this._tabs[a];if(b){var d=this.getIndex(a),e=b.parentNode,c=Math.min(c,e.tabCount-1);d!=c&&(d<c&&c++,b.parentNode.childNodes[c]?b.parentNode.insertBefore(b,
b.parentNode.childNodes[c]):b.parentNode.appendChild(b),this._setTabSizes(b.parentNode))}},removeTab:function(a,c){var b=this._tabs[a];if(b){this.cells(a)._dhxContDestruct();this._content[a]&&this._content[a].parentNode&&this._content[a].parentNode.removeChild(this._content[a]);this._content[a]=null;this._goToAny(b,c);var d=b.parentNode;b.innerHTML="";d.removeChild(b);d.tabCount--;d.tabCount==0&&this._rows.length>1?this._removeRow(d):this._setTabSizes(d);delete this._tabs[a];if(this._lastActive==
b)this._lastActive=null;this._setRowSizes()}},_goToAny:function(a,c){if(this._lastActive==a&&(c&&this.goToNextTab()==a&&this.goToPrevTab(),this._lastActive==a))this._lastActive=null},_createTab:function(a,c,b){var d=document.createElement("DIV");d.className="dhx_tab_element dhx_tab_element_inactive";var e="<span>"+c+"</span><div></div><div></div><div></div>";this._close&&(e+="<IMG style='"+this._pxc+":4px; "+this._py+(this.skin=="dhx_web"?":7":":4")+"px; position:absolute;z-index:11;' src='"+this.imgUrl+
this.skin+"/close.png' >");d.innerHTML=e;d.setAttribute("tab_id",a);d._size=parseInt(b);d.style[this._dx]=parseInt(b)+"px";d.style[this._dy]=this._s.line_height+"px";d.style[this._py]=this._a.select_top+"px";d.skin=this.skin;if(this._a.tab_color)d.style.backgroundColor=this._a.tab_color;if(this._c[a])d.childNodes[0].style.cssText=this._c[a].color;this._img_all(d);if(this._close){var f=this;d.childNodes[4].onclick=function(a){var b=this.parentNode.getAttribute("tab_id");f.callEvent("onTabClose",[b])&&
f.removeTab(b,!0);(a||event).cancelBubble=!0}}return d},_img_all:function(a){var c=this._getSkin(a),b=a._active?1:4;this._img(a.childNodes[1],b,this._px,c.left);this._img(a.childNodes[2],b+2,this._pxc,c.right);this._img(a.childNodes[3],b+1,this._px,parseInt(a.style[this._dx])-(c.left+c.right),c.left)},_get_img_pos:function(a){this._s._bMode&&a<7&&(a=Math.abs(a-6));a=-5-a*(this._s._vMode==1&&this.skin=="dhx_terrace"?245:45);return this._s._vMode?a+"px 0px":"0px "+a+"px"},_img:function(a,c,b,d,e){if(typeof a!=
"undefined"){a.style.backgroundImage="url("+this.imgUrl+this.skin+"/"+this.skin+"_"+this._s.mode+".gif)";a.style.backgroundPosition=this._get_img_pos(c);if(this._s._vMode==1&&this.skin=="dhx_terrace")a.style.width="240px";a.style[this._py]="0px";b&&(a.style[this._dx]=Math.max(d,0)+"px",a.style[b]=(e||0)+"px")}},_addTab:function(a,c,b,d){var e=this._a.offset;if(a.tabCount)var f=a.childNodes[a.tabCount-1],e=parseInt(f.style[this._s.align?this._pxc:this._px])+parseInt(f._size)+this._a.margin;var g=a.childNodes[d];
g?a.insertBefore(c,g):a.appendChild(c);a.tabCount++;if(b=="*")c.style.whiteSpace="nowrap",this.adjustTabSize(c);c.style[this._s.align?this._pxc:this._px]=e+"px";d!=a.tabCount-1&&this._setTabSizes(a)},adjustTabSize:function(a,c){var b=this._getSkin(b);if(!c)a.style.fontWeight="bold",a.childNodes[3].style[this._dx]=a.style[this._dx]="10px",c=a[this._s._vMode?"scrollHeight":"scrollWidth"]+10+(this._close?20:0),a.style.fontWeight="";a.style[this._dx]=c+"px";a._size=c;this._img_all(a)},_onMouseOverHandler:function(a){var c=
this.tabbar._getTabTarget(a?a.target:event.srcElement);this.tabbar._showHover(c)},_onMouseOutHandler:function(){this.tabbar._showHover()},_showHover:function(a){if(a!=this._lastHower){if(this._lastHower&&this._lastHower!=this._lastActive){var c=this._getSkin(this._lastHower);this._lastHower.className=this._lastHower.className.replace(/[ ]*dhx_tab_hover/gi,"");c.hover?this._img_all(this._lastHower):this._img(this._lastHower.childNodes[3],5,this._px,parseInt(this._lastHower.style[this._dx])-(c.left+
c.right),c.left);this._lastHower=null}if(!a||!(a==this._lastActive||a._disabled))if(this._lastHower=a)c=this._getSkin(a),a.className+=" dhx_tab_hover",c.hover&&(this._img(a.childNodes[1],7,this._px,c.left),this._img(a.childNodes[2],8,this._pxc,c.right)),this._img(a.childNodes[3],0,this._px,parseInt(a.style[this._dx])-(c.left+c.right),c.left)}},_getTabTarget:function(a){if(!a)return null;for(;!a.className||a.className.indexOf("dhx_tab_element")==-1;){if(a.className&&a.className.indexOf("dhx_tabbar_zone")!=
-1)return null;a=a.parentNode;if(!a)return null}return a},_onClickHandler:function(a){var c=a?a.target:event.srcElement,b=this.tabbar._getTabTarget(c);if(b&&!b._disabled)this.tabbar._setTabActive(b);else{var d=null;if(c.className=="dhx_tab_scroll_left")c.parentNode.scrollLeft=Math.max(0,c.parentNode.scrollLeft-c.parentNode.offsetWidth/2),d=c,this.tabbar._setTabTop(this.tabbar._lastActive);else if(c.className=="dhx_tab_scroll_right")c.parentNode.scrollLeft+=c.parentNode.offsetWidth/2,d=c.previousSibling,
this.tabbar._setTabTop(this.tabbar._lastActive);if(d&&d.parentNode&&d.parentNode.tagName){d.style.left=d.parentNode.scrollLeft+"px";if(!_isIE||window.XMLHttpRequest)d.nextSibling.style.right=d.parentNode.scrollLeft*-1+"px";return!1}}},_deactivateTab:function(){this._setTabInActive(this._lastActive);this._lastActive=null},_setTabInActive:function(a){if(!a||a!=this._lastActive)return!0;var c=this._getSkin(a),b=a.getAttribute("tab_id"),d=this._s.align?this._pxc:this._px;a.className=a.className.replace("_active",
"_inactive");a.style[this._py]=c.select_top+"px";a.style[d]=parseInt(a.style[d])+c.select_shift+"px";a.style[this._dx]=a._size+"px";a._active=!1;if(c.tab_color)a.style.backgroundColor=c.tab_color;if(this._c[b])a.childNodes[0].style.cssText=this._c[b].color;this._img_all(a);this.cells(b).hide()},_setTabActive:function(a,c){if(!a)return!0;var b=a.getAttribute("tab_id"),d=this._lastActive?this._lastActive.getAttribute("tab_id"):null,e=this._getSkin(a);c||this.callEvent("onTabClick",[b,d]);if(a==this._lastActive)return!0;
if(c||this.callEvent("onSelect",[b,d])){var f=this._s.align?this._pxc:this._px;this._setTabInActive(this._lastActive);a.className=a.className.replace("_inactive","_active");a.style[this._py]="0px";a.style[f]=parseInt(a.style[f])-e.select_shift+"px";a.style[this._dx]=a._size+e.select_shift*2+"px";a._active=!0;if(e.data_color)a.style.backgroundColor=e.data_color;if(this._c[b])a.childNodes[0].style.cssText=this._c[b].scolor;this._img_all(a);this._setTabTop(a);this._lastActive=a;this.cells(b).show();
this._scrollTo(a);return!0}},_scrollTo:function(a){if(this._s.scrolls&&(a.offsetLeft<a.parentNode.scrollLeft||a.offsetLeft+a.offsetWidth>a.parentNode.scrollLeft+a.parentNode.offsetWidth)){a.parentNode.scrollLeft=a.offsetLeft;var c=a.parentNode._scroll;if(c&&c[0]&&(c[0].style.left=c[0].parentNode.scrollLeft+"px",!_isIE||window.XMLHttpRequest))c[1].style.right=c[1].parentNode.scrollLeft*-1+"px"}},_setTabTop:function(a){if(!a)return!1;for(var c=this._rows.length-1,b=0;b<this._rows.length;b++)if(this._rows[b]==
a.parentNode){var d=this._rows[b];b!=c&&(this._rows[b]=this._rows[c],this._rows[c]=d);var e=this._getCoverLine();d.appendChild(e);e.style[this._dx]="1px";var f=this._s._vMode?Math.max(this._tabZone.offsetHeight,d.scrollHeight):Math.max(this._tabZone.offsetWidth,d.scrollWidth);f>0&&(e.style[this._dx]=f+"px");a.style.zIndex=e._index++;break}this._setRowSizes()},_getCoverLine:function(){if(!this._lineA)this._lineA=document.createElement("div"),this._lineA.className="dhx_tablist_line",this._lineA.style[this._py]=
this._s.line_height-3-(this._s.skin_line_x?1:0)+"px",this._lineA.style[this._dx]="100%",this._lineA._index=1;this._lineA.style.zIndex=this._lineA._index++;return this._lineA},cells:function(a){if(!this._tabs[a])return null;if(!this._content[a]){var c=document.createElement("DIV");c.style.cssText="width:100%;height:100%;visibility:hidden;overflow:hidden;position:absolute;top:0px; left:0px;";c.setAttribute("tab_id",a);c.skin=this.skin;this._conZone.appendChild(c);(new dhtmlXContainer(c)).setContent(c);
this.skin=="dhx_web"&&c._setPadding&&c._setPadding(1,"dhxcont_tabbar_dhx_web");c._isTabbarCell=!0;this._content[a]=c;var b=this;c.show=function(){if(b._s.hide)this.style.display="";this.style.visibility="";this.style.zIndex="1";this.autoSize();this._activate()};c.hide=function(){b._s.hide?(this.style.visibility="",this.style.display="none"):this.style.visibility="hidden";this.style.zIndex=-1;b._hrfmode=="iframe"&&this.attachURL("javascript:false")};c.autoSize=function(){if(b._awdj||b._ahdj){var a=
this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;if(!a.offsetWidth)a.style.width=Math.max(0,b.entBox.offsetWidth-2)+"px";if(b._ahdj)a.style.height="1px";var c=this._getContentDim();if(b._awdj)b.entBox.style.width=c[0]+2+"px",a.style.width=c[0]+"px";if(b._ahdj)b._tabAll.style.height=b.entBox.style.height=c[1]+b._rows.length*(b._s.line_height-2)+(b._s.expand?0:2)+2+"px",a.style.height=c[1]+"px";b._setSizes();b._setTabTop(b._lastActive)}};c._activate=function(){this._delay&&this._attachContent.apply(this,
this._delay);this.activate();if(b._hrfmode!="iframe")this._delay=null};c._doOnResize=function(){this.activate()};c.activate=function(){this.adjustContent(this.parentNode,0,0,!1,0);c.updateNestedObjects()};c._doOnAttachStatusBar=c.activate;c._doOnAttachMenu=c.activate;c._doOnAttachToolbar=c.activate;c._getContentDim=function(){var a=this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;return[a.scrollWidth,a.scrollHeight]};c._doOnFrameContentLoaded=function(){(b._awdj||b._ahdj)&&b.cells(a).autoSize();
b.callEvent("onXLE",[]);b.callEvent("onTabContentLoaded",[this.getAttribute("tab_id")])};c._doOnBeforeAttachURL=function(){b.callEvent("onXLS",[])};c.adjustContent(c.parentNode,0,0,!1,0)}return this._content[a]},forceLoad:function(a,c){this.setContentHref(a,c||this._hrefs[a]);this.cells(a)._activate()},enableAutoSize:function(a,c){this._ahdj=convertStringToBoolean(c);this._awdj=convertStringToBoolean(a)},clearAll:function(){for(var a in this._tabs)this.removeTab(a,!1);if(this._lineA){var c=this._getCoverLine();
c.parentNode&&c.parentNode.removeChild(c)}},enableTabCloseButton:function(a){this._close=convertStringToBoolean(a)},preventIECashing:function(a){this.no_cashe=convertStringToBoolean(a);if(this.XMLLoader)this.XMLLoader.rSeed=this.no_cashe},setTabActive:function(a,c){this._setTabActive(this._tabs[a],c===!1)},setTabInActive:function(){var a=this._lastActive;a&&(this._deactivateTab(),this._setTabTop(a),this._getCoverLine())},loadXMLString:function(a,c){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,
this,!0,this.no_cashe);this.XMLLoader.waitCall=c||0;this.XMLLoader.loadXMLString(a)},loadXML:function(a,c){this.callEvent("onXLS",[]);this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,!0,this.no_cashe);this.XMLLoader.waitCall=c||0;this.XMLLoader.loadXML(a)},_parseXML:function(a,c,b,d,e){a.clearAll();var f="";if(!e)e=a.XMLLoader;var g=e.getXMLTopNode("tabbar"),h=e.doXPath("//row",g),i=g.getAttribute("tabstyle");i&&a.setStyle(i);a._hrfmode=g.getAttribute("hrefmode")||a._hrfmode;a._a.margin=
parseInt(g.getAttribute("margin")||a._a.margin,10);if(i=g.getAttribute("align"))a._s.align=i=="right"||i=="bottom";a._a.offset=parseInt(g.getAttribute("offset")||a._a.offset,10);(i=g.getAttribute("skinColors"))&&a.setSkinColors(i.split(",")[0],i.split(",")[1]);for(var l=0;l<h.length;l++)for(var n=e.doXPath("./tab",h[l]),o=0;o<n.length;o++){var j=n[o].getAttribute("width"),k=a._getXMLContent(n[o]),m=n[o].getAttribute("id");a.addTab(m,k,j,"",l);n[o].getAttribute("selected")&&(f=m);if(a._hrfmode)a.setContentHref(m,
n[o].getAttribute("href"));else for(var p=0;p<n[o].childNodes.length;p++){var s=n[o].childNodes[p];s.tagName=="content"&&(s.getAttribute("id")?a.setContent(m,s.getAttribute("id")):a.setContentHTML(m,a._getXMLContent(s)))}}f&&a.setTabActive(f);a.callEvent("onXLE",[])},adjustOuterSize:function(){this._setSizes()},_getXMLContent:function(a){for(var c="",b=0;b<a.childNodes.length;b++){var d=a.childNodes[b];c+=d.nodeValue===null?"":d.nodeValue}return c},enableContentZone:function(a){this._conZone.style.display=
convertStringToBoolean(a)?"":"none";this._setSizes()},enableForceHiding:function(a){this._s.hide=convertStringToBoolean(a)},setSize:function(a,c){this.entBox.style.width=a+"px";this.entBox.style.height=c+"px";this._setSizes()},setSkinColors:function(a,c,b){if(a)this._a.data_color=a;if(c)this._a.tab_color=c;var d=document.createElement("style");d.setAttribute("type","text/css");d.setAttribute("media","screen");document.getElementsByTagName("head")[0].appendChild(d);var e=document.styleSheets[document.styleSheets.length-
1];e.addRule?e.addRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div","background-color: "+(b||a)+";",0):e.insertRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div{ background-color: "+(b||a)+";}",0);this._conZone.style.backgroundColor=b||a},setCustomStyle:function(a,c,b,d){var e="";this._c[a]={color:";"+(c?"color:"+c+";":"")+(d||""),scolor:";"+(b?"color:"+b+";":"")+(d||"")};if(this._tabs[a])this._tabs[a].childNodes[0].style.cssText=this._tabs[a]==this._lastActive?this._c[a].scolor:this._c[a].color},
setImagePath:function(a){this.imgUrl=a},getNext:function(a,c){var c=c||"nextSibling",b=a[c];b&&b.className.indexOf("dhx_tab_element")==-1&&(b=null);!b&&a.parentNode[c]&&(b=a.parentNode[c].childNodes[0]);return b||a},getAllTabs:function(){var a=[],c;for(c in this._tabs)a.push(c);return a},goToNextTab:function(a){do a=this.getNext(a||this._lastActive);while(!this._setTabActive(a));return a},goToPrevTab:function(a){do a=this.getNext(a||this._lastActive,"previousSibling");while(!this._setTabActive(a));
return a},disableTab:function(a){this._tabs[a]._disabled=!0;this._tabs[a].className+=" dhx_tab_element_disabled";this._tabs[a].style.color="silver"},enableTab:function(a){this._tabs[a]._disabled=!1;if(this._tabs[a].className)this._tabs[a].className=this._tabs[a].className.replace(/dhx_tab_element_disabled/g,"");this._tabs[a].style.color=""},showTab:function(a){var c=this._tabs[a];c.style.display="";this._setTabSizes(c.parentNode)},hideTab:function(a,c){var b=this._tabs[a];b.style.display="none";b==
this._lastActive&&c!==!1&&this.goToNextTab();this._setTabSizes(b.parentNode)},getActiveTab:function(){return!this._lastActive?null:this._lastActive.getAttribute("tab_id")},setLabel:function(a,c,b){var d=this.getActiveTab();this._tabs[a].firstChild.innerHTML=c;this.adjustTabSize(this._tabs[a],b);this._setTabSizes(this._tabs[a].parentNode);this._checkScroll()},getLabel:function(a){return this._tabs[a].firstChild.innerHTML},setOffset:function(a){this._a.offset=a*1},enableScroll:function(a){this._s.scrolls=
convertStringToBoolean(a)},setMargin:function(a){this._a.margin=a*1},setAlign:function(a){this._s.align=a=="bottom"||a=="right"},tabWindow:function(a){return this._content[a]?this._content[a]._frame.contentWindow:null},setContentHTML:function(a,c){this.cells(a).attachHTMLString(c)},setContent:function(a,c){this.cells(a).attachObject(c);this.cells(a).activate()},setHrefMode:function(a){this._hrfmode=a},setContentHref:function(a,c){this._hrefs[a]=c;switch(this._hrfmode){case "iframes":this.cells(a).attachURL(c);
break;case "iframe":case "iframes-on-demand":this.cells(a)._delay=["url",c,!1];break;case "ajax":var b=this.cells(a),d=this;b._delay=["urlajax",c,!0];if(!b.attachHTMLStringA)b.attachHTMLStringA=b.attachHTMLString,b.attachHTMLString=function(a,b){b&&(a=d._getXMLContent(b.doXPath("//content")[0]));return this.attachHTMLStringA(a)};break;case "ajax-html":this.cells(a)._delay=["urlajax",c,!0]}this._tabs[a]==this._lastActive&&this.cells(a).show(!0)},normalize:function(a,c){function b(a,b){d[b]._size+=
l!=Infinity?l-i:0;a.adjustTabSize(d[b],d[b]._size)}for(var a=a||this._tabZone.offsetWidth,d=[],e=0;e<this._rows.length;e++)for(var f=0;f<this._rows[e].tabCount;f++)d.push(this._rows[e].removeChild(this._rows[e].childNodes[0]));this._tabZone.innerHTML="";this._rows=[];var g=this._lastActive;this._lastActive=null;this._createRow();for(var h=0,i=this._a.offset,l=Infinity,n=null,f=0;f<d.length;f++)i+d[f]._size+this._a.margin<a?(this._rows[h].appendChild(d[f]),this._rows[h].tabCount++,i+=d[f]._size+this._a.margin):
(c&&i<l&&b(this,f-1),this._createRow(),f--,h++,l=i,i=this._a.offset);c&&i<l&&l!=Infinity&&b(this,f-1);for(e=0;e<this._rows.length;e++)this._setTabSizes(this._rows[e]);this._setSizes();(this._lastActive=g)&&this._setTabTop(this._lastActive)},showInnerScroll:function(){for(var a in this._tabs){var c=dhtmlx.$customScroll;if(this.cells(a).vs){var b=this.cells(a).av;c?dhtmlx.CustomScroll.enable(this.cells(a).vs[b].dhxcont.mainCont[b]):this.cells(a).vs[b].dhxcont.mainCont[b].style.overflow="auto"}else c?
dhtmlx.CustomScroll.enable(this.cells(a).dhxcont.mainCont):this.cells(a).dhxcont.mainCont.style.overflow="auto"}},getNumberOfTabs:function(){for(var a=0,c=0;c<this._rows.length;c++)a+=this._rows[c].tabCount;return a},destructor:function(){}};
if(!window.dhtmlXContainer)window.dhtmlXContainer=function(a){var c=this;this.obj=a;this.dhxcont=null;this.setContent=function(a){this.dhxcont=a;this.dhxcont.innerHTML="<div id='dhxMainCont' class='dhxcont_main_content'></div><div id='dhxContBlocker' class='dhxcont_content_blocker' style='display: none;'></div>";this.dhxcont.mainCont=this.dhxcont.childNodes[0];this.obj.dhxcont=this.dhxcont};this.obj._genStr=function(a){for(var c="",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
f=0;f<a;f++)c+=e.charAt(Math.round(Math.random()*e.length));return c};this.obj.setMinContentSize=function(a,c){this._minDataSizeW=a;this._minDataSizeH=c};this.obj.moveContentTo=function(a){a.updateNestedObjects()};this.obj.adjustContent=function(a,c,e,f,g){this.dhxcont.style.top=c+"px";this.dhxcont.style.left="0px";if(f!=!0)this.dhxcont.style.width=a.clientWidth+"px";var h=a.clientHeight-c;h<0&&(h=0);this.dhxcont.style.height=h+(e!=null?e:0)+"px";if(f!=!0&&this.dhxcont.offsetWidth>a.clientWidth)this.dhxcont.style.width=
Math.max(0,a.clientWidth*2-this.dhxcont.offsetWidth)+"px";if(this.dhxcont.offsetHeight>a.clientHeight-c)h=(a.clientHeight-c)*2-this.dhxcont.offsetHeight,h<0&&(h=0),this.dhxcont.style.height=h+"px";if(g&&!isNaN(g))this.dhxcont.style.height=parseInt(this.dhxcont.style.height)-g+"px";if(this._minDataSizeH!=null&&parseInt(this.dhxcont.style.height)<this._minDataSizeH)this.dhxcont.style.height=this._minDataSizeH+"px";if(this._minDataSizeW!=null&&parseInt(this.dhxcont.style.width)<this._minDataSizeW)this.dhxcont.style.width=
this._minDataSizeW+"px";if(f!=!0)this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px";var i=this.menu!=null?!this.menuHidden?this.menuHeight:0:0,l=this.toolbar!=null?!this.toolbarHidden?this.toolbarHeight:0:0,n=this.sb!=null?!this.sbHidden?this.sbHeight:0:0;this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight-i-l-n+"px"};this.obj.updateNestedObjects=function(){};this.obj.attachObject=function(a,c){typeof a=="string"&&(a=document.getElementById(a));if(c){a.style.visibility="hidden";
a.style.display="";var e=a.offsetWidth,f=a.offsetHeight}this._attachContent("obj",a);if(c&&this._isWindow)a.style.visibility="",this._adjustToContent(e,f)};this.obj.appendObject=function(a){typeof a=="string"&&(a=document.getElementById(a));this._attachContent("obj",a,!0)};this.obj.attachHTMLString=function(a){this._attachContent("str",a);for(var c=a.match(/<script[^>]*>[^\f]*?<\/script>/g)||[],e=0;e<c.length;e++){var f=c[e].replace(/<([\/]{0,1})script[^>]*>/g,"");if(window.execScript){var g=c[e].match(/<script[^>]*src\s*=\s*("|')([^"']+)("|')/);
if(g)f=dhtmlxAjax.getSync(g[2]).xmlDoc.responseText;f&&window.execScript(f)}else window.eval(f)}};this.obj.attachURL=function(a,c){this._attachContent(c==!0?"urlajax":"url",a,!1)};this.obj._attachContent=function(a,d,e){if(e!==!0)for(;c.dhxcont.mainCont.childNodes.length>0;)c.dhxcont.mainCont.removeChild(c.dhxcont.mainCont.childNodes[0]);if(a=="url"){var f=document.createElement("IFRAME");f.frameBorder=0;f.border=0;f.style.width="100%";f.style.height="100%";c.dhxcont.mainCont.appendChild(f);f.src=
d;this._frame=f;this._doOnFrameContentLoaded&&this._doOnFrameContentLoaded(!0)}else if(a=="urlajax"){var g=this,h=function(){g.attachHTMLString(this.xmlDoc.responseText,this);g._doOnFrameContentLoaded&&g._doOnFrameContentLoaded(!1);this.destructor()},i=new dtmlXMLLoaderObject(h,window);i.loadXML(d);g._doOnBeforeAttachURL&&g._doOnBeforeAttachURL(!1)}else if(a=="obj")c.dhxcont._frame=null,c.dhxcont.mainCont.appendChild(d),c.dhxcont.mainCont.style.overflow=e===!0?"auto":"hidden",d.style.display="";else if(a==
"str")c.dhxcont._frame=null,c.dhxcont.mainCont.innerHTML=d};this.obj._dhxContDestruct=function(){}};
(function(){dhtmlx.extend_api("dhtmlXTabBar",{_init:function(a){return[a.parent,a.mode,a.height]},tabs:"tabs",skin:"setSkin",offset:"setOffset",margin:"setMargin",image_path:"setImagePath",href_mode:"setHrefMode",align:"setAlign",xml:"loadXML",close_button:"enableTabCloseButton",scroll:"enableScroll",forced:"enableForceHiding",content_zone:"enableContentZone",size_by_content:"enableAutoSize",auto_size:"enableAutoReSize"},{tabs:function(a){for(var c=0;c<a.length;c++){var b=a[c];this.addTab(b.id,b.label,
b.width,b.index,b.row);b.active&&this.setTabActive(b.id)}}})})();
function dhx_init_tabbars(){for(var a=document.getElementsByTagName("div"),c=0;c<a.length;c++)if(a[c].className.indexOf("dhtmlxTabBar")!=-1){var b=a[c],d=b.id;b.className="";for(var e=[],f=0;f<b.childNodes.length;f++)b.childNodes[f].tagName&&b.childNodes[f].tagName!="!"&&(e[e.length]=b.childNodes[f]);var g=new dhtmlXTabBar(d,b.getAttribute("mode")||"top",b.getAttribute("tabheight")||20);window[d]=g;(h=b.getAttribute("onbeforeinit"))&&eval(h);b.getAttribute("enableForceHiding")&&g.enableForceHiding(!0);
g.setImagePath(b.getAttribute("imgpath"));var h=b.getAttribute("margin");if(h!=null)g._margin=h;if(h=b.getAttribute("align"))g._align=h;(h=b.getAttribute("hrefmode"))&&g.setHrefMode(h);h=b.getAttribute("offset");if(h!=null)g._offset=h;h=b.getAttribute("tabstyle");h!=null&&g.setStyle(h);var h=b.getAttribute("select"),i=b.getAttribute("skinColors");i&&g.setSkinColors(i.split(",")[0],i.split(",")[1]);for(f=0;f<e.length;f++){var l=e[f];l.parentNode.removeChild(l);g.addTab(l.id,l.getAttribute("name"),
l.getAttribute("width"),null,l.getAttribute("row"));var n=l.getAttribute("href");n?g.setContentHref(l.id,n):g.setContent(l.id,l);if(!g._dspN&&l.style.display=="none")l.style.display=""}e.length&&g.setTabActive(h||e[0].id);(h=b.getAttribute("oninit"))&&eval(h)}}dhtmlxEvent(window,"load",dhx_init_tabbars);function dhtmlXAccordionItem(){}
function dhtmlXAccordion(a,c){if(window.dhtmlXContainer){var b=this;this.skin=c!=null?c:typeof dhtmlx!="undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:"dhx_skyblue";if(a==document.body){this._isAccFS=!0;document.body.className+=" dhxacc_fullscreened";var d=document.createElement("DIV");d.className="dhxcont_global_layout_area";a.appendChild(d);this.cont=new dhtmlXContainer(a);this.cont.setContent(d);a.adjustContent(a,0);this.base=document.createElement("DIV");this.base.className="dhx_acc_base_"+
this.skin;this.base.style.overflow="hidden";this.base.style.position="absolute";this._adjustToFullScreen=function(){this.base.style.left="2px";this.base.style.top="2px";this.base.style.width=parseInt(d.childNodes[0].style.width)-4+"px";this.base.style.height=parseInt(d.childNodes[0].style.height)-4+"px"};this._adjustToFullScreen();d.childNodes[0].appendChild(this.base);this._resizeTM=null;this._resizeTMTime=400;this._doOnResize=function(){window.clearTimeout(b._resizeTM);b._resizeTM=window.setTimeout(function(){b._adjustAccordion()},
b._resizeTMTime)};this._adjustAccordion=function(){document.body.adjustContent(document.body,0);this._adjustToFullScreen();this.setSizes()};dhtmlxEvent(window,"resize",this._doOnResize)}else this.base=typeof a=="string"?document.getElementById(a):a,this.base.className="dhx_acc_base_"+this.skin,this.base.innerHTML="";this.w=this.base.offsetWidth;this.h=this.base.offsetHeight;this.skinParams={dhx_blue:{cell_height:24,cell_space:1,content_offset:1},dhx_skyblue:{cell_height:27,cell_space:-1,content_offset:-1},
dhx_black:{cell_height:24,cell_space:1,content_offset:1},dhx_web:{cell_height:26,cell_space:9,content_offset:0,cell_pading_max:1,cell_pading_min:0},dhx_terrace:{cell_height:37,cell_space:-1,content_offset:-1}};this.sk=this.skinParams[this.skin];this.setSkinParameters=function(a,b){isNaN(a)||(this.sk.cell_space=a);isNaN(b)||(this.sk.content_offset=b);this._reopenItem()};this.setSkin=function(a){if(this.skinParams[a]){this.skin=a;this.sk=this.skinParams[this.skin];this.base.className="dhx_acc_base_"+
this.skin+(this._r?" dhx_acc_rtl":"");for(var b in this.idPull)this.idPull[b].skin=this.skin;this._reopenItem()}};this.idPull={};this.opened=null;this.cells=function(a){return this.idPull[a]==null?null:this.idPull[a]};this.itemH=90;this.multiMode=!1;this.enableMultiMode=function(){var a=0,b;for(b in this.idPull)a++;if(a==0)this.userOffset||(this.skinParams.dhx_skyblue.cell_space=3),this.multiMode=!0;this.skin=="dhx_terrace"&&(this.skinParams.dhx_terrace.cell_space=12)};this.userOffset=!1;this.setOffset=
function(a,b){this.userOffset=!0;isNaN(a)||(this.skinParams[this.skin].cell_space=a);isNaN(b)||(this.skinParams[this.skin].content_offset=b);this.setSizes()};this.imagePath="";this.setIconsPath=function(a){this.imagePath=a};this.addItem=function(a,c){if(this.multiMode)var d=this._lastVisible();var h=document.createElement("DIV");h.className="dhx_acc_item";h.dir="ltr";h._isAcc=!0;h.skin=this.skin;this.base.appendChild(h);if(this.multiMode)h.h=this.itemH;var i=document.createElement("DIV");i._idd=a;
i.className="dhx_acc_item_label";i.innerHTML="<span>"+c+"</span><div class='dhx_acc_item_label_btmbrd'>&nbsp;</div><div class='dhx_acc_item_arrow'></div><div class='dhx_acc_hdr_line_l'></div><div class='dhx_acc_hdr_line_r'></div>";i.onselectstart=function(a){a=a||event;a.returnValue=!1};i.onclick=function(){if(b.multiMode||!b.idPull[this._idd]._isActive)b.multiMode?(b.idPull[this._idd]._isActive?b.checkEvent("onBeforeActive")?b.callEvent("onBeforeActive",[this._idd,"close"])&&b.closeItem(this._idd,
"dhx_accord_outer_event"):b.closeItem(this._idd,"dhx_accord_outer_event"):b.checkEvent("onBeforeActive")?b.callEvent("onBeforeActive",[this._idd,"open"])&&b.openItem(this._idd,"dhx_accord_outer_event"):b.openItem(this._idd,"dhx_accord_outer_event"),b._autoHeightEnabled&&b.setSizes()):b.checkEvent("onBeforeActive")?b.callEvent("onBeforeActive",[this._idd,"open"])&&b.openItem(this._idd,"dhx_accord_outer_event"):b.openItem(this._idd,"dhx_accord_outer_event")};i.onmouseover=function(){this.className=
"dhx_acc_item_label dhx_acc_item_lavel_hover"};i.onmouseout=function(){this.className="dhx_acc_item_label"};h.appendChild(i);var l=document.createElement("DIV");l.className="dhxcont_global_content_area";h.appendChild(l);var n=new dhtmlXContainer(h);n.setContent(l);this.skin=="dhx_terrace"&&this._hideBorders===!0&&h._setPadding([0,-1,2,0]);h.adjustContent(h,this.sk.cell_height+this.sk.content_offset);h._id=a;this.idPull[a]=h;h.getId=function(){return this._id};h.setText=function(a){b.setText(this._id,
a)};h.getText=function(){return b.getText(this._id)};h.open=function(){b.openItem(this._id)};h.isOpened=function(){return b.isActive(this._id)};h.close=function(){b.closeItem(this._id)};h.setIcon=function(a){b.setIcon(this._id,a)};h.clearIcon=function(){b.clearIcon(this._id)};h.dock=function(){b.dockItem(this._id)};h.undock=function(){b.undockItem(this._id)};h.show=function(){b.showItem(this._id)};h.hide=function(){b.hideItem(this._id)};h.setHeight=function(a){b.setItemHeight(this._id,a)};h.moveOnTop=
function(){b.moveOnTop(this._id)};h._doOnAttachMenu=function(){b._reopenItem()};h._doOnAttachToolbar=function(){b._reopenItem()};h._doOnAttachStatusBar=function(){b._reopenItem()};h._doOnFrameContentLoaded=function(){b.callEvent("onContentLoaded",[this])};if(this.multiMode&&d!=null)d._isActive==!0?(this.idPull[d._id].adjustContent(this.idPull[d._id],this.sk.cell_height+this.sk.content_offset,null,null,this.sk.cell_space),this.idPull[d._id].updateNestedObjects()):this.idPull[d._id].style.height=this.sk.cell_height+
this.sk.cell_space+"px",d=null;var o=this._enableOpenEffect;this._enableOpenEffect=!1;this.openItem(a);this._enableOpenEffect=o;this.multiMode?this.setSizes():this._defineLastItem();return h};this.openItem=function(a,b,c){this.multiMode&&this._checkAutoHeight();if(!this._openBuzy)if(this._enableOpenEffect&&!c)(!this.multiMode||!this.idPull[a]._isActive)&&this._openWithEffect(a,null,null,null,null,b);else if(this.multiMode)for(var d in this.idPull){if(this.idPull[d]._isActive||d==a)this.idPull[d].style.height=
this.idPull[d].h+"px",this.idPull[d].childNodes[1].style.display="",this.skin=="dhx_web"&&this.idPull[d]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[d].adjustContent(this.idPull[d],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[d]==this._lastVisible()&&this.skin!="dhx_web"?0:this.sk.cell_space),this.idPull[d].updateNestedObjects(),this.idPull[d]._isActive=!0,this._updateArrows(),b=="dhx_accord_outer_event"&&d==a&&this.callEvent("onActive",
[a,!0])}else if(!a||!this.idPull[a]._isActive||c){var i=0;for(d in this.idPull)if(this.idPull[d].style.height=this.sk.cell_height+(this.idPull[d]!=this._lastVisible()&&d!=a?this.sk.cell_space:0)+"px",d!=a)this.idPull[d].childNodes[1].style.display="none",this.skin=="dhx_web"&&this.idPull[d]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.idPull[d]._isActive=!1,i+=this.idPull[d].offsetHeight;i=this.base.offsetHeight-i;if(a)this.idPull[a].style.height=i+"px",this.idPull[a].childNodes[1].style.display=
"",this.skin=="dhx_web"&&this.idPull[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=!0,b=="dhx_accord_outer_event"&&this.callEvent("onActive",[a,!0]);this._updateArrows()}};this._lastVisible=function(){for(var a=null,b=this.base.childNodes.length-1;b>=
0;b--)!this.base.childNodes[b]._isHidden&&!a&&(a=this.base.childNodes[b]);return a};this.closeItem=function(a,b){if(this.idPull[a]!=null&&this.idPull[a]._isActive&&!this._openBuzy)this._enableOpenEffect?this._openWithEffect(this.multiMode?a:null,null,null,null,null,b):(this.idPull[a].style.height=this.sk.cell_height+(this.idPull[a]!=this._lastVisible()?this.sk.cell_space:0)+"px",this.idPull[a].childNodes[1].style.display="none",this.skin=="dhx_web"&&this.idPull[a]._setPadding(this.skinParams[this.skin].cell_pading_min,
""),this.idPull[a]._isActive=!1,b=="dhx_accord_outer_event"&&this.callEvent("onActive",[a,!1]),this._updateArrows())};this._updateArrows=function(){for(var a in this.idPull){for(var b=this.idPull[a].childNodes[0],c=null,d=0;d<b.childNodes.length;d++)String(b.childNodes[d].className).search("dhx_acc_item_arrow")!=-1&&(c=b.childNodes[d]);if(c!=null)c.className="dhx_acc_item_arrow "+(this.idPull[a]._isActive?"item_opened":"item_closed"),c=null}};this.setText=function(a,c,d){if(b.idPull[a]!=null){for(var h=
b.idPull[a].childNodes[0],i=null,l=0;l<h.childNodes.length;l++)h.childNodes[l].tagName!=null&&String(h.childNodes[l].tagName).toLowerCase()=="span"&&(i=h.childNodes[l]);isNaN(d)?i.innerHTML=c:(i.style.paddingLeft=d+"px",i.style.paddingRight=d+"px")}};this.getText=function(a){if(b.idPull[a]!=null){for(var c=b.idPull[a].childNodes[0],d=null,h=0;h<c.childNodes.length;h++)c.childNodes[h].tagName!=null&&String(c.childNodes[h].tagName).toLowerCase()=="span"&&(d=c.childNodes[h]);return d.innerHTML}};this._initWindows=
function(a){if(window.dhtmlXWindows){if(!this.dhxWins&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",!a))return;var b=this.dhxWinsIdPrefix+a;if(this.dhxWins.window(b))this.dhxWins.window(b).show();else{var c=this,d=this.dhxWins.createWindow(b,20,20,320,200);d.setText(this.getText(a));d.button("close").hide();d.attachEvent("onClose",function(a){a.hide()});d.addUserButton("dock",99,this.dhxWins.i18n.dock,"dock");d.button("dock").attachEvent("onClick",
function(){c.cells(a).dock()})}}};this.dockWindow=function(a){if(this.idPull[a]._isUnDocked&&this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+a))this.dhxWins.window(this.dhxWinsIdPrefix+a).moveContentTo(this.idPull[a]),this.dhxWins.window(this.dhxWinsIdPrefix+a).close(),this.idPull[a]._isUnDocked=!1,this.showItem(a),this.callEvent("onDock",[a])};this.undockWindow=function(a){if(!this.idPull[a]._isUnDocked)this._initWindows(a),this.idPull[a].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+
a)),this.idPull[a]._isUnDocked=!0,this.hideItem(a),this.callEvent("onUnDock",[a])};this.setSizes=function(){this._reopenItem()};this.showItem=function(a){if(this.idPull[a]!=null&&this.idPull[a]._isHidden)this.idPull[a]._isUnDocked?this.dockItem(a):(this.idPull[a].className="dhx_acc_item",this.idPull[a]._isHidden=!1,this._defineLastItem(),this._reopenItem())};this.hideItem=function(a){if(this.idPull[a]!=null&&!this.idPull[a]._isHidden)this.closeItem(a),this.idPull[a].className="dhx_acc_item_hidden",
this.idPull[a]._isHidden=!0,this._defineLastItem(),this._reopenItem()};this.isItemHidden=function(a){return this.idPull[a]==null?void 0:this.idPull[a]._isHidden==!0};this._reopenItem=function(){var a=null,b;for(b in this.idPull)this.idPull[b]._isActive&&!this.idPull[b]._isHidden&&(a=b);this.openItem(a,null,!0)};this.forEachItem=function(a){for(var b in this.idPull)a(this.idPull[b])};this._enableOpenEffect=!1;this._openStep=10;this._openStepIncrement=5;this._openStepTimeout=10;this._openBuzy=!1;this.setEffect=
function(a){this._enableOpenEffect=a==!0?!0:!1};this._openWithEffect=function(a,b,c,d,i,l){if(this.multiMode){if(!i)this._openBuzy=!0,i=this._openStep,this.idPull[a]._isActive?(b=a,a=null,c=this.sk.cell_height+(this.idPull[b]!=this._lastVisible()?this.sk.cell_space:0),this.idPull[b].childNodes[1].style.display=""):(d=this.idPull[a].h,this.idPull[a].childNodes[1].style.display="");var n=!1;if(a){var o=parseInt(this.idPull[a].style.height||0)+i;o>d&&(o=d,n=!0);this.idPull[a].style.height=o+"px"}if(b)o=
parseInt(this.idPull[b].style.height)-i,o<c&&(o=c,n=!0),this.idPull[b].style.height=o+"px";i+=this._openStepIncrement;if(n){if(a)this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=!0;if(b)this.idPull[b].childNodes[1].style.display="none",this.idPull[b]._isActive=!1;this._updateArrows();this._openBuzy=!1;a&&l=="dhx_accord_outer_event"&&
this.callEvent("onActive",[a,!0]);b&&l=="dhx_accord_outer_event"&&this.callEvent("onActive",[b,!1])}else{var j=this;window.setTimeout(function(){j._openWithEffect(a,b,c,d,i,l)},this._openStepTimeout)}}else{if(!i&&(this._openBuzy=!0,i=this._openStep,a))this.idPull[a].childNodes[1].style.display="";if(!b||!c||!d){var d=c=0,k;for(k in this.idPull){var m=this.sk.cell_height+(this.idPull[k]!=this._lastVisible()&&k!=a?this.sk.cell_space:0);this.idPull[k]._isActive&&a!=k&&(b=k,c=m);k!=a&&(d+=m)}d=this.base.offsetHeight-
d}n=!1;if(a){var p=parseInt(this.idPull[a].style.height)+i;p>d&&(n=!0)}if(b){var s=parseInt(this.idPull[b].style.height)-i;s<c&&(n=!0)}i+=this._openStepIncrement;n&&(p=d,s=c);if(b)this.idPull[b].style.height=s+"px";if(a)this.idPull[a].style.height=p+"px";if(n){if(b)this.idPull[b].childNodes[1].style.display="none",this.idPull[b]._isActive=!1;if(a)this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),
this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=!0;this._updateArrows();this._openBuzy=!1;l=="dhx_accord_outer_event"&&a&&this.callEvent("onActive",[a,!0])}else j=this,window.setTimeout(function(){j._openWithEffect(a,b,c,d,i,l)},this._openStepTimeout)}};this.setActive=function(a){this.openItem(a)};this.isActive=function(a){return this.idPull[a]._isActive===!0?!0:!1};this.dockItem=function(a){this.dockWindow(a)};this.undockItem=function(a){this.undockWindow(a)};this.setItemHeight=function(a,
b){if(this.multiMode){if(b=="*")this.idPull[a].h_auto=!0;else{if(isNaN(b))return;this.idPull[a].h_auto=!1;this.idPull[a].h=b}this._reopenItem()}};this._checkAutoHeight=function(){var a=this.base.offsetHeight;this._autoHeightEnabled=!1;var b=[],c;for(c in this.idPull){if(!this._autoHeightEnabled&&this.idPull[c].h_auto)this._autoHeightEnabled=!0;this.idPull[c].h_auto&&this.idPull[c]._isActive?b.push(c):a=this.idPull[c]._isActive?Math.max(0,a-this.idPull[c].h):Math.max(0,a-this.idPull[c].offsetHeight)}if(b.length>
0)for(var d=Math.floor(a/b.length),i=0;i<b.length;i++)i==b.length-1?d=a:a-=d,this.idPull[b[i]].h=d};this.setIcon=function(a,b){if(this.idPull[a]!=null){for(var c=this.idPull[a].childNodes[0],d=null,i=0;i<c.childNodes.length;i++)c.childNodes[i].className=="dhx_acc_item_icon"&&(d=c.childNodes[i]);if(d==null)d=document.createElement("IMG"),d.className="dhx_acc_item_icon",c.insertBefore(d,c.childNodes[0]),this.setText(a,null,20);d.src=this.imagePath+b}};this.clearIcon=function(a){if(this.idPull[a]!=null){for(var b=
this.idPull[a].childNodes[0],c=null,d=0;d<b.childNodes.length;d++)b.childNodes[d].className=="dhx_acc_item_icon"&&(c=b.childNodes[d]);c!=null&&(b.removeChild(c),c=null,this.setText(a,null,0))}};this.moveOnTop=function(a){this.idPull[a]&&!(this.base.childNodes.length<=1)&&(this.base.insertBefore(this.idPull[a],this.base.childNodes[0]),this.setSizes())};this._defineLastItem=function(){if(!this.multiMode)for(var a=!1,b=this.base.childNodes.length-1;b>=0;b--)this.base.childNodes[b].className.search("last_item")>=
0?this.base.childNodes[b]._isHidden||a?this.base.childNodes[b].className=String(this.base.childNodes[b].className).replace(/last_item/gi,""):a=!0:!this.base.childNodes[b]._isHidden&&!a&&(this.base.childNodes[b].className+=" last_item",a=!0)};this.removeItem=function(a){var b=this.idPull[a],c=b.childNodes[0];c.onclick=null;c.onmouseover=null;c.onmouseout=null;c.onselectstart=null;c._idd=null;c.className="";for(b._dhxContDestruct();c.childNodes.length>0;)c.removeChild(c.childNodes[0]);c.parentNode&&
c.parentNode.removeChild(c);for(c=null;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);b._dhxContDestruct=null;b._doOnAttachMenu=null;b._doOnAttachToolbar=null;b._doOnAttachStatusBar=null;b.clearIcon=null;b.close=null;b.dock=null;b.getId=null;b.getText=null;b.hide=null;b.isOpened=null;b.open=null;b.setHeight=null;b.setIcon=null;b.setText=null;b.show=null;b.undock=null;b.parentNode&&b.parentNode.removeChild(b);b=null;this.idPull[a]=null;try{delete this.idPull[a]}catch(d){}};this.unload=function(){for(var a in this.skinParams){this.skinParams[a]=
null;try{delete this.skinParams[a]}catch(b){}}this.skinParams=null;for(a in this.idPull)this.removeItem(a);this.userOffset=this.unload=this.undockWindowunload=this.undockWindow=this.undockItem=this.w=this.skin=this.showItem=this.setText=this.setSkinParameters=this.setSkin=this.setSizes=this.setOffset=this.setItemHeight=this.setIconsPath=this.setIcon=this.setEffect=this.setActive=this.removeItem=this.openItem=this.multiMode=this.itemH=this.isActive=this.imagePath=this.hideItem=this.h=this.getText=
this.forEachItem=this.eventCatcher=this.enableMultiMode=this.dockWindow=this.dockItem=this.detachEvent=this.closeItem=this.clearIcon=this.checkEvent=this.cells=this.callEvent=this.attachEvent=this.addItem=this._updateArrows=this._reopenItem=this._lastVisible=this._initWindows=this.sk=this.idPull=null;if(this._isAccFS==!0)_isIE?window.detachEvent("onresize",this._doOnResize):window.removeEventListener("resize",this._doOnResize,!1),this._resizeTMTime=this._resizeTM=this._adjustToFullScreen=this._adjustAccordion=
this._doOnResize=this._isAccFS=null,document.body.className=String(document.body.className).replace("dhxacc_fullscreened",""),this.cont.obj._dhxContDestruct(),this.cont.dhxcont.parentNode&&this.cont.dhxcont.parentNode.removeChild(this.cont.dhxcont),this.cont.dhxcont=null,this.cont=this.cont.setContent=null;if(this.dhxWins)this.dhxWins.unload(),this.dhxWins=null;this.base.className="";this.base=null;for(a in this)try{delete this[a]}catch(c){}};this._initWindows();dhtmlxEventable(this);return this}else alert(this.i18n.dhxcontalert)}
dhtmlXAccordion.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page"};
(function(){dhtmlx.extend_api("dhtmlXAccordion",{_init:function(a){return[a.parent,a.skin]},icon_path:"setIconsPath",items:"_items",effect:"setEffect",multi_mode:"enableMultiMode"},{_items:function(a){for(var c=[],b=[],d=0;d<a.length;d++){var e=a[d];this.addItem(e.id,e.text);e.img&&this.cells(e.id).setIcon(e.img);e.height&&this.cells(e.id).setHeight(e.height);if(e.open===!0)c[c.length]=e.id;if(e.open===!1)b[b.length]=e.id}for(var f=0;f<c.length;f++)this.cells(c[f]).open();for(f=0;f<b.length;f++)this.cells(b[f]).close()}})})();
dhtmlXAccordion.prototype.loadJSON=function(a){var c={skin:"setSkin",icons_path:"setIconsPath",multi_mode:"enableMultiMode",effect:"setEffect"},b;for(b in c)if(typeof a[b]!="undefined")this[c[b]](a[b]);for(var d=null,e=0;e<a.cells.length;e++)if(this.addItem(a.cells[e].id,a.cells[e].text),typeof a.cells[e].icon!="undefined"&&this.setIcon(a.cells[e].id,a.cells[e].icon),typeof a.cells[e].height!="undefined"&&this.setItemHeight(a.cells[e].id,a.cells[e].height),typeof a.cells[e].open!="undefined")d=a.cells[e].id;
d!=null&&this.openItem(d)};
dhtmlXAccordion.prototype.loadXML=function(a,c){var b=this;this.callEvent("onXLS",[]);dhtmlxAjax.get(a,function(a){var e=a.xmlDoc.responseXML.getElementsByTagName("accordion")[0],f={0:!1,"true":!0,1:!0,y:!0,yes:!0},g={cells:[]};if(e.getAttribute("skin")!=null)g.skin=e.getAttribute("skin");if(e.getAttribute("iconsPath")!=null)g.icons_path=e.getAttribute("iconsPath");if(e.getAttribute("mode")=="multi")g.multi_mode=!0;if(f[e.getAttribute("openEffect")||0])g.effect=!0;for(var h=null,i=0;i<e.childNodes.length;i++)if(typeof e.childNodes[i].tagName!=
"indefined"&&String(e.childNodes[i].tagName).toLowerCase()=="cell"){var l=e.childNodes[i].getAttribute("id")||b._genStr(12),n=e.childNodes[i].firstChild.nodeValue||"";g.cells.push({id:l,text:n});if(e.childNodes[i].getAttribute("icon")!=null)g.cells[g.cells.length-1].icon=e.childNodes[i].getAttribute("icon");if(e.childNodes[i].getAttribute("height")!=null)g.cells[g.cells.length-1].height=e.childNodes[i].getAttribute("height");if(f[e.childNodes[i].getAttribute("open")||0])g.cells[g.cells.length-1].open=
!0}b.loadJSON(g);b.callEvent("onXLE",[]);typeof c=="function"&&c();b=c=null})};dhtmlx.skin="dhx_skyblue";
